(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1b33"],{"03a9":function(e,t){function a(e,t,a){var i=0,n=a.length;while(i<n){if(e(t,a[i]))return!0;i+=1}return!1}e.exports=a},"07fa":function(e,t,a){var i=a("2407");function n(e,t){return i(t,e,0)>=0}e.exports=n},"0948":function(e,t,a){var i=a("8fc1"),n=a("03a9"),o=a("d96b"),r=a("0246"),l=a("7f1a"),s=a("1012"),c=a("1cc1");function h(e,t,a,o){var r=i(e),l=i(t);function s(e,t){return d(e,t,a.slice(),o.slice())}return!n(function(e,t){return!n(s,t,e)},l,r)}function d(e,t,a,i){if(l(e,t))return!0;var n=c(e);if(n!==c(t))return!1;if(null==e||null==t)return!1;if("function"===typeof e["fantasy-land/equals"]||"function"===typeof t["fantasy-land/equals"])return"function"===typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t)&&"function"===typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e);if("function"===typeof e.equals||"function"===typeof t.equals)return"function"===typeof e.equals&&e.equals(t)&&"function"===typeof t.equals&&t.equals(e);switch(n){case"Arguments":case"Array":case"Object":if("function"===typeof e.constructor&&"Promise"===o(e.constructor))return e===t;break;case"Boolean":case"Number":case"String":if(typeof e!==typeof t||!l(e.valueOf(),t.valueOf()))return!1;break;case"Date":if(!l(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(e.source!==t.source||e.global!==t.global||e.ignoreCase!==t.ignoreCase||e.multiline!==t.multiline||e.sticky!==t.sticky||e.unicode!==t.unicode)return!1;break}var g=a.length-1;while(g>=0){if(a[g]===e)return i[g]===t;g-=1}switch(n){case"Map":return e.size===t.size&&h(e.entries(),t.entries(),a.concat([e]),i.concat([t]));case"Set":return e.size===t.size&&h(e.values(),t.values(),a.concat([e]),i.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var b=s(e);if(b.length!==s(t).length)return!1;var p=a.concat([e]),u=i.concat([t]);g=b.length-1;while(g>=0){var m=b[g];if(!r(m,t)||!d(t[m],e[m],p,u))return!1;g-=1}return!0}e.exports=d},1012:function(e,t,a){var i=a("88e0"),n=a("0246"),o=a("6361"),r=!{toString:null}.propertyIsEnumerable("toString"),l=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],s=function(){"use strict";return arguments.propertyIsEnumerable("length")}(),c=function(e,t){var a=0;while(a<e.length){if(e[a]===t)return!0;a+=1}return!1},h="function"!==typeof Object.keys||s?function(e){if(Object(e)!==e)return[];var t,a,i=[],h=s&&o(e);for(t in e)!n(t,e)||h&&"length"===t||(i[i.length]=t);if(r){a=l.length-1;while(a>=0)t=l[a],n(t,e)&&!c(i,t)&&(i[i.length]=t),a-=1}return i}:function(e){return Object(e)!==e?[]:Object.keys(e)},d=i(h);e.exports=d},"1cc1":function(e,t,a){var i=a("88e0"),n=i(function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)});e.exports=n},2407:function(e,t,a){var i=a("b245");function n(e,t,a){var n,o;if("function"===typeof e.indexOf)switch(typeof t){case"number":if(0===t){n=1/t;while(a<e.length){if(o=e[a],0===o&&1/o===n)return a;a+=1}return-1}if(t!==t){while(a<e.length){if(o=e[a],"number"===typeof o&&o!==o)return a;a+=1}return-1}return e.indexOf(t,a);case"string":case"boolean":case"function":case"undefined":return e.indexOf(t,a);case"object":if(null===t)return e.indexOf(t,a)}while(a<e.length){if(i(e[a],t))return a;a+=1}return-1}e.exports=n},6361:function(e,t,a){var i=a("0246"),n=Object.prototype.toString,o=function(){return"[object Arguments]"===n.call(arguments)?function(e){return"[object Arguments]"===n.call(e)}:function(e){return i("callee",e)}};e.exports=o},"7b03":function(e,t,a){var i=a("07fa"),n=a("7029"),o=n(function(e,t){var a=[],n=0,o=e.length;while(n<o)i(e[n],t)||i(e[n],a)||(a[a.length]=e[n]),n+=1;return a});e.exports=o},"7f1a":function(e,t,a){var i=a("7029"),n=i(function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t});e.exports=n},"8fc1":function(e,t){function a(e){var t,a=[];while(!(t=e.next()).done)a.push(t.value);return a}e.exports=a},a3b5:function(e,t,a){var i=a("03a9"),n=a("c96c"),o=n(function(e,t,a){var n=[],o=0,r=t.length;while(o<r)i(e,t[o],a)||i(e,t[o],n)||n.push(t[o]),o+=1;return n});e.exports=o},b245:function(e,t,a){var i=a("7029"),n=a("0948"),o=i(function(e,t){return n(e,t,[],[])});e.exports=o},cbe2:function(e,t,a){"use strict";a.r(t);var i=a("fc73"),n=a("030a");class o extends i["a"]{_spaceManager(){var e,t,a,i,o,r,l,s,c,h,d,g,b,p,u,m,f,v,x,y,C=this,O=C.config,L=C.getChildren("xAxis")&&C.getChildren("xAxis")[0],w=C.getChildren("yAxis")&&C.getChildren("yAxis")||[],k=O.legendposition,j=O.xDepth,A=O.yDepth,F=O.canvasBgDepth,S=O.canvasBaseDepth,T=O.canvasBasePadding,B=C.getChildren("canvas")[0],E=B.config.canvasBorderWidth,P=O.realTimeConfig&&O.realTimeConfig.showRTValue,_=O.borderWidth,D=O.canvasMarginTop,V=O.canvasMarginBottom,I=O.canvasMarginLeft,M=O.canvasMarginRight,z=O.minCanvasHeight,R=O.minCanvasWidth,N=O.minChartWidth,G=O.minChartHeight,W=O.height,H=O.width,Y=!1,X=!1,Z=O.origCanvasTopMargin,K=O.origCanvasBottomMargin,U=O.origCanvasLeftMargin,J=O.origCanvasRightMargin,q=[];for(O.canvasWidth-2*_<N&&(u=(O.canvasWidth-N)/2),O.canvasHeight-2*_<G&&(p=(O.canvasHeight-G)/2),C._allocateSpace({top:p||_,bottom:p||_,left:u||_,right:u||_}),d=0,i=w.length;d<i;d++)a=w[d],e=.7*O.availableWidth,x=a&&a.placeAxis(e)||{},q.push({axisIndex:d,spaceTaken:x}),a&&C._allocateSpace(x);O.yAxisSpaceAllocation=q,C._allocateSpace(C._manageActionBarSpace&&C._manageActionBarSpace(.225*O.availableHeight)||{}),C._manageLegendSpace&&O.showLegend&&C._manageLegendSpace(o),t=k===n["q"]?.6*O.availableHeight:.6*O.availableWidth,A&&(C._allocateSpace({bottom:A}),O.shift=j+T+S),F&&C._allocateSpace({right:F}),O.canvasWidth-2*E<R&&(f=(O.canvasWidth-R)/2),C._allocateSpace({left:f||E,right:f||E}),R>H-I-M&&(X=!0,r=O.canvasWidth-R,y=I+M,I=O.canvasMarginLeft=r*I/y,M=O.canvasMarginRight=r*M/y),c=I>O.canvasLeft?I-O.canvasLeft:0,h=M>H-O.canvasRight?M+O.canvasRight-H:0,C._allocateSpace({left:c,right:h}),X&&(y=U+J,b=O.canvasWidth,b>R&&(r=b-R,c=r*U/y,h=r*J/y),C._allocateSpace({left:c,right:h})),O.actualCanvasMarginRight=h,O.actualCanvasMarginBottom=s,C._manageChartMenuBar(t),t=.2*O.availableHeight,C._getSumValueSpace&&C._allocateSpace(C._getSumValueSpace(t)),t=.3*O.availableHeight,O.realtimeEnabled&&(P?C._allocateSpace(C._realTimeValuePositioning(t)):C._hideRealTimeValue()),C._resetViewPortConfig&&C._resetViewPortConfig(),C._setAxisScale&&C._setAxisScale(),t=.6*O.availableHeight,O.xAxisSpaceAllocation=v=L&&L.placeAxis(t),L&&C._allocateSpace(v),O.canvasHeight-2*E<z&&(m=(O.canvasHeight-z)/2),C._allocateSpace({top:m||E,bottom:m||E}),C._allocateSpace({bottom:S}),z>W-D-V&&(Y=!0,r=O.canvasHeight-z,y=D+V,D=O.canvasMarginTop=r*D/y,V=O.canvasMarginBottom=r*V/y),l=D>O.canvasTop?D-O.canvasTop:0,s=V>W-O.canvasBottom?V+O.canvasBottom-W:0,C._allocateSpace({top:l,bottom:s}),Y&&(y=Z+K,g=O.canvasHeight,g>z&&(r=g-z,l=r*Z/y,s=r*K/y),C._allocateSpace({top:l,bottom:s})),O.actualCanvasMarginTop=l,O.actualCanvasMarginLeft=c,B.setDimension({top:O.canvasTop,left:O.canvasLeft,width:O.canvasWidth,height:O.canvasHeight})}_postSpaceManagement(){var e,t,a=this,i=a.config,n=a.getChildren(),o=n.xAxis&&n.xAxis[0],r=n.legend&&n.legend[0],l=i.xDepth,s=a.getChildren("canvas");for(a.setAxisDimention&&a.setAxisDimention(),o&&a._allocateXAxisLabelSpace(o),o&&o.shiftLabels(-l,0),r&&r.postSpaceManager(),e=0;e<(s&&s.length);e++)t=s[e],t.setCanvasPadding();a.setAxisDimention&&a.setAxisDimention()}}var r=o,l=a("22b8"),s=a("bfae");let c=(e,t)=>e<t?t:e;class h extends l["a"]{getType(){return"axis"}__setDefaultConfig(){super.__setDefaultConfig(),this.components={labels:[]};let e=this.config;e.setAdaptiveMin=0,e.adjustDiv=1,e.axisNameWidth=n["D"],e.rotateAxisName=0,e.useEllipsesWhenOverflow=1,e.divLineColor=n["D"],e.divLineAlpha=n["D"],e.divLineThickness=n["D"],e.divLineIsDashed=n["D"],e.divLineDashLen=n["D"],e.divLineDashGap=n["D"],e.showAlternateGridColor=n["D"],e.alternateGridColor=n["D"],e.alternateGridAlpha=n["D"],e.showZeroPlane=1,e.zeroPlaneAlpha=80,e.showZeroPlaneValue=1,e.showZeroPlaneOnTop=1,e.showAxisLine=n["D"],e.axisLineThickness=n["D"],e.axisLineAlpha=n["D"],e.tickLength=0,e.trendlineToolText=n["D"],e.trendlineColor="333333",e.trendlineThickness=1,e.trendlineAlpha=n["D"],e.showTrendlinesOnTop=0,e.trendlinesAreDashed=0,e.trendlinesDashLen=5,e.trendlinesDashGap=2,e.isTrendZone=n["D"],e.showTrendlines=1,e.showTrendlineLabels=1,e.showLabels=1,e.maxLabelHeight=n["D"],e.rotateLabels=n["D"],e.slantLabel=0,e.showAxisValues=1,e.showTooltip=1,e.isActive=!0,e.drawLabels=!0,e.drawOnlyCategoryLine=!1,e.drawLabelsOpposit=!1,e.drawPlotlines=!0,e.drawAxisLine=!0,e.drawPlotBands=!0,e.drawAxisName=!0,e.drawAxisNameOpposit=!1,e.axisNameAlignCanvas=!1,e.drawAxisNameFromBottom=!1,e.drawTrendLines=!0,e.drawTrendLabels=!0,e.drawTick=!0,e.drawTickMinor=!0,e.animateAxis=!0,e.drawAxisLineWRTCanvas=!0,e.isRelativeAxisInverse=!1,e.axisIndex=0,e.uniqueClassName=0,e.viewPortRatio={},e.canvas={},e.axisRange={},e.drawnStaggerLines=n["D"],e.axisDimention={},e.forceZeroTick=!0,e.isZeroTickForced=!1,e.extremeLabels={firstLabel:{},lastLabel:{}},e._setRangeAgain=!1,e._defaultForceDecimal=n["D"],e._defaultDecimalPrecision=n["D"],e.rangeChanged=!1,e.dimensionChanged=!1,e.apparentScrollPos=0,e.visibleMin=n["D"],e.visibleMax=n["D"],e.setPadding=!1,e.trendLimits=n["D"]}configureAttributes(e){var t,a,i,o,r=Math.abs,l=this,h=l.config,d=l.getFromEnv("chart"),g=l.getFromEnv("dataSource"),b=d.config.is3D,p=g.chart,u=l.getFromEnv("number-formatter");t=h.rawAttr=e,h.referenceInfo=[],h.parsedTrendLabels=[],h.parsedVlineInfo=[],h.trendLines=t.trendlines,h.vTrendLines=t.vtrendlines,Object(n["vb"])(t,h),h.axisName=Object(n["xb"])(t.axisName),h.axisValuePadding=h.axisNamePadding||Object(n["Bb"])(t.axisValuePadding,4),h.axisNamePadding=h.axisNamePadding||Object(n["Bb"])(t.axisNamePadding,5),h.maxLabelWidthPercent=Object(n["Bb"])(t.maxLabelWidthPercent),h.maxLabelWidthPercent=r(h.maxLabelWidthPercent),h.minLabelWidthPercent=r(Object(n["Bb"])(t.minLabelWidthPercent)),h.numDivLines=Object(n["Bb"])(t.numDivLines,4),h.numDivLines=c(h.numDivLines,0),h.categoryNumDivLines=Object(n["Bb"])(t.numDivLines,0),h.axisValuePadding=c(h.axisValuePadding,0),h.isReverse=Object(n["Bb"])(t.isReverse,0),h.isOpposit=Object(n["Bb"])(t.isOpposit,0),h.isVertical=Object(n["Bb"])(t.isVertical,0),h.categoryDivLinesFromZero=1,h.axisMinValue=u.getCleanValue(t.axisMinValue),h.axisMaxValue=u.getCleanValue(t.axisMaxValue),h.zeroPlaneColor=Object(n["zb"])(t.zeroPlaneColor,t.divLineColor),h.zeroPlaneThickness=Object(n["zb"])(t.zeroPlaneThickness,t.divLineThickness),h.axisLineColor=Object(s["c"])(t.axisLineColor,t.axisLineAlpha),h.tickAlpha=Object(n["Bb"])(t.tickAlpha,h.axisLineAlpha),h.tickColor=Object(s["c"])(Object(n["zb"])(t.tickColor,t.axisLineColor),h.tickAlpha),h.tickWidth=Object(n["Bb"])(t.tickWidth,h.axisLineThickness),h.maxZoomLimit=Object(n["Bb"])(p.maxzoomlimit,d.maxzoomlimit,1e3),h.showVLines=Object(n["Bb"])(p.showvlines,1),h.showVLinesOnTop=Object(n["Bb"])(p.showvlinesontop,0),h.showVLineLabels=Object(n["Bb"])(p.showvlinelabels,this.showVLineLabels,1),h.showVLineLabelBorder=Object(n["Bb"])(p.showvlinelabelborder,1),h.rotateVLineLabels=Object(n["Bb"])(p.rotatevlinelabels,0),h.vLineColor=Object(n["zb"])(p.vlinecolor,"333333"),h.vLineLabelColor=Object(n["zb"])(p.vlinelabelcolor),h.vLineThickness=Object(n["zb"])(p.vlinethickness,1),h.vLineAlpha=Object(n["Bb"])(p.vlinealpha,80),h.vLineLabelBgColor=Object(n["zb"])(p.vlinelabelbgcolor,"ffffff"),h.vLineLabelBgAlpha=Object(n["Bb"])(p.vlinelabelbgalpha,b?50:100),h.staggerLines=Math.max(Object(n["Bb"])(p.staggerlines,2),2),h.staggerLines=c(h.staggerLines,1),h.trendlineValuesOnOpp=Object(n["zb"])(t.trendlineValuesOnOpp,t.trendlineValuesOnOpp,0),h.labelDisplay=Object(n["zb"])(t.labelDisplay,"auto").toLowerCase(),h.labelStep=Object(n["Bb"])(t.labelStep,1),h.labelStep=Math.round(h.labelStep),h.labelStep=c(h.labelStep,1),h.startPad=0,h.endPad=0,h._oriLabelStep=h.labelStep,h.showLimits=Object(n["Bb"])(t.showLimits,h.showAxisValues),h.showUpperLimit=t.showLimits,h.showDivLineValues=Object(n["Bb"])(t.showDivLineValues,h.showAxisValues),h.showCanvasBorder=d.getChildren("canvas")[0].config.showCanvasBorder?1:0,h.axisBreak=t.axisBreaks,h.isBreak=!!h.axisBreak,h.isBreak&&l._processAxisBreak(),a=Object(n["ab"])(t.axisNameBorderColor,n["b"]),a=a?Object(s["c"])(a,Object(n["Bb"])(t.axisNameBorderAlpha,t.axisNameAlpha,100)):n["b"],h.name=h.name||{},h.name.style={fontFamily:Object(n["zb"])(t.axisNameFont,t.outCanfontFamily),fontSize:Object(n["zb"])(t.axisNameFontSize,Object(n["ub"])(t.outCanfontSize))+n["y"],color:Object(s["c"])(Object(n["zb"])(t.axisNameFontColor,t.outCancolor),Object(n["Bb"])(t.axisNameFontAlpha,t.axisNameAlpha,100)),fontWeight:Object(n["Bb"])(t.axisNameFontBold,1)?"bold":n["n"],fontStyle:Object(n["Bb"])(t.axisNameFontItalic)?"italic":n["n"],border:a||t.axisNameBgColor?Object(n["Bb"])(t.axisNameBorderThickness,1)+"px solid":n["D"],borderColor:a,borderThickness:Object(n["Bb"])(t.axisNameBorderThickness,1),borderPadding:Object(n["Bb"])(t.axisNameBorderPadding,2),borderRadius:Object(n["Bb"])(t.axisNameBorderRadius,0),backgroundColor:t.axisNameBgColor?Object(s["c"])(t.axisNameBgColor,Object(n["Bb"])(t.axisNameBgAlpha,t.axisNameAlpha,100)):n["b"],borderDash:Object(n["Bb"])(t.axisNameBorderDashed,0)?Object(n["Y"])(Object(n["Bb"])(t.axisNameBorderDashLen,4),Object(n["Bb"])(t.axisNameBorderDashGap,2)):n["j"]},h.name.style.lineHeight=Object(n["Jb"])(h.name.style),i=Object(n["ab"])(p.trendvaluebordercolor,n["b"]),i=i?Object(s["c"])(i,Object(n["Bb"])(p.trendvalueborderalpha,p.trendvaluealpha,100)):n["b"],h.trend=h.trend||{},h.trend.trendStyle={fontFamily:Object(n["zb"])(p.trendvaluefont,t.outCanfontFamily),color:Object(n["zb"])(p.trendvaluefontcolor,t.trendlineColor,t.outCancolor,"333333"),fontSize:Object(n["Ab"])(p.trendvaluefontsize,Object(n["ub"])(t.outCanfontSize))+n["y"],fontWeight:Object(n["Bb"])(p.trendvaluefontbold)?"bold":n["n"],fontStyle:Object(n["Bb"])(p.trendvaluefontitalic)?"italic":n["n"],border:i||p.trendvaluebgcolor?Object(n["Bb"])(p.trendvalueborderthickness,1)+"px solid":"",borderColor:i,borderThickness:Object(n["Bb"])(p.trendvalueborderthickness,1),borderPadding:Object(n["Bb"])(p.trendvalueborderpadding,2),borderRadius:Object(n["Bb"])(p.trendvalueborderradius,0),backgroundColor:p.trendvaluebgcolor?Object(s["c"])(p.trendvaluebgcolor,Object(n["Bb"])(p.trendvaluebgalpha,p.trendvaluealpha,100)):n["b"],borderDash:Object(n["Bb"])(p.trendvalueborderdashed,0)?Object(n["Y"])(Object(n["Bb"])(p.trendvalueborderdashlen,4),Object(n["Bb"])(p.trendvalueborderdashgap,2)):n["j"]},h.trend.trendStyle.lineHeight=Object(n["Jb"])(h.trend.trendStyle),h.labels=h.labels||{},h.lines=h.lines||{},h.band=h.band||{},o=Object(n["ab"])(p.labelbordercolor,n["b"]),o=o?Object(s["c"])(o,Object(n["Bb"])(p.labelborderalpha,p.labelalpha,100)):n["b"],h.labels.style={fontFamily:Object(n["zb"])(t.labelFont,t.outCanfontFamily),fontSize:Object(n["Bb"])(t.labelFontSize,Object(n["ub"])(t.outCanfontSize))+n["y"],fontWeight:Object(n["Bb"])(t.labelFontBold)?"bold":n["n"],fontStyle:Object(n["Bb"])(t.labelFontItalic)?"italic":n["n"],color:Object(s["c"])(Object(n["zb"])(t.labelFontColor,t.outCancolor),Object(n["Bb"])(t.labelFontAlpha,100)),labelLink:p.labellink,border:o||p.labelbgcolor?Object(n["Bb"])(p.labelborderthickness,1)+"px solid":"",borderColor:o,borderThickness:Object(n["Bb"])(p.labelborderthickness,1),borderPadding:Object(n["Bb"])(p.labelborderpadding,2),borderRadius:Object(n["Bb"])(p.labelborderradius,0),backgroundColor:p.labelbgcolor?Object(s["c"])(p.labelbgcolor,Object(n["Bb"])(p.labelbgalpha,p.labelalpha,100)):n["b"],borderDash:Object(n["Bb"])(p.labelborderdashed,0)?Object(n["Y"])(Object(n["Bb"])(p.labelborderdashlen,4),Object(n["Bb"])(p.labelborderdashgap,2)):n["j"]},h.labels.style.lineHeight=Object(n["Jb"])(h.labels.style),h.numberFormatterFn=Object(n["zb"])(t.numberFormatterFn),h.apparentScrollPos=t.apparentScrollPos||h.apparentScrollPos,h.axisRange={},h.dataLimit={},h.axisEndLabelDisplaySpace={left:0,right:0,top:0,bottom:0},h.isConfigured=!0,h._defaultForceDecimal=n["D"],h._defaultDecimalPrecision=n["D"],h.lines.isDraw=Object(n["Bb"])(t.lines&&t.lines.isDraw,1),h.band.isDraw=Object(n["Bb"])(t.band&&t.band.isDraw,1)}createContainer(e,t,a){let i=this.getFromEnv("animationManager");return this.addContainer(e,i.setAnimation({container:a,attr:t,el:this.getContainer(e)||"group",component:this,label:"group"}))}createGroup(e,t,a,i="group"){let n=this.getFromEnv("animationManager");return n.setAnimation({container:a,attr:t,el:this.config[e]||"group",component:this,label:i})}getValuePadding(){var e=this.config;return{left:e.startPad,right:e.endPad}}draw(){var e,t,a,i,n=this,o=n.config,r=n.getFromEnv("chart"),l=r.config,s=o.isVertical,c=l.viewPortConfig,h=n.getChildren().limitUpdater,d=o.viewPortRatio||{};n._createContainer(),a=c.y*c.scaleY,i=c.x*c.scaleX,d.scaleX&&d.scaleY&&(d.scaleX!==c.scaleX||d.scaleY!==c.scaleY)?(d.scaleX=c.scaleX,d.scaleY=c.scaleY,n._drawComponents()):(s?(t=a-c.y*c.scaleY,o.axisContainer.transform("t0,"+t),o.axisLabelContainerTop.transform("t0,"+t)):(e=i-c.x*c.scaleX,o.axisContainer.transform("t"+e+",0"),o.axisLabelContainerTop.transform("t"+e+",0")),n._drawComponents()),n.addExtEventListener("internal.animationComplete",function(){h&&h.forEach(e=>{e.draw()})},n.getFromEnv("chartInstance")),n.addToEnv("prevScale",n.getScale().copy())}setScale(e){this.config.scale=e}getScale(){return this.config.scale}getLimit(){let e=this.config.axisRange;return{min:e.min,max:e.max,tickInterval:e.tickInterval}}getVisibleConfig(){let e=this.config;return{minValue:e.visibleMin,maxValue:e.visibleMax}}setAxisConfig(e){var t,a=this,i=a.config;for(t in e)e.hasOwnProperty(t)&&(i[t]=e[t])}getAxisConfig(e){var t=this,a=t.config;return e?a[e]:a}getVisibleLength(){var e=this,t=e.getVisibleConfig();return Math.abs(t.maxValue-t.minValue)}getAxisEndLabelDisplaySpace(){return this.config.axisEndLabelDisplaySpace||{}}getTicksLen(){let e=this.config.tickValues;return e&&e.tickValue.length||0}}var d=h;const g=[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"axis"}],b=[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"final"}],p={"text.appearing":b,"path.appearing":b,"rect.appearing":b},u={"text.appearing":g,"path.appearing":g,"rect.appearing":g,"scroller.appearing":g};var m={"initial.axis.numeric":u,"initial.axis.category":u,"initial.axis.log":u,"update.axis.numeric":p,"update.axis.category":p,"update.axis.log":p};function f(e,t){e=+e,t=+t;let a=t-e;return t=>a*t+e}var v=f,x=(e,t)=>e.filter(e=>0>t.indexOf(e)),y=x,C=a("a3b5"),O=a.n(C),L=a("a91a"),w=a("7b03"),k=a.n(w);let j={wrtVisible:!0},A="_label",F="normal",S=function(e,t){var a,i,o,r,l,s,c,h={labelfont:["fontFamily"],labelfontcolor:["fontColor"],labelfontsize:["fontSize",function(e){return e?Object(n["Bb"])(e)+"px":n["D"]}],labelfontbold:["fontWeight",function(e){return e?"bold":F}],labelfontitalic:["fontStyle",function(e){return e?"italic":F}],labelfontalpha:["fontAlpha"]},d=t.getFromEnv("dataSource").categories,g=d&&d[0]||{},b=function(e){return e},p=!1,u={};for(a in g)"category"===a||a in e||(i=g[a],e[a]=i);for(a in h)r=h[a],l=r[0],s=r[1]||b,i=e[a],o=e[l.toLowerCase()],(i!==n["D"]||o!==n["D"])&&((c=s(i))!==n["D"]||(c=s(o))!==n["D"])&&(u[l]=c,p=!0),p&&(e.style=u)},T=function(e){var t=this,a=t.getScale(),i=t.config,o=t.getFromEnv("chart"),r=o.config,l=i.axisDimention||(i.axisDimention={}),s=i.isReverse;l.opposite=Object(n["Bb"])(e.opposite,l.opposite),l.x=Object(n["Bb"])(e.x,l.x,r.canvasLeft),l.y=Object(n["Bb"])(e.y,l.y,r.canvasTop),l.axisLength=Object(n["Bb"])(e.axisLength,l.axisLength),i.isVertical?s?a.setRange([l.y+l.axisLength,l.y]):a.setRange([l.y,l.y+l.axisLength]):s?a.setRange([l.x+l.axisLength,l.x]):a.setRange([l.x,l.x+l.axisLength]),i.translation=t._computeTranslation()},B=function(e,t){var a,i,o,r,l=this,s=l.config,c=l.getFromEnv("dataSource").categories,h=c&&c[0]&&c[0].category,d=s.startPad||0,g=s.endPad||0,b=s.xAxisLabelMode;("categories"===b||"mixed"===b)&&([a,i]=Object(n["U"])(h,e=>+e.x)),[o,r]=l.getTrendLineLimits(),[t,e]=Object(n["U"])([o,r,a,i,t,e],e=>+e),s.originalMax=e,s.originalMin=t,e=s.isPercent?100:e+g,t=s.isPercent?0:t-d,l._setAxisRange({min:t,max:e}),s.axisRange.tickInterval!==n["D"]&&l._adjustNumberFormatter(s.axisRange.tickInterval)},E=function(){let e,t,a,i,o=this.config,r=o.trendLines||o.vTrendLines||o.trendPoints,l=r&&r[0]&&r[0].line||r&&r.point;return o.trendLimits?o.trendLimits:([e,t]=Object(n["U"])(l,e=>""===e.startvalue?n["D"]:+e.startvalue),[a,i]=Object(n["U"])(l,e=>""===e.endvalue?n["D"]:+e.endvalue),o.trendLimits=Object(n["U"])([e,t,a,i],e=>+e),o.trendLimits)},P=function(){var e,t,a,i,n,o,r,l,s,c,h,d=this,g=d.config,b=d.getFromEnv("animationManager"),p=this.getFromEnv("toolTipController"),u=g.axisRange,m=g.labels,f=m.style,v=d.components,x=u.max,y=u.min,C=g.axisContainer,O=g.extremeLabels,L=g.ticks,w=[],j={fontFamily:f.fontFamily,fontSize:f.fontSize,fontWeight:f.fontWeight,fontStyle:f.fontStyle,lineHeight:f.lineHeight};if(g.labels.isDraw)for(h=v.labels,c=v.labelIndexArr,C.css(j),t=0,a=c&&c.length;t<a;t+=1)e=c[t],l=L[e],n=`${l}${A}`,i=d.getGraphicalElement(n),r=h[e].config.props.label.attr,i=d.addGraphicalElement(n,b.setAnimation({el:i||"text",attr:r,container:C,data:{value:l},component:d,label:"text"})),r.tooltext?p.enableToolTip(i,r.tooltext):p.disableToolTip(i),l===x?O.lastLabel.graphic=i:l===y&&(O.firstLabel.graphic=i),w.push(n);for(s=k()(g.prevIntervalArr,w),e=0,a=s.length;e<a;e++)o=d.getGraphicalElement(s[e]),o&&d.removeGraphicalElement(o);g.prevIntervalArr=w},_=function(){var e,t,a,i,o,r,l,s,c,h,d,g,b,p,u,m,f=Math.ceil,v=this,x=v.config,y=v.getLinkedItem("canvas").getEffectiveDimensions(),C=x.axisDimention,O=v.getFromEnv("chart"),L=O.config,w=x.axisRange,k=x.isOpposit,A=x.labels,F=v.components,S=F.labels,T=A.style,B=O.getFromEnv("smartLabel"),E=x.isVertical,P=w.max,_=w.min,D=v.getFromEnv("number-formatter"),V=y.top,I=y.left,M=V+y.height,z=I+y.width,R=x.labelPadding,N=x.extremeLabels,G=E?C.x:C.y,W=C.opposite,H=x.labelMaxH,Y=x.labelMaxW,X=w.tickInterval,Z=Math.abs(v.getPixel(_,j)-v.getPixel(_+X,j)),K=[],U=x.ticks,J=0,q=x.isReverse,$=Object(n["Bb"])(v.getFromEnv("chart-attrib").showzeroplanevalue),Q=!0,ee=v.getLimit();if(B.useEllipsesOnOverflow(L.useEllipsesWhenOverflow),B.setStyle({fontSize:T.fontSize,fontFamily:T.fontFamily,lineHeight:T.lineHeight,fontWeight:T.fontWeight}),i=T.lineHeight,i&&-1!==i.indexOf("px")&&(i=parseFloat(i.replace("px",""))),0===$&&(Q=!1),x.labels.isDraw){if(x.drawLabelsOpposit&&(k=!k,G=W),c={fill:T.color,"line-height":i,"font-size":T.fontSize,opacity:1},a=x.labels.rotation,E?(x.labelMaxH>Z&&!x.tickValues&&(l=f(x.labelMaxH/Z)),c["text-anchor"]=k?n["v"]:n["r"]):(x.labelMaxW>Z&&!x.tickValues&&(l=f(x.labelMaxW/Z)),a?(c["text-anchor"]=k?n["v"]:n["r"],c["vertical-align"]="middle"):c["vertical-align"]=k?n["q"]:n["w"],d=I,g=L.width-z),l>x.labels.step&&(x.labels.step=l),s=x.numberFormatterFn?D[x.numberFormatterFn]:x.isPercent?D.percentValue:E?D.yAxis:D.xAxis,N.firstLabel={},N.lastLabel={},m=U.filter((e,t,a)=>0!==e||x.showZeroPlaneValue?(E||t===a.length-1||!(v.getPixel(e,j)+x.labelMaxW>z))&&(0==t%x.labels.step?(K[J++]=t,!0):!(!x.labels.drawLimitVal||0!==t&&t!==a.length-1)&&(K[J++]=t,!0)):Q&&(!Q||ee.max===e||ee.min===e)&&(K[J++]=t,!0)),x.isZeroTickForced&&-1!==m.indexOf(0)){let e;J=0,K=[],u=v.getPixel(0),m=m.filter((t,a,i)=>(e=v.getPixel(t),0===i[a+1]||0===i[a-1]?E?!(e+H>=u&&u>=e-H)&&(K[J++]=a,!0):!(e+Y>=u&&u>=e-Y)&&(K[J++]=a,!0):(K[J++]=a,!0)))}for(o=(E?Y:Z/2)*x.labels.step,r=E?Z/2:H,F.labelIndexArr=K.slice(),e=0,t=m.length;e<t;e+=1)b=m[e],S[K[e]]=S[K[e]]||{config:{props:{label:{}}}},h=Object.assign({},c),p=n["D"],(x.labels.drawNormalVal||b===_||b===P)&&(x.labels.drawLimitVal||b!==_&&b!==P)?b===_&&x.lowerLimitDisplay&&x.labels.drawLimitVal?(p=B.getSmartText(x.lowerLimitDisplay,o,r+i/2),h.text=p.text,h.tooltext=p.tooltext):b===P&&x.upperLimitDisplay&&x.labels.drawLimitVal?(p=B.getSmartText(x.upperLimitDisplay,o,r+i/2),h.text=p.text,h.tooltext=p.tooltext):(h.text=""+s.call(D,b,x.axisIndex),p=B.getOriSize(h.text)):h.text="",E?(h.x=k?(G||z)+R:(G||I)-R,h.y=v.getPixel(b,j),(q&&b===_&&x.lowerLimitDisplay||!q&&b===P&&x.upperLimitDisplay)&&p&&p.height>i&&(h["vertical-align"]=n["q"]),(q&&b===P&&x.upperLimitDisplay||!q&&b===_&&x.lowerLimitDisplay)&&p&&p.height>i&&(h["vertical-align"]=n["w"]),x.placeValuesInside&&(h["text-anchor"]=k?n["r"]:n["v"])):(h.x=v.getPixel(b,j),h.y=k?(G||V)-R:(G||M)+R,(!q&&b===_||q&&b===P)&&p&&p.width>2*d&&(h["text-anchor"]=n["v"]),(!q&&b===P||q&&b===_)&&p&&p.width>2*g&&(h["text-anchor"]=n["r"]),h["vertical-align"]=x.placeValuesInside?k?n["w"]:n["q"]:k?n["q"]:n["w"]),A.shiftX&&(h.x+=A.shiftX),A.shiftY&&(h.y+=A.shiftY),h.transform=Object(n["fb"])(a,h.x,h.y),S[K[e]].config.props.label.attr=h}},D=function(e){var t,a,i=e&&e.length,o=this.config,r=o.startPad||0,l=this.getFromEnv("chart"),s=0,c=o.tickValues={},h=c.tickValue=[],d=c.vline=[],g=c.tickIdMap={},b=o.endPad||0;for(o.hasCategory=1,t=0;t<i;t+=1)a=Object(n["T"])({},e[t]),a.vline?(a.startIndex=h.length-1,d.push(a)):(a.id&&(g[a.id.toLowerCase()]={tickObj:a,index:s}),(o.mapTickValuesById&&a.id||!o.mapTickValuesById)&&(S(a,l),h.push(a),h[s].label=Object(n["xb"])(h[s].label),s+=1));o.oriCatLen=s,this._setAxisRange({max:+Object(n["Lb"])(s-1+b,10),min:+Object(n["Lb"])(0-r,10),tickInterval:+Object(n["Lb"])(1,10)})},V=function(e,t){var a=this,i=a.config,n=i.labels;n.shiftX=e,n.shiftY=t},I=function(){let e,t,a,i,n,o=this,r=o.config,l=r.isVertical,s=o.getLinkedParent(),c=s.getChildContainer(),h=c.axisBottomGroup,d=c.axisTopGroup,g=-o.getTranslation(),b=l?`T0,${g}`:`T${g},0`;t=o.createContainer("axisNameGroup",{name:"dataset-Name-group"},h),e=o.createContainer("axisLineGroup",{name:"axis-Line-group"},d),a=o.createContainer("axisTrendGroupTop",{name:"dataset-Trend-group-top"},d),i=o.createContainer("axisLabelGroup",{name:"dataset-Label-group"},h),n=o.createContainer("axisLabelGroupTop",{name:"dataset-Label-group"},d),r.scrollerContainer=o.createGroup("scrollerContainer",{name:"scroller-container"},e,"scroller"),r.axisContainer=o.createGroup("axisContainer",{name:"dataset-axis",transform:b},i),r.axisLabelContainerTop=o.createGroup("axisLabelContainerTop",{name:"dataset-top-label",transform:b},n),r.axisAxisLineContainer=o.createGroup("axisAxisLineContainer",{name:"axis-line-tick"},e),r.axisTrendLabelContainer=o.createGroup("axisTrendLabelContainer",{name:"dataset-axis-trend-label"},a),r.axisNameContainer=o.createGroup("axisNameContainer",{name:"dataset-axis-name"},t),r.axisAxisLineContainerBottom=o.createGroup("axisAxisLineContainerBottom",{name:"axis-line-tick-bottom"},h)},M=function(e=0,t=0){var a,i=Math.max,n=this,o=n.config,r=n.getScale(),[l,s]=r.getDomain();1===o.oriCatLen&&(0===e&&(e=.5),0===t&&(t=.5)),a=e-o.startPad,o.startPad=i(o.startPad,e),o.endPad=i(o.endPad,t),0<a&&(o.setPadding=!0,n._setAxisRange({min:l-a,max:s+a})),!o.tickValues&&o.originalMax&&o.originalMin&&n.setDataLimit(o.originalMax,o.originalMin)},z=function(e){var t=this,a=t.config,i=a.tickValues&&a.tickValues.tickValue[e],o={};return i&&i.tooltext&&(o.label=i.label,i.tooltext=Object(n["wb"])(i.tooltext,[3],o)),{label:i&&(i.oriLabel||i.label),tooltext:i&&i.tooltext}},R="crisp",N="butt",G="eventArgs",W="_trend",H="_tick",Y="_label",X=function(e,t){var a,i,n=Math.round,o=!1,r=t%2;return e[1]===e[4]&&(a=e[1],i=n(a),e[1]=e[4]=r?i>a?i-.5:i+.5:i,o=!0),e[2]===e[5]&&(a=e[2],i=n(a),e[2]=e[5]=r?i>a?i-.5:i+.5:i,o=!0),{path:e,isCrisped:o}},Z=e=>(t,a)=>!!(e.minValue<=t&&e.maxValue>=t||e.minValue<=a&&e.maxValue>=a),K=e=>t=>!!(e.minValue<=t&&e.maxValue>=t),U={wrtVisible:!0},J=function(e){for(var t=0,a=e.length;t<a;t++)if(e[t].label||e[t].oriLabel)return t};function q(e,t){var a=Math.max;let i=0;return e.relativeAxis&&e.relativeAxis.config&&e.relativeAxis.config.axisNamePadding&&(i=a(e.relativeAxis.config.axisNamePadding,i)),e.isOpposit&&t.canvasMarginRight&&(i=a(i,t.canvasMarginRight-t.marginLeft-e.nameMaxW)),!e.isOpposit&&t.canvasMarginLeft&&(i=a(i,t.canvasMarginLeft-t.marginRight-e.nameMaxW)),i}Object(L["a"])({name:"cartesianAxisAnimation",type:"animationRule",extension:m});class $ extends d{constructor(){super(),this.config.referenceInfo=[],this.config.prevTicks=[],this.config.prevIntervalArr=[],this.config.prevTrendLabels=[],this.config.prevCategoryIntervalArr=[]}placeAxis(e){var t,a=this,i=a.getScale(),n=a.getFromEnv("chart"),o=a.getLinkedItem("scrollBar"),r=a.config.isVertical,l=a.config.isOpposit,s=a.config.isReverse,c=n.config,h={};return o&&(t=o.getLogicalSpace(),t&&(r?(n.config.shift=t.width+o.config.conf.padding,h[l?"right":"left"]=n.config.shift):(n.config.shift=t.height+o.config.conf.padding,h[l?"top":"bottom"]=n.config.shift),n._allocateSpace(h))),r?(s?i.setRange([c.canvasBottom,c.canvasTop]):i.setRange([c.canvasTop,c.canvasBottom]),a._placeVerticalAxis(e)):(s?i.setRange([c.canvasRight,c.canvasLeft]):i.setRange([c.canvasLeft,c.canvasRight]),a._placeHorizontalAxis(e))}_placeVerticalAxis(e){var t,a,i,o,r,l,s,c,h,d,g,b,p,u,m,f,v,x,y=Math.min,C=Math.max,O=this,L=O.config,w=O.getFromEnv("chart"),k=w.config,j=w.getFromEnv("smartLabel"),A=L.axisRange,F=L.minLabelWidthPercent,S=L.name,T=L.isOpposit,B=O.getFromEnv("number-formatter"),E=k.canvasHeight,P=L.labelPadding=Object(n["Bb"])(L.rawAttr.axisValuePadding,4),_=Object(n["Bb"])(L.rawAttr.axisNamePadding,5),D=L.useEllipsesWhenOverflow,V=L.name.style,I=L.trend.trendStyle,M=L.axisName,z=L.trendLines,R=L.drawLabelsOpposit,N=L.drawAxisNameOpposit,G=0,W=0,H=0,Y=0,X=0,Z=0,K={left:0,right:0},U="",J="",q=0,$=-1;if(F&&($=F/100*k.width),L.oriCanvasHeight=E,0>P&&(L.labelPadding=2),f=L.drawTick&&L.tickLength?L.axisLineThickness+L.tickLength:L.axisLineThickness,L.showAxisLine?(L.labelPadding=Object(n["Bb"])(P,2)+f,0>L.labelPadding&&(L.labelPadding=(0>L.axisLineThickness?0:f)+2),e-=L.axisLineThickness):(L.labelPadding=Object(n["Bb"])(P,2),0>L.labelPadding&&(L.labelPadding=2)),h=A.max,d=A.min,L.name.rotation=0,L.labels.step=L.labelStep,L.labels.isDraw=1,L.labels.drawNormalVal=L.showDivLineValues,L.labels.drawLimitVal=L.showLimits,q=V.lineHeight,q=+q.replace(/px/i,""),M&&q<e&&(e-=q),1!==L.showLimits&&1!==L.showDivLineValues&&(L.labels.isDraw=0),b=L.drawLabels?O._getVMaxLabelDimention(e-L.labelPadding):{width:0,height:0},(b.width+L.labelPadding>e&&!L.tickValues||0===b.width)&&(L.labels.isDraw=0),L.labels.isDraw&&(L.labelMaxW=b.width>$?b.width:$,L.labelMaxH=b.height,G=L.labelMaxW+L.labelPadding,H=G),L.drawTrendLines&&L.drawTrendLabels&&z&&z.length){for(o=L.isPercent?B.percentValue:L.isVertical?B.yAxis:B.xAxis,j.useEllipsesOnOverflow(k.useEllipsesWhenOverflow),j.setStyle({fontSize:I.fontSize,fontFamily:I.fontFamily,lineHeight:I.lineHeight,fontWeight:I.fontWeight}),t=0,a=z.length;t<a;t+=1)for(c=0,p=z[t].line&&z[t].line.length;c<p;c+=1)u=z[t].line[c],v=B.getCleanValue(Object(n["zb"])(u.startvalue,u.value,0)),x=Object(n["Bb"])(u.endvalue,v),v<=h&&v>=d&&x<=h&&x>=d&&(L.isOpposit&&(u.valueonright=1),m=Object(n["Bb"])(u.valueonright,0),s=1===m?u.endvalue||u.startvalue:u.startvalue||u.endvalue,g=Object(n["xb"])(u.origText||u.displayvalue||s||""),g===s&&(g=""+o.call(B,g)),m?g.length>J.length&&(J=g):g.length>U.length&&(U=g));for(b=j.getOriSize(J),Z=b.width+L.labelPadding,b=j.getOriSize(U),X=b.width+L.labelPadding,T?(Z>H&&Z>e&&(Z=e),H=C(H,Z+L.labelPadding),X>e-H&&(X=y(X,e-H))):(X>H&&X>e&&(X=e),H=C(H,X+L.labelPadding),Z>e-H&&(Z=y(Z,e-H))),t=0,a=z.length;t<a;t+=1)for(c=0,p=z[t].line&&z[t].line.length;c<p;c+=1)u=z[t].line[c],v=B.getCleanValue(Object(n["zb"])(u.startvalue,u.value,0)),x=Object(n["Bb"])(u.endvalue,v),g=1===+u.valueonright?u.origText||u.displayvalue||""+x||"":u.origText||u.displayvalue||""+v||"",g=Object(n["xb"])(""+g),(g===u.endvalue||g===u.startvalue)&&(g=""+o.call(B,g)),u.origText=g,m=Object(n["Bb"])(u.valueonright,0),l=m?j.getSmartText(g,Z,w.canvasHeight,D):j.getSmartText(g,H,w.canvasHeight,D),i=L.parsedTrendLabels[W++],i&&(i.attr.text=u.displayvalue=l.text,L.isOpposit&&(i.valueOnRight=1,i.attr["text-anchor"]=n["v"])),l.tooltext?(u.valueToolText=l.tooltext,i&&(i.valueToolText=u.valueToolText)):(delete u.valueToolText,i&&delete i.valueToolText)}return e+=q,!L.drawAxisName||0>=e-H-Z||""===M?(S.isDraw=!1,S.value=""):(j.setStyle({fontSize:V.fontSize,fontFamily:V.fontFamily,lineHeight:V.lineHeight,fontWeight:V.fontWeight}),S.isDraw=!0,L.rotateAxisName?(L.name.rotation=T?90:270,r=j.getSmartText(M,E,e-H-Z),S.value=M,L.nameMaxW=y(r.height),Y=L.nameMaxW+_):(r=j.getSmartText(M,e-H-Z,E),S.value=M,L.nameMaxW=y(r.width,e-H),L.nameMaxH=r.height,0<=L.axisNameWidth&&(L.nameMaxW=y(L.nameMaxW,L.axisNameWidth)),Y=L.nameMaxW+_)),T?(R?(K.left+=C(G,X),K.right+=Z):(K.left+=X,K.right+=C(G,Z)),N?(L.axisNamePadding=K.left+_,K.left+=Y):(L.axisNamePadding=K.right+_,K.right+=Y)):(R?(K.left+=X,K.right+=C(G,Z)):(K.left+=C(G,X),K.right+=Z),N?(L.axisNamePadding=K.right+_,K.right+=Y):(L.axisNamePadding=K.left+_,K.left+=Y)),S.isDraw&&L.axisNamePadding+L.nameMaxW>e&&(L.axisNamePadding=e-L.nameMaxW,Y=L.nameMaxW+L.axisNamePadding-H),K}_placeHorizontalAxis(e){var t,a,i,o,r,l,s,c,h,d,g,b,p,u,m,f,v,x,y,C,O=this,L=O.config,w=O.getFromEnv("chart"),k=w.config,j=w.getFromEnv("smartLabel"),A=L.axisRange,F=L.name,S=L.isOpposit,T=w.getFromEnv("number-formatter"),B=L.drawLabelsOpposit,E=L.drawAxisNameOpposit,P=0,_=k.canvasWidth,D=L.labelPadding=Object(n["Bb"])(L.rawAttr.axisValuePadding,4),V=Object(n["Bb"])(L.rawAttr.axisNamePadding,5),I=L.useEllipsesWhenOverflow,M=L.name.style,z=L.trend.trendStyle,R=L.axisName,N=L.vTrendLines,G=0,W=0,H=0,Y={top:0,bottom:0},X=0,Z=0;if(0>D&&(L.labelPadding=2),x=L.drawTick&&L.tickLength?L.axisLineThickness+L.tickLength:L.axisLineThickness,L.showAxisLine?(L.labelPadding=Object(n["Bb"])(D,2)+x,0>L.labelPadding&&(L.labelPadding=(0>L.axisLineThickness?0:x)+2),e-=L.axisLineThickness):(L.labelPadding=Object(n["Bb"])(D,2),0>L.labelPadding&&(L.labelPadding=2)),c=A.max,h=A.min,L.labels.rotation=0,L.labels.step=L.labelStep,L.labels.isDraw=1,L.labels.drawNormalVal=L.showDivLineValues,L.labels.drawLimitVal=L.showLimits,Z=M.lineHeight,Z=+Z.replace(/px/i,""),R&&Z<e&&(e-=Z),L.rotateLabels&&"stagger"!==L.labelDisplay&&"none"!==L.labelDisplay&&(L.labelDisplay="rotate"),1!==L.showLimits&&1!==L.showDivLineValues&&(L.labels.isDraw=0),f=L.drawLabels?O._getHMaxLabelDimention(e-L.labelPadding):{width:0,height:0},L.labels.rotation?f.width+L.labelPadding>e&&!L.tickValues&&(L.labels.isDraw=0):f.height+L.labelPadding>e&&!L.tickValues&&(L.labels.isDraw=0),L.labels.isDraw&&(L.labels.rotation?(L.labelMaxW=f.height,L.labelMaxH=f.width,P=f.width+L.labelPadding):(L.labelMaxW=f.width,L.labelMaxH=f.height,P=f.height+L.labelPadding),G=P),G=Math.max(G,L.labelPadding),b=G<=e?e-G:e,L.drawTrendLines&&L.drawTrendLabels&&N&&L.isActive)for(v=L.isPercent?O.getFromEnv("number-formatter").percentValue:L.isVertical?O.getFromEnv("number-formatter").yAxis:O.getFromEnv("number-formatter").xAxis,j.useEllipsesOnOverflow(k.useEllipsesWhenOverflow),j.setStyle({fontSize:z.fontSize,fontFamily:z.fontFamily,lineHeight:z.lineHeight,fontWeight:z.fontWeight}),i=0,o=N.length;i<o;i+=1)for(s=0,g=N[i].line&&N[i].line.length;s<g;s+=1)p=N[i].line[s],y=T.getCleanValue(Object(n["zb"])(p.startvalue,p.value,0)),C=Object(n["Bb"])(p.endvalue,y),y<=c&&y>=h&&C<=c&&C>=h&&(t=Object(n["Bb"])(p.valueonright,0),a=1===t?p.endvalue||p.startvalue:p.startvalue||p.endvalue,d=Object(n["xb"])(p.origText||p.displayvalue||a||""),d===a&&(d=""+v.call(w.getFromEnv("number-formatter"),d)),p.origText=d,u=j.getSmartText(d,w.canvasWidth,z.lineHeight,I),m=u.height+2,0>b-m?p.displayvalue="":(r=L.parsedTrendLabels[W++],r&&(r.attr.text=p.displayvalue=u.text),X=X<u.height?u.height:X),u.tooltext?(p.valueToolText=u.tooltext,r&&(r.valueToolText=p.valueToolText)):(delete p.valueToolText,r&&delete r.valueToolText));return b-=X,G+=X,b+=Z,e+=Z,!L.drawAxisName||0>=b||""===R?(F.isDraw=!1,F.value=""):(j.setStyle({fontSize:M.fontSize,fontFamily:M.fontFamily,lineHeight:M.lineHeight,fontWeight:M.fontWeight}),F.isDraw=!0,l=j.getSmartText(R,_,b),F.value=R,L.nameMaxW=_,L.nameMaxH=l.height,H=l.height+V,L.axisNamePadding=V+G,L.axisNamePadding+l.height>e&&(L.axisNamePadding=e-l.height,H=l.height+L.axisNamePadding-G)),S?(B?Y.bottom+=P+X:(Y.top+=P,Y.bottom+=X),L.trendBottomPadding=Y.bottom-X+2,E?Y.bottom+=H:Y.top+=H):(B?(Y.top+=P,Y.bottom+=X):Y.bottom+=P+X,L.trendBottomPadding=Y.bottom-X+2,E?Y.top+=H:Y.bottom+=H),Y}_parseCategoryPlotLine(){var e,t,a,i=this,o=i.config,r=o.axisRange,l=o.tickValues.tickValue,c=Object(s["c"])(o.divLineColor,o.divLineAlpha),h=o.divLineThickness,d=o.divLineIsDashed?Object(n["Y"])(o.divLineDashLen,o.divLineDashGap,h):n["j"],g=K(i.getVisibleConfig()),b=o._allTicks,p=b.length;if(e={stroke:c,"stroke-width":h,"stroke-dasharray":d},(!l[0]||l[0].x===n["D"]&&l[0].y===n["D"])&&o.lines.isDraw&&o.categoryNumDivLines)for(t=0;t<p;++t)a=b[t],g(a)&&a!==r.min&&a!==r.max&&i.setReferenceInfo({from:a,type:"line",layer:1,attr:e})}_drawComponents(){var e=this,t=e.config;t.drawAxisName&&e._drawAxisName(),t.drawAxisLine&&e._drawAxisLine(),t.tickValues?t.drawLabels&&e._drawCategory():t.drawLabels&&e._drawLabel(),t.drawTrendLines&&e.drawTrendLabel(),e._drawScrollBar()}drawTrendLabel(){let e,t,a,i,o,r,l,s,c,h,d,g,b,p,u,m,f=this,v=f.config,x=v.parsedTrendLabels,y=f.getFromEnv("animationManager"),C=this.getFromEnv("toolTipController"),L=v.axisTrendLabelContainer,w=v.isOpposit,k=v.labelPadding,j=v.vTrendLines,A=v.trendLines,F=v.axisDimention,S=f.getVisibleConfig(),T=S.minValue,B=S.maxValue,E=!0;for(u=0,m=x.length;u<m;u++)x[u].id=u+W;for(j?i=w?F.opposite-(v.trendBottomPadding||0):F.y+(v.trendBottomPadding||0):(i=w?F.opposite+(k||0):F.x-(k||0),o=w?F.x+(k||0):F.opposite+(k||0)),b=O()((e,t)=>e.attr.text===t.attr.text,v.prevTrendLabels,x),u=0,m=b.length;u<m;u++)g=f.getGraphicalElement(b[u].id),g&&f.removeGraphicalElement(g);if(v.prevTrendLabels=Object(n["T"])([],x),v.drawTrendLabels)for(u=0,m=x.length;u<m;u++)t=x[u],a=f.getGraphicalElement(u+W),l=+t.from,c=+t.to,E=!0,p=!isNaN(c),p?(s=l+(c-l)/2,(T>s||B<s)&&(E=!1)):(T>l||B<l)&&(E=!1),E?(j?(h=f.getPixel(l,U),d=c?f.getPixel(c,U):0,r=Object(n["Bb"])(t.isTrendZone,v.isTrendZone,1),p&&c!=l&&r?(t.attr.x=h+(d-h)/2,t.attr.y=i):(t.attr.x=c?d:h,t.attr.y=i)):A&&(h=f.getPixel(l,U),d=c?f.getPixel(c,U):0,e=Object(n["Bb"])(t.valueOnRight,0),r=Object(n["Bb"])(t.isTrendZone,v.isTrendZone,0),p&&c!=l&&r?(t.attr.x=e?o:i,t.attr.y=h+(d-h)/2):(t.attr.x=e?o:i,t.attr.y=c&&e?d:h)),a=f.addGraphicalElement(u+W,y.setAnimation({container:L,el:a||"text",attr:t.attr,css:t.css,data:{value:s||l},component:f,label:"text"})),v.showTooltip&&t.valueToolText?C.enableToolTip(a,t.valueToolText):C.disableToolTip(a)):a&&f.removeGraphicalElement(a);else for(u=0,m=x.length;u<m;u++)g=f.getGraphicalElement(x[u].id),g&&f.removeGraphicalElement(g)}_drawAxisName(){var e,t,a,i,o,r,l=Math.max,s=this,c=s.config,h=this.getFromEnv("toolTipController"),d=s.getLinkedItem("canvas").getEffectiveDimensions(),g=s.getFromEnv("animationManager"),b=d.left,p=d.top,u=d.width,m=d.height,f=p+m,v=s.getFromEnv("chart").config,x=c.name.style,y=c.name.value,C=c.isOpposit,O=c.isVertical,L=s.getFromEnv("smartLabel"),w=c.axisNameContainer,k=c.axisNamePadding,j=c.nameMaxH,A=c.nameMaxW,F=c.axisDimention,S=O?F.x:F.y,T=F.opposite,B=s.getGraphicalElement("axisName"),E=Object(n["Bb"])(c.name.rotation,O?90:270),P=s.getFromEnv("paper"),_={fontFamily:x.fontFamily,fontSize:x.fontSize,lineHeight:x.lineHeight,fontWeight:x.fontWeight,fontStyle:x.fontStyle};c.name.isDraw?(e={fontFamily:x.fontFamily,fill:x.color,"vertical-align":"middle","font-size":x.fontSize,"line-height":x.lineHeight},L.useEllipsesOnOverflow(v.useEllipsesWhenOverflow),L.setStyle({fontSize:x.fontSize,fontFamily:x.fontFamily,lineHeight:x.lineHeight,fontWeight:x.fontWeight}),c.drawAxisNameOpposit&&(C=!C,S=T),O?(k=l(k,q(c,v)),i=c.axisNameAlignCanvas||v.captionalignment&&"left"===v.captionalignment?m:l(m,c.oriCanvasHeight||0),E?(t=L.getSmartText(y,i,A),a=t.tooltext,o=t.width):(t=L.getSmartText(y,A,i),a=t.tooltext,o=t.height),r=c.drawAxisNameFromBottom?f-o/2:o>m?v.height/2:p+m/2,e.text=t.text,e.x=C?(S||b+u)+k+A/2:(S||b)-k-A/2,e.y=r):(t=L.getSmartText(y,u,j),a=t.tooltext,C&&v.canvasMarginTop&&(k=l(k,v.canvasMarginTop-v.marginTop-j)),!C&&v.canvasMarginBottom&&(k=l(k,v.canvasMarginBottom-v.marginBottom-j)),e.text=t.text,e.x=b+u/2,e.y=C?(S||p)-k-j/2:(S||f)+k+j/2),e["text-bound"]=""===t.text?[]:[x.backgroundColor,x.borderColor,x.borderColor?x.borderThickness:0,x.borderPadding,x.borderRadius,x.borderDash],e.transform=P.getSuggestiveRotation(O?E:0,e.x,e.y),B=s.addGraphicalElement("axisName",g.setAnimation({css:_,el:B||"text",attr:e,container:w,component:s,label:"text"})),c.showTooltip?h.enableToolTip(B,a):h.disableToolTip(B)):B&&s.removeGraphicalElement(B)}_drawAxisLine(){const e="axisLine";var t,a,i,o,r,l,s,c,h,d,g,b,p,u,m,f,v,x,C=this,O=C.config,L=O.isVertical,w=O.isOpposit,k=C.getFromEnv("chart"),j=C.getLinkedItem("canvas").getEffectiveDimensions(),A=C.getFromEnv("animationManager"),F=j.top,S=j.left,T=F+j.height,B=S+j.width,E=O.axisDimention,P=L?E.x:E.y,_=O.drawAxisLineWRTCanvas,D=k.getFromEnv("dataSource").chart,V=O.axisAxisLineContainerBottom,I=C.getGraphicalElement("axisLine"),M=[];if(o=1===Object(n["Bb"])(D.showyaxisline,D.showyaxisline)?Object(n["Bb"])(D.yaxislinethickness,D.pyaxislinethickness,1):0,O.showAxisLine){if(L?(w?(P=_?B:P,r=P+O.axisLineThickness/2):(P=_?S:P,r=P-O.axisLineThickness/2),f=X(["M",r,T,"L",r,F],O.axisLineThickness),i=f.path):(w?(P=_?F:P,r=P-O.axisLineThickness/2):(P=_?T:P,r=P+O.axisLineThickness/2),f=X(["M",S-o,r,"L",B,r],O.axisLineThickness),i=f.path),c={path:i,stroke:O.axisLineColor,"stroke-linecap":N,"stroke-width":O.axisLineThickness,"shape-rendering":f.isCrisped?R:n["D"]},O.drawTick&&O.tickLength)for(t={stroke:O.tickColor,"stroke-width":O.tickWidth},l=L?w?r+O.tickLength:r-O.tickLength:w?r-O.tickLength:r+O.tickLength,v=O.tickValues?O.tickValues.tickValue.map(e=>L?e.y:e.x):O.ticks,m=0,x=v.length;m<x;m+=1)b=v[m],p=`${b}${H}`,d=C.getGraphicalElement(p),s=C.getPixel(b,U),t.path=X(L?["M",r,s,"L",l,s]:["M",s,r,"L",s,l],O.tickWidth).path,h=A.setAnimation({el:d||"path",attr:t,data:{value:b,path:t.path},container:V,component:C,label:"path"}),d||C.addGraphicalElement(p,h),M.push(p);a=A.setAnimation({el:I||"path",attr:c,container:V,component:C,label:"path"}),I||C.addGraphicalElement(e,a),M.push(e)}for(u=y(O.prevTicks,M),m=0,x=u.length;m<x;m++)g=C.getGraphicalElement(u[m]),g&&C.removeGraphicalElement(g);O.prevTicks=M}_parseCategory(){var e,t,a,i,o,r,l,c,h,d,g,b,p,u,m,f,v,x,y,C,O,L,w,k,j,A,F,S,T,B=Math.abs,E=this,P=E.config,_=P.axisDimention||{},D=E.getFromEnv("chart"),V=D.getFromEnv("smartLabel"),I=E.components,M=I.labels,z=E.getLinkedItem("canvas").getEffectiveDimensions(),R=D.config,N=P.isOpposit,G=P.labels,W=G.style,H=P.isVertical,Y=z.top,X=z.left,Z=Y+z.height,K=X+z.width,J=P.labelPadding,q=H?_.x:_.y,$=_.opposite,Q=D.getFromEnv("dataSource").categories,ee={},te=P.tickValues.tickValue,ae=P.axisRange.min,ie=P.drawnStaggerLines,ne=(P.labelStep!==P.labels.step||1!==E.getZoom())&&"stagger"===P.labelDisplay;if(P.labels.isDraw)for(H&&(j=B(E.getPixel(0,U)-E.getPixel(0+P.axisRange.tickInterval,U)),P.labelMaxH>j&&(O=Math.ceil(P.labelMaxH/j)),O>P.labels.step&&(P.labels.step=O)),ne&&(k=2*B(E.getPixel(ae,U)-E.getPixel(ae+P.labels.step,U))*P.sWidthAdjstFactor-1),i=P.labels.rotation,F=i?P.labelMaxH:P.labelMaxW,S=i?P.labelMaxW:P.labelMaxH,P.drawLabelsOpposit&&(N=!N,q=$),Q&&Q[0]&&"auto"!==P.xAxisLabelMode&&(ee.fontFamily=Q[0].font,ee.fontSize=Q[0].fontsize,ee.color=Q[0].fontcolor),P.ParentCss=p={fontFamily:Object(n["zb"])(ee.fontFamily,W.fontFamily),fontSize:Object(n["zb"])(ee.fontSize,W.fontSize),fontWeight:Object(n["zb"])(W.fontWeight),fontStyle:Object(n["zb"])(W.fontStyle)},p.lineHeight=Object(n["Jb"])(p),y=E._getCategoryArr(),I.labelIndexArr=[],e=0,C=y.length;e<C;e+=1)T=y[e].index,t=te[T],v=y[e].value,I.labelIndexArr.push(T),h=Object(n["zb"])(t.font,t.labelfont),d=Object(n["zb"])(t.fontsize,t.labelfontsize),g=Object(n["zb"])(t.fontbold,t.labelfontbold)?Object(n["Bb"])(t.fontbold,t.labelfontbold,0)?"bold":n["n"]:n["D"],b=Object(n["zb"])(t.fontitalic,t.labelfontitalic)?Object(n["Bb"])(t.fontitalic,t.labelfontitalic,0)?"italic":n["n"]:n["D"],m=Object(s["c"])(Object(n["zb"])(t.fontcolor,t.labelfontcolor,ee.color,W.color),Object(n["Bb"])(t.labelalpha,P.rawAttr.labelFontAlpha,D.config.singleseries?n["D"]:t.alpha,100)),h||d||g||b?(c={},h&&(c.fontFamily=h),d&&(c.fontSize=d),g&&(c.fontWeight=g),b&&(c.fontStyle=b),c.lineHeight=d?Object(n["Jb"])(c):p.lineHeight):c=n["D"],(c||p)&&(r=(c||p).lineHeight,-1!==r.indexOf("px")&&(o=r.replace(/px/i,""),o=parseFloat(o))),!1===t.appliedSmartLabel&&(V.setStyle(t._ovrStyle||p),A=V.getSmartText(t.oriLabel||t.label,F,S),t.oriLabel=t.oriLabel||t.label,t.label=A.text,t.labelTooltext=A.labelTooltext,t.appliedSmartLabel=!0),f=E.getPixel(v,U),H?(a=t.label||"",l=+t.labelPadding||0,u={fill:m,"line-height":o,opacity:1,"text-anchor":N?n["v"]:n["r"],text:a,cursor:!R.singleseries&&t.link||t.labellink||W.labelLink?n["p"]:"",x:N?(q||K)+J:(q||X)-J,y:l?f+l:f}):(a=t.label||"",l=+t.labelPadding||0,u={fill:m,"line-height":o,opacity:1,text:a,cursor:!R.singleseries&&t.link||t.labellink||W.labelLink?n["p"]:"",x:f,y:N?(Y||q)-J:(q||Z)+J},i?(u["text-anchor"]=N?n["v"]:n["r"],u["vertical-align"]="middle"):(u["text-anchor"]=n["t"],u["vertical-align"]=N?n["q"]:n["w"]),ne?(L=t.labelCount%ie,L&&(!(o=t.style.lineHeight)&&(o=P.labels.style.lineHeight),w=o.replace(/px/i,"")*L,u.y=N?u.y-w:u.y+w),V.setStyle(t._ovrStyle||p),A=V.getSmartText(t.oriLabel||t.label,k,S),t.oriLabel=t.oriLabel||t.label,u.text=t.label=A.text,t.labelTooltext=A.labelTooltext,t.appliedSmartLabel=!0):l&&(N?u.y-=l:u.y+=l)),x={label:t.label,lineHeight:r,border:Object(n["Bb"])(t.borderthickness,t.labelborderthickness)?Object(n["Bb"])(t.borderthickness,t.labelborderthickness,1)+"px solid":"",borderColor:t.bordercolor||t.labelbordercolor?Object(s["c"])(t.bordercolor||t.labelbordercolor,Object(n["Bb"])(t.borderalpha,t.labelborderalpha,t.alpha,t.labelalpha,100)):n["b"],borderThickness:Object(n["Bb"])(t.borderthickness,t.labelborderthickness),borderPadding:Object(n["Bb"])(t.borderpadding,t.labelborderpadding),borderRadius:Object(n["Bb"])(t.borderradius,t.labelborderradius),backgroundColor:t.bgcolor||t.labelbgcolor?Object(s["c"])(t.bgcolor||t.labelbgcolor,Object(n["Bb"])(t.bgalpha,t.labelbgalpha,t.alpha,t.labelalpha,P.rawAttr.labelFontAlpha,100)):n["b"],borderDash:Object(n["Bb"])(t.borderdashed,t.labelborderdashed,0)?Object(n["Y"])(Object(n["Bb"])(t.borderdashlen,t.labelborderdashlen,4),Object(n["Bb"])(t.borderdashgap,t.labelborderdashgap,2)):0===Object(n["Bb"])(t.borderdashed,t.labelborderdashed)?n["j"]:W.borderDash},u["text-bound"]=t.label?[Object(n["zb"])(x.backgroundColor,W.backgroundColor),Object(n["zb"])(x.borderColor,W.borderColor),Object(n["zb"])(x.borderThickness,W.borderThickness),Object(n["zb"])(x.borderPadding,W.borderPadding),Object(n["zb"])(x.borderRadius,W.borderRadius),Object(n["zb"])(x.borderDash,W.borderDash)]:[],G.shiftX&&(u.x+=G.shiftX),G.shiftY&&(u.y+=G.shiftY),u.transform=Object(n["fb"])(i,u.x,u.y),M[T]=M[T]||{config:{props:{label:{}}}},M[T].config.props.label.attr=u,M[T].config.props.label.css=c}allocatePosition(){var e=this,t=e.config;t.tickValues?t.drawLabels&&e._parseCategory():t.drawLabels&&e._parseLabel()}_drawCategory(){var e,t,a,i,o,r,l,s,c,h,d,g,b=this,p=b.config,u=b.getFromEnv("chart"),m=u.config,f=p.labels,v=b.getFromEnv("animationManager"),x=f.style,y=this.getFromEnv("toolTipController"),C=p.axisContainer,L=b.config.categoryLabel||(b.config.categoryLabel=[]),w=function(e){return function(t){var a=this;u.plotEventHandler(a,t,e)}},k=p.tickValues.tickValue,j=[];if(p.labels.isDraw){for(C.css(p.ParentCss),l=b._getCategoryArr(),o=O()((e,t)=>e.value===t.value,p.prevCategoryIntervalArr,l),e=0,c=o.length;e<c;e++)d=b.getGraphicalElement(`${o[e].value}${Y}`),d&&b.removeGraphicalElement(d);for(p.prevCategoryIntervalArr=Object(n["T"])([],l),e=0,c=l.length;e<c;e+=1)j[e]=`${l[e].value}${Y}`;for(e=0,c=l.length;e<c;e+=1)g=l[e].index,t=k[g],h=b.components.labels[g].config,i=h.props.label.attr,s=b.getGraphicalElement(j[e]),a=v.setAnimation({el:s||"text",attr:i,container:C,data:{value:r},component:b,label:"text",css:h.props.label.css}),s||(b.addGraphicalElement(j[e],a),a.click(w("dataLabelClick")).hover(w("dataLabelRollOver"),w("dataLabelRollOut"))),a.data(G,{link:!m.singleseries&&t.link||t.labellink||x.labelLink,text:i.text,index:g}),t.labelTooltext?y.enableToolTip(a,t.labelTooltext):y.disableToolTip(a),L[g]=a}else for(e=0,c=p.prevCategoryIntervalArr.length;e<c;e++)d=b.getGraphicalElement(`${p.prevCategoryIntervalArr[e].value}${Y}`),d&&b.removeGraphicalElement(d)}_getCategoryArr(){var e,t,a,i,o,r,l,s,c,h,d=this,g=d.config,b=g.isVertical,p=0,u=0,m=[];for(e=g.tickValues.tickValue,i=J(e),a=e?e.length-1:0,b&&(c=Math.abs(d.getPixel(0,U)-d.getPixel(1,U)),g.labelMaxH>c&&(p=Math.ceil(g.labelMaxH/c)),p>g.labels.step&&(g.labels.step=p)),s=0<g.labels.step?g.labels.step:1,h=1!==d.getZoom(),r=this.getVisibleConfig(),t=i;t<=a;t+=s)if(o=e[t],o&&(l=Object(n["Bb"])(o.x,o.y,t),0!==Object(n["Bb"])(o.showlabel,g.showLabels,1))){if(h&&(l<r.minValue||l>r.maxValue)){o.labelCount=u++;continue}("auto"!==g.xAxisLabelMode&&"mixed"!==g.xAxisLabelMode||0!==g.showZeroPlane&&0!==g.showZeroPlaneValue||0!==l)&&(g.labels.drawNormalVal||g.labels.drawLimitVal&&(t==i||t==a))&&(g.labels.drawNormalVal||t==i||t==a)&&(g.labels.drawLimitVal||t!=i&&t!=a)&&(o.labelCount=u++,m.push({index:t,value:l}))}return m}getValue(e,t={wrtVisible:!1}){var a=this.getScale(),i=this.getTranslation(),n=a.getDomainValue(t.wrtVisible?e:e-i);return n}getPixel(e,t={wrtVisible:!1}){var a=this.getScale(),i=this.getTranslation(),n=a.getRangeValue(e);return t.wrtVisible?n:n+i}_getCustomPixel(e,t,a={wrtVisible:!1}){if(!t)return this.getPixel(e,a);var i=this.getScale().copy(),[n,o]=i.getRange(),r=Math.min(n,o),l=i.getRangeValue(e),s=this.getTranslation();return i.setRange([r,r+t]),a.wrtVisible?l:l+s}getTranslation(){return this.config.translation||0}setScrollType(e){("none"===e||"smart"===e||"always"===e)&&(this.config.scrollType=e,"none"===e?this.disableScroll():this.enableScroll())}getScrollType(){return this.config.scrollType}_createScrollBar(){var e,t,a,i,n=this,o=n.config,r=n.getFromEnv("chart"),l=n.getFromEnv("animationManager"),s=n.getLinkedItem("scrollBar");e=r.getFromEnv("toolbox"),a=r.getFromEnv("toolBoxAPI"),t=a.Scroller,s||n.setLinkedItem("scrollBar",s=new t),s.configure({isHorizontal:!o.isVertical},e.idCount,e.pId,n.getFromEnv("chartInstance").id),s.attachEventHandlers({scrollStart:function(e){i=e,r.fireChartInstanceEvent("scrollstart",{scrollPosition:e})},scroll:function(e){let t=o.axisRange.max,a=o.axisRange.min,i=n.getVisibleConfig(),s=i.minValue,c=i.maxValue,h=c-s,d=v(a,t-h),g=o.isReverse?d(1-e):d(e);n.setState("scrolling",!0),l.setAnimationState("scroll"),r.fireChartInstanceEvent("onScroll",{scrollPosition:e}),n.setVisibleConfig(g,g+h)},scrollEnd:function(e){r.fireChartInstanceEvent("scrollend",{scrollPosition:e,prevScrollPosition:i})}})}_disposeScrollBar(){var e=this,t=e.getLinkedItem("scrollBar");t&&(t.hide(),e.removeLinkedItem("scrollBar"))}_drawScrollBar(){var e,t,a,i,o,r,l,s,c,h,d,g,b,p,u,m,f,v=this,x=v.getFromEnv("chart"),y=v.config,C=y.axisRange,O=y.scrollOptions||(y.scrollOptions={}),L=C.max,w=C.min,k=O.vxLength,j=v.getLinkedItem("scrollBar"),A=x.getChildren("canvas")[0].config,F=y.scrollerContainer;j&&(e=A.canvasLeft,t=A.canvasTop,a=A.canvasHeight,i=A.canvasWidth,o=A.canvasBorderWidth,r=y.showAxisLine&&y.axisLineThickness||0,l=Object(n["Bb"])(o,y.lineStartExtension),s=Object(n["Bb"])(o,y.lineEndExtension),O.viewPortMin=w,O.viewPortMax=L,g=v.getVisibleConfig(),b=g.maxValue,p=g.minValue,u=b-p,m=C.max-C.min,c=u/m,f=(p-C.min)/(m-u),h=O.windowedCanvasWidth=v.getPixel(k,U),d=O.fullCanvasWidth=v.getPixel(L-w,U)-h,y.isVertical?j.draw(e,t,{height:a,scrollRatio:c,roundEdges:A.isRoundEdges,fullCanvasWidth:d,windowedCanvasWidth:h,scrollPosition:y.isReverse?1-f:f,parentLayer:F}):j.draw(e-l,t+a+o+r-2,{width:i+l+s,scrollRatio:c,roundEdges:A.isRoundEdges,fullCanvasWidth:d,windowedCanvasWidth:h,scrollPosition:f,parentLayer:F}))}enableScroll(){this.isScrollEnabled()||this._createScrollBar()}disableScroll(){this.isScrollEnabled()&&this._disposeScrollBar()}isScrollEnabled(){return!!this.getLinkedItem("scrollBar")}setVisibleConfig(e,t){let a,i=this,n=i.config,o=i.getZoom(),r=i.getScale();return!(e>=t||e<n.axisRange.min||t>n.axisRange.max)&&(a=r.setDomain([e,t]).getDomain(),n.visibleMin=a[0],n.visibleMax=a[1],n.zoom=i._computeZoom(),n.translation=i._computeTranslation(),(1!==o||1!==i.getZoom())&&(n.ticks=i.generateTicks(),n.minorTicks=i.generateMinorTicks(),n.tickValues&&i.calculateTicksOnLabelMode&&i.calculateTicksOnLabelMode()),i.decideScroll(),i.clearReferenceInfo(),i._parseReferenceVisuals(),i.fireEvent("visiblerangeset",{minValue:e,maxValue:t}),i.asyncDraw(),!0)}hide(){var e=this,t=e.config;t.axisContainer&&(t.axisLabelContainerTop.hide(),t.scrollerContainer.hide(),t.axisContainer.hide(),t.axisNameContainer.hide(),t.axisTrendLabelContainer.hide(),t.axisAxisLineContainer.hide(),t.axisAxisLineContainerBottom.hide())}show(){var e=this,t=e.config;t.axisContainer&&(t.axisLabelContainerTop.show(),t.scrollerContainer.show(),t.axisContainer.show(),t.axisNameContainer.show(),t.axisTrendLabelContainer.show(),t.axisAxisLineContainer.show(),t.axisAxisLineContainerBottom.show())}getZoom(){return this.config.zoom||1}_computeTranslation(){let e=this.config,t=this.getVisibleConfig(),a=Object(n["Bb"])(t.minValue,e.axisRange.min,0),i=Object(n["Bb"])(e.axisRange.min,t.minValue,0);return this.getPixel(a)-this.getPixel(i)}_computeZoom(){let e=this.config,t=this.getVisibleConfig(),a=Object(n["Bb"])(t.minValue,e.axisRange.min,0),i=Object(n["Bb"])(t.maxValue,e.axisRange.max,1),o=Object(n["Bb"])(e.axisRange.min,t.minValue,0),r=Object(n["Bb"])(e.axisRange.max,t.maxValue,1),l=e.maxZoomLimit,s=(r-o)/(i-a);return s>l?l:s}getTickValues(){var e=this.config.tickValues;return e&&e.tickValue||[]}dataLabels(e){var t=this,a=t.config.axisIndex,i=t.getFromEnv("number-formatter");return i.dataLabels(e,a)}getAxisBase(){let{minValue:e,maxValue:t}=this.getVisibleConfig();return 0>e&&0<t?0:0>=t?t:e}_parseReferenceVisuals(){var e,t,a=this,i=a.config,n=a.getTickValues(),o=n.length,r=a.getFromEnv("chartConfig").is3D;i.isActive||(e=i.lines.isDraw,t=i.band.isDraw,i.lines.isDraw=0,i.band.isDraw=0),i.tickValues?i.drawLabels&&a._parseCategoryLine(n,0,o):i.drawPlotlines&&a._parsePlotLine(),i.tickValues&&"auto"!==i.xAxisLabelMode?(i.drawPlotlines&&!r&&a._parseCategoryPlotLine(),i.drawPlotBands&&!r&&a._parseCategoryPlotBand(),"mixed"===i.xAxisLabelMode&&i.drawPlotBands&&!r&&a._parsePlotBand()):i.drawPlotBands&&!r&&a._parsePlotBand(),i.isActive||(i.lines.isDraw=e,i.band.isDraw=t),i.drawTrendLines&&a._parseTrendLine()}_parseCategoryPlotBand(){var e,t,a,i,o,r=this,l=r.config,c=l.tickValues.tickValue,h=l.showAlternateGridColor,d=l.alternateGridColor,g=l.alternateGridAlpha,b=l._allTicks,p=r.getLimit(),u=p.min,m=p.max,f=Z(r.getVisibleConfig());if((!c[0]||c[0].x===n["D"]&&c[0].y===n["D"])&&h&&l.band.isDraw&&l.categoryNumDivLines)for(e={fill:Object(n["Mb"])(Object(s["c"])(d,g)),"stroke-width":0},t=0,o=0;o<b.length;++t,++o)f(b[o],b[o+1])&&(a=b[o],0==t%2)&&(i=b[o+1],i!==n["D"])&&(a===u&&(a="canvasStart"),i===m&&(i="canvasEnd"),r.setReferenceInfo({from:a,to:i,layer:0,type:"band",attr:e}))}_parseTrendLine(){var e,t,a,i,o,r,l,c,h,d,g,b,p,u,m,f,v,x,y,C,O=this,L=O.config,w=L.isVertical,k=L.axisIndex,j=O.getFromEnv("chart-attrib"),A=O.getFromEnv("number-formatter"),F=L.axisRange,S=F.max,T=F.min,B=L.trend.trendStyle,E={fontFamily:B.fontFamily,fontSize:B.fontSize,lineHeight:B.lineHeight,fontWeight:B.fontWeight,fontStyle:B.fontStyle},P=L.vTrendLines,_=L.trendLines,D=0;if(l=_||P,l)for(a=0,i=l.length;a<i;a+=1)for(e=0,t=l[a].line&&l[a].line.length;e<t;e+=1)g=l[a].line[e],v=w?"yAxis":"xAxis",u=g.startvalue||g.value||0,u=A.getCleanValue(Object(n["zb"])(g.startvalue,g.value,0)),m=+g.endvalue||n["D"],o=Object(n["hb"])(Object(n["xb"])(Object(n["zb"])(l[a].line[e].tooltext,l[0].tooltext,L.trendlineToolText))),o=Object(n["wb"])(o,[7,15,16,17,18,19],{startValue:u,startDataValue:A[v](u,k),endValue:m||u,endDataValue:A[v](m||u,k),axisName:L.axisName},g),!(u>S||u<T||m>S||m<T)&&(P?(b=Object(n["xb"])(g.displayvalue||""),c=Object(n["Bb"])(g.istrendzone,L.isTrendZone,1),m!==n["D"]&&""!==m&&m!==u&&c?(h={fill:Object(s["c"])(Object(n["zb"])(g.color,L.trendlineColor),Object(n["zb"])(g.alpha,L.trendlineAlpha,40)),"stroke-width":0},d={fill:Object(s["c"])(Object(n["zb"])(g.color,B.color),Object(n["zb"])(g.alpha,L.trendlineAlpha,99)),"vertical-align":n["w"],text:b}):(f=Object(n["Bb"])(g.thickness,L.trendlineThickness,1),h={stroke:Object(s["c"])(Object(n["zb"])(g.color,L.trendlineColor),Object(n["zb"])(g.alpha,L.trendlineAlpha,99)),"stroke-width":f,"stroke-dasharray":Object(n["zb"])(g.dashed,L.trendlinesAreDashed)===n["o"]?Object(n["Y"])(Object(n["Bb"])(g.dashlen,L.trendlinesDashLen),Object(n["Bb"])(g.dashgap,L.trendlinesDashGap)):n["j"]},d={fill:Object(s["c"])(Object(n["zb"])(g.color,B.color),Object(n["zb"])(g.alpha,L.trendlineAlpha,99)),"vertical-align":n["w"],text:b})):_&&(b=Object(n["zb"])(Object(n["xb"])(g.displayvalue),g.startvalue,""),p=Object(n["Bb"])(g.valueonright,0),c=Object(n["Bb"])(g.istrendzone,L.isTrendZone,0),m!==n["D"]&&""!==m&&m!==u&&c?(h={fill:Object(s["c"])(Object(n["zb"])(g.color,L.trendlineColor),Object(n["zb"])(g.alpha,L.trendlineAlpha,40)),"stroke-width":0},d={"text-anchor":p?n["v"]:n["r"],fill:Object(s["c"])(Object(n["zb"])(g.color,B.color),Object(n["zb"])(g.alpha,L.trendlineAlpha,99)),text:b}):(f=Object(n["Bb"])(g.thickness,L.trendlineThickness,1),h={stroke:Object(s["c"])(Object(n["zb"])(g.color,L.trendlineColor),Object(n["zb"])(g.alpha,L.trendlineAlpha,99)),"stroke-width":f,"stroke-dasharray":Object(n["zb"])(g.dashed,L.trendlinesAreDashed)===n["o"]?Object(n["Y"])(Object(n["Bb"])(g.dashlen,L.trendlinesDashLen),Object(n["Bb"])(g.dashgap,L.trendlinesDashGap)):n["j"]},d={"text-anchor":p?n["v"]:n["r"],fill:Object(s["c"])(Object(n["zb"])(g.color,B.color),Object(n["zb"])(g.alpha,g.alpha,L.trendlineAlpha,99)),text:b})),d["text-bound"]=d.text?[B.backgroundColor,B.borderColor,B.borderThickness,B.borderPadding,B.borderRadius,B.borderDash]:[],L.showTooltip&&o||(o=""),r=L.forceTrendBelow?0:Object(n["Bb"])(g.showontop,j.showtrendlinesontop,0),w?(x=u,C=m===n["D"]?u:m):(x=m===n["D"]?u:m,C=u),y=c&&x!==C?"band":"line",x!==n["D"]&&O.setReferenceInfo({from:x,to:C,toolText:o,attr:h,layer:r?3:2,type:y,id:"trend"+D+y}),L.parsedTrendLabels.push({css:E,valueOnRight:p,isTrendZone:c,from:u,to:m,attr:d}),D+=1)}_parsePlotLine(){var e,t,a,i,o,r=this,l=r.config,c=l.axisRange,h=c.max,d=c.min,g=K(r.getVisibleConfig()),b=l.showCanvasBorder,p=Object(s["c"])(l.divLineColor,l.divLineAlpha),u=l.divLineThickness,m=l.divLineIsDashed?Object(n["Y"])(l.divLineDashLen,l.divLineDashGap):n["j"],f=Object(s["c"])(l.zeroPlaneColor,l.zeroPlaneAlpha),v=l.zeroPlaneThickness,x=l._allTicks,y=x.length,C=l.showZeroPlaneOnTop,O=l.minorTicks,L=O&&O.length;if(l.lines.isDraw)for(t=0;t<y;++t)e=x[t],g(e)&&(i={"stroke-dasharray":m},!(0===l.showZeroPlane&&0===e||b&&(e===h||e===d)))&&(0===e&&e!==d&&e!==h?(i.stroke=f,i["stroke-width"]=v,C=l.showZeroPlaneOnTop):(C=0,i.stroke=p,i["stroke-width"]=u),r.setReferenceInfo({type:"line",from:e,layer:0===e&&C?3:1,attr:i}));for(o={stroke:l.minorDivlinecolor,"stroke-width":l.minorDivLineThickness,"stroke-dasharray":m},t=0;t<L;++t)a=O[t],r.setReferenceInfo({type:"line",from:a,layer:1,attr:o})}_parseCategoryLine(e,t,a){var i,o,r,l,c,h,d=this,g=d.config,b=d.getFromEnv("color-manager"),p=d.getFromEnv("chartInstance"),u=p.getJSONData().categories,m={};if(t=t||0,a=a||e?e.length-1:0,g.drawPlotlines)for(h=1!==d.getZoom(),r=this.getVisibleConfig(),u&&u[0]&&(m.verticalLineColor=u[0].verticallinecolor,m.verticalLineAlpha=u[0].verticallinealpha,m.verticalLineThickness=u[0].verticallinethickness,m.verticalLineDashed=u[0].verticallinedashed,m.verticalLineDashLen=u[0].verticallinedashlen,m.verticalLineDashGap=u[0].verticallinedashgap),i=t;i<=a;i+=1)o=e[i],o&&(c=Object(n["Bb"])(o.x,o.y,i),1===+o.showverticalline)&&(h&&(c<r.minValue||c>r.maxValue)||(l={stroke:Object(s["c"])(Object(n["zb"])(o.linecolor,m.verticalLineColor,g.divLineColor,b.getColor("divLineColor")),Object(n["zb"])(o.linealpha,m.verticalLineAlpha,b.getColor("divLineAlpha"))),"stroke-width":Object(n["Bb"])(o.linethickness,m.verticalLineThickness,1)},l["stroke-dasharray"]=Object(n["Bb"])(o.linedashed,m.verticalLineDashed,0)?Object(n["Y"])(Object(n["Bb"])(o.linedashLen,m.verticalLineDashLen,4),Object(n["Bb"])(o.linedashgap,m.verticalLineDashGap,2),l["stroke-width"]):n["j"],d.setReferenceInfo({type:"line",from:c,layer:1,attr:l})))}_parsePlotBand(){var e,t,a,i,o,r,l=Math.min,c=Math.max,h=this,d=h.config,g=d.showAlternateGridColor,b=d.alternateGridColor,p=d.alternateGridAlpha,u=d._allTicks,m=Z(h.getVisibleConfig()),f=d.isReverse;if(g&&d.band.isDraw)for(t=1,e={fill:Object(n["Mb"])(Object(s["c"])(b,p)),"stroke-width":0},i=0,a=u.length;i<a;++i,++t)m(u[i],u[i+1])&&0==t%2&&u[i+1]!==n["D"]&&(r=f?c(u[i],u[i+1]):l(u[i],u[i+1]),o=f?l(u[i],u[i+1]):c(u[i],u[i+1]),h.setReferenceInfo({from:r,to:o,type:"band",layer:0,attr:e}))}getReferenceInfo(){return this.config.referenceInfo}setReferenceInfo(e){this.config.referenceInfo.push(e)}clearReferenceInfo(){let e=this.config;e.referenceInfo=[],e.parsedTrendLabels=[],e.parsedVlineInfo=[]}resetStoredLimits(){this.config.dataLimit={}}decideScroll(){let e=this,t=e.getScrollType();"always"===t||"smart"===t&&1!==e.getZoom()?e.enableScroll():e.disableScroll()}getAxisDimension(){let{x:e,y:t,opposite:a,axisLength:i}=this.config.axisDimention;return{x:e,y:t,opposite:a,axisLength:i}}}$.prototype.setAxisDimention=T,$.prototype.shiftLabels=V,$.prototype._createContainer=I;var Q=$;const ee=3,te=10;class ae extends Q{_getHMaxLabelDimention(e){function t(e,t){switch(t.toLowerCase()){case"left":return W(Y._getCustomPixel(e));case"right":return W(K.width-Y._getCustomPixel(e))}}var a,i,o,r,l,s,c,h,d,g,b,p,u,m,f,v,x,y,C,O,L,w,k,j,A,F,S,T,B,E,P,_,D,V,I,M,z=Math.ceil,R=Math.max,N=Math.floor,G=Math.min,W=Math.abs,H=Number.POSITIVE_INFINITY,Y=this,X=Y.config,Z=Y.getFromEnv("chart"),K=Z.config,U=Z.getFromEnv("smartLabel"),q=X.axisRange,$=X.labels,Q=X.labelDisplay,ae=X.slantLabel,ie=$.style,ne=X.maxLabelHeight,oe=Y.getInterval(),re=X.staggerLines,le=X.labelStep,se=K.canvasLeft,ce=K.canvasRight,he=re-2,de=q.max,ge=q.min,be=0,pe=X.tickValues&&X.tickValues.tickValue,ue=pe&&pe.length,me=Z.distributedColumns,fe=0,ve={text:n["D"],width:0,style:n["D"]},xe=0,ye=4,Ce=n["Kb"],Oe=n["Kb"],Le=n["Kb"],we={},ke=0,je=!1,Ae=0,Fe=!1,Se=H,Te=X.ticks,Be=H;if(me)for(x=0;x<ue;x++)pe[x+1]?pe[x].x&&(pe[x].plotWidth=Y.getPixel(pe[x+1].x-pe[x].x)-Y.getPixel(0)):pe[x].plotWidth=Y.getPixel(K.canvasRight-pe[x].x)-Y.getPixel(0);if(X.tickValues&&(!pe||0===pe.length))return{width:0,height:0};if("rotate"===Q&&(X.rotateLabels=1),X.tickValues||(X.irregularCatAxis=!1),X.sWidthAdjstFactor=i=0==he?1:1==he?1.5:he,U.useEllipsesOnOverflow(K.useEllipsesWhenOverflow),U.setStyle({fontSize:ie.fontSize,fontFamily:ie.fontFamily,lineHeight:ie.lineHeight,fontWeight:ie.fontWeight}),X.irregularCatAxis){for(pe.sort(function(e,t){return e.x-t.x}),x=0,fe=pe.length;x<fe;x++){if(l=pe[x],"undefined"!=typeof k){if(Be=W(l.x-k),S=W(Y._getCustomPixel(ge)-Y._getCustomPixel(ge+Be)),U.setStyle(Object.assign({},l.style)),A=U.getOriSize("W"),F=A.width,S<1.2*F){l.label="",Be=Se;continue}T._individualIWR=S,l._individualIWL=S,Se=Be}T=l,k=l.x}for(Be===H&&(Be=N(G(l.x,de-l.x)),Be=R(Be,4)),x=0,fe=pe.length;x<fe;x++)l=pe[x],x||(l._individualIWL=1/0),x===fe-1&&(l._individualIWR=1/0),l.individualIW=G(l._individualIWL,l._individualIWR);c=W(Y._getCustomPixel(ge)-Y._getCustomPixel(ge+Be)),c=G(2*t(pe[0].x,"left"),2*t(pe[fe-1].x,"right"),c)}else c=W(Y._getCustomPixel(ge)-Y._getCustomPixel(ge+oe));if(e=ne||e,we.__root__={getHeight:function(e){var t=pe[e],a=t._ovrStyle.lineHeight,i=parseInt(a.replace(/(\d+)px/,"$1"),10);return i},getWidth:function(){return e},getCalculatedLabelStep:function(e){var t,a,i,o,r,l,d,g,b,p,u=0,m=e.length,f=Number.NEGATIVE_INFINITY,v={},x=0;for(u=0;u<m;u++)o=e[u],o.style=o.style||{};if(X.irregularCatAxis)return X.labelStep;for(u=0;u<m;u++)o=e[u],o&&(o.label||(o.label=""),r=o.oriLabel||o.label,s={fontSize:ie.fontSize,fontFamily:ie.fontFamily,lineHeight:ie.lineHeight,fontWeight:ie.fontWeight},x++,o.style=o.style||{},Object(n["T"])(s,o.style),t=s.fontSize+s.fontFamily+s.lineHeight+s.fontWeight,v[t]?r.length>v[t].label.length&&(v[t].label=r):v[t]={label:r,style:s});for(l in v)v.hasOwnProperty(l)&&(a=v[l].style,i=v[l].label,a.lineHeight=Object(n["Jb"])(a),U.setStyle(a),X.rotateLabels&&(b=parseInt(a.lineHeight.replace(/(\d+)px/,"$1"),10)),h=U.getSmartText(i,n["D"],b),g=0===X.rotateLabels?60<h.width?60:h.width:h.height,f=R(g,f));return d=N(W(Y._getCustomPixel(de)-Y._getCustomPixel(ge))/f),p=R(z(x/d),X.labelStep),c=W(Y._getCustomPixel(ge)-Y._getCustomPixel(ge+p)),x<=d?X.labelStep:p}},we._inProp={},we.getCopyById=function(e){var t,a=this,i=a._inProp,o=a.__root__,r=i.copyStore;return r=r||{},t=r[e],t||(Object(n["T"])(t=r[e]={},o),t)},X.tickValues){for("rotate"===Q?($.rotation=ae?300:270,b=we.getCopyById("rotate")):"stagger"===Q?(b=we.getCopyById("stagger"),b.getHeight=function(e){var t,a,i,o;return t=X.tickValues.tickValue,a=t[e],i=a&&a.style||(a.style={}),s={fontSize:ie.fontSize,fontFamily:ie.fontFamily,lineHeight:ie.lineHeight,fontWeight:ie.fontWeight},Object(n["T"])(s,i),U.setStyle(s),o=U.getOriSize(a.label),o.height},b.getWidth=function(e){return ye=1,e.individualIW?e.individualIW:2*c*i-ye},Le=function(t){var a,i,n,o,r,l,s,c,h=t.length,d=0;if(U.setStyle(ie),c=U.getOriSize("WWW"),n=c.height,i=t[h-1],N(i._cumulativeSum)<=z(h*(n+2)))l=N(e/n),re=0>l-re?l:re;else{l=N(e/(n+4));do{for(d=0,s=l,o=s-1,h=t.length;o<h;){if(h-o<l&&(o=h-1),a=t[o],r=a._cumulativeSum-d,~~r>-~e){je=!0;break}je=!1,d=a._cumulativeSum,o+=s}}while(l--&&je);l++,re=G(re,l)}X.drawnStaggerLines=re},Ce=function(e){var t,a,i,n,r,l=0;for(r=0,i=e.length;r<i;r++)t=e[r],!t.stepSkipped&&(a=t&&t.style||{},(n=a.lineHeight)||(n=ie.lineHeight),o=l++%re,t.labelPadding=o?n.replace(/px/i,"")*o:0)}):"none"===Q?(b=we.getCopyById("none"),b.getHeight=n["Kb"],b.getWidth=n["Kb"],Oe=n["Kb"],X.rotateLabels&&($.rotation=ae?300:270,j=e),b.getCalculatedLabelStep=function(){return X.labelStep}):(b=we.getCopyById("auto"),b.getHeight=function(){return e},b.getWidth=function(e){return e.individualIW?e.individualIW:c-2*ye},Oe=function(e,t){var a,i,o,r,l,s,u=Z.getFromEnv("chart-attrib"),m=Object(n["Bb"])(u&&u.rotatelabels);if(!X.irregularCatAxis&&(U.setStyle(e),i=U.getOriSize("WWW"),a=i.width,a>=c&&0!==m)){for($.rotation=ae?300:270,$.forceRotate=!0,b=we.getCopyById("rotate"),d=b.getWidth,g=b.getHeight,ve.width=0,o=0,r=t.length;o<r;o++)l=t[o],l&&(l.label||l.oriLabel)&&0!==Object(n["Bb"])(l.showlabel,X.showLabels,1)&&!0!==l.stepSkipped&&(s=l._ovrStyle,U.setStyle({fontSize:s.fontSize,fontFamily:s.fontFamily,lineHeight:s.lineHeight,fontWeight:s.fontWeight}),h=U.getSmartText(l.oriLabel,d(l),g(o)),l.label=h.text,l.labelTooltext=h.tooltext,l._sLabel=h,ve.width<h.width&&(ve.text=h.text,ve.width=h.width,ve.height=h.height,ve.style=s));p=ve.text}}),d=b.getWidth,g=b.getHeight,le=X.labels.step=X.labelStep=X._oriLabelStep,le=X.labels.step=X.labelStep=b.getCalculatedLabelStep(pe),m=J(pe),x=m,u=0,y=0,fe=pe.length;x<fe;x++,u++)if(l=pe[x],l&&(l.label||l.oriLabel)&&0!==Object(n["Bb"])(l.showlabel,X.showLabels,1)){if(Fe=!0,s={fontSize:ie.fontSize,fontFamily:ie.fontFamily,lineHeight:ie.lineHeight,fontWeight:ie.fontWeight},Object(n["T"])(s,l.style),s.lineHeight=Object(n["Jb"])(s),V=s.fontSize+s.fontFamily+s.lineHeight+s.fontWeight,V!=D&&(U.setStyle(s),D=V),u%le){l.stepSkipped=!0,l.appliedSmartLabel=!1,Ae++;continue}l.appliedSmartLabel=!0,l.stepSkipped=!1,l._ovrStyle=s,pe[x].plotWidth?a=R("rotate"===Q?pe[x].plotWidth-6:0,g(x)):("rotate"===Q?x<fe-1&&(r=Y.getPixel(x+1)-Y.getPixel(x)-te):r=0,"rotate"===Q&&isNaN(+r)&&(r=K.canvasWidth/Y.getVisibleLength()-ee),a=R(r,g(x))),h=U.getSmartText(l.oriLabel||l.label,d(l),a),ke+=h.height+2,Y.components.labels[y++]={config:{width:h.width,height:h.height,props:{label:{}}}},l._cumulativeSum=ke,l.oriLabel=l.oriLabel||l.label,l.label=h.text,l.labelTooltext=h.tooltext,l._sLabel=h,ve.width<h.oriTextWidth&&(Object(n["T"])(ve,h),ve.style=s),xe<h.height&&(xe=h.height)}if(!Fe)return{height:0,width:0};if(Le(pe,Ae),Ce(pe,Ae),Oe(ve.style,pe),p=ve.text||"","mixed"===X.xAxisLabelMode)for(L=X.isPercent?Z.getFromEnv("number-formatter").percentValue:Z.getFromEnv("number-formatter").xAxis,be=p.length,x=0,I=Te&&Te.length;x<I;++x)O=Te[x],C=""+L.call(Z.getFromEnv("number-formatter"),O,X.axisIndex),C.length>be&&(p=C,be=C.length);for(ve.height=R(xe,ve.height||0),P=pe.length,x=0,fe=pe.length;x<fe&&(B=pe[x],!B._sLabel);x++);for(fe=pe.length,x=fe-1;0<=x&&(E=pe[x],!E._sLabel);x--);_=1!==Y.getZoom(),$.rotation||_||!B._sLabel?(X.axisEndLabelDisplaySpace.left=0,X.axisEndLabelDisplaySpace.right=0):(X.axisEndLabelDisplaySpace.left=R(se-(Y._getCustomPixel(B.x||0)-B._sLabel.width/2),0),X.axisEndLabelDisplaySpace.right=R(Y._getCustomPixel(E.x||P-1)+E._sLabel.width/2-ce,0)),w=ve}else{for(L=X.numberFormatterFn?Z.getFromEnv("number-formatter")[X.numberFormatterFn]:X.isPercent?Z.getFromEnv("number-formatter").percentValue:Z.getFromEnv("number-formatter").xAxis,x=0,I=Te&&Te.length;x<I;++x)M=Te[x],O=Object(n["Lb"])(M,10),C=""+L.call(Z.getFromEnv("number-formatter"),O,X.axisIndex),M===ge&&(f=C),M===de&&(v=C),w=U.getOriSize(C),Y.components.labels[x]={config:{width:w.width,height:w.height,props:{label:{}}}},C.length>be&&(p=C,be=C.length);U.setStyle({fontSize:ie.fontSize,fontFamily:ie.fontFamily,lineHeight:ie.lineHeight,fontWeight:ie.fontWeight}),w=U.getOriSize(p||""),"rotate"===Q&&($.rotation=270),X.rotateLabels&&($.rotation=ae?300:270),$.rotation||(f=U.getOriSize(f||""),v=U.getOriSize(v||""),X.axisEndLabelDisplaySpace.left=f.width/2+2,X.axisEndLabelDisplaySpace.right=v.width/2+2)}return X.tickValues&&"stagger"===Q&&(w.height=re*ve.height),w.width=j?G(j,w.width):w.width,w.width=Object(n["Bb"])(w.width),w.maxWidth=Object(n["Bb"])(w.maxWidth),w}_getVMaxLabelDimention(e){var t,a,i,o,r,l,s,c,h,d,g,b,p,u,m=this,f=m.config,v=m.getFromEnv("chart"),x=v.config,y=v.getFromEnv("smartLabel"),C=f.labels.style,O=f.useEllipsesWhenOverflow,L=f.maxLabelWidthPercent,w=f.minLabelWidthPercent,k=0,j=v.getFromEnv("dataSource").categories,A={height:0,width:0},F=f.ticks,S={};if(y.useEllipsesOnOverflow(x.useEllipsesWhenOverflow),y.setStyle({fontSize:C.fontSize,fontFamily:C.fontFamily,lineHeight:C.lineHeight,fontWeight:C.fontWeight}),f.tickValues){for(j&&(S={fontFamily:j[0].font,fontSize:j[0].fontsize,color:j[0].fontcolor}),L&&(a=L/100*x.width,a<e&&(e=a)),w&&(i=w/100*x.width,i>e&&(e=i)),c=f.tickValues.tickValue,o=0,h=c.length;o<h;o++)d=c[o],0!==Object(n["Bb"])(d.showlabel,f.showLabels)&&(p={fontFamily:Object(n["zb"])(d.font,d.labelfont,S.fontFamily,C.fontFamily),fontSize:Object(n["zb"])(d.fontsize,d.labelfontsize,S.fontSize,C.fontSize).replace(/px/i,"")+"px",fontWeight:"normal"==C.fontWeight?Object(n["Bb"])(d.fontbold,d.labelfontbold,0)?"bold":"normal":C.fontWeight,fontStyle:"normal"==C.fontStyle?Object(n["Bb"])(d.fontitalic,d.labelfontitalic,0)?"italic":"normal":C.fontStyle},u={fontFamily:Object(n["zb"])(p.fontFamily,S.fontFamily,C.fontFamily),fontSize:Object(n["zb"])(p.fontSize,S.fontSize,C.fontSize),fontWeight:Object(n["zb"])(p.fontWeight,C.fontWeight),fontStyle:Object(n["zb"])(p.fontStyle,C.fontStyle)},u.lineHeight=Object(n["Jb"])(u),y.setStyle(u),g=y.getSmartText(d.oriLabel||d.label,e,C.lineHeight,O),m.components.labels[o]={config:{width:g.width,height:g.height,props:{label:{}}}},d.oriLabel=d.oriLabel||d.label,d.label=s=g.text,d.labelTooltext=g.tooltext,g.width>k&&(A=g,k=g.width));return A}for(b=f.numberFormatterFn?v.getFromEnv("number-formatter")[f.numberFormatterFn]:f.isPercent?v.getFromEnv("number-formatter").percentValue:v.getFromEnv("number-formatter").yAxis,o=0,r=F&&F.length;o<r;++o)l=Object(n["Lb"])(F[o],10),s=""+b.call(v.getFromEnv("number-formatter"),l,f.axisIndex),g=y.getSmartText(s),m.components.labels[o]={config:{width:g.width,height:g.height,props:{label:{}}}},s.length>k&&(t=s,k=s.length);return y.getOriSize(t)}getCleanValue(e,t){var a=this,i=a.getFromEnv("number-formatter");return i.getCleanValue(e,t)}generateMinorTicks(){if(this)return[]}setCanvas(e){var t=this,a=t.config;a.canvas=e}_adjustNumberFormatter(e){var t,a,i=this,o=i.config,r=o.axisIndex,l=o.isVertical,s=i.getFromEnv("chart"),c=s.getFromEnv("number-formatter"),h=o._defaultDecimalPrecision,d=o._defaultForceDecimal,g=0;a=l||"yAxis"===o.numberFormatterFn?(c.Y[r]||c.Y[0]).yAxisLabelConf:c.paramX,h===n["D"]?o._defaultDecimalPrecision=a.decimalprecision:a.decimalprecision=h,d===n["D"]?o._defaultForceDecimal=a.forcedecimals:a.forcedecimals=d,0<parseInt(e,10)||(t=e.toString().split(".")[1],t&&(g=t.match(/^[0]*/)[0].length+1,g>a.decimalprecision&&(a.forcedecimals=1),a.decimalprecision=Math.max(g,a.decimalprecision)))}setLabelConfig(e){var t,a=this,i=a.config,n=i.labels;for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t])}}ae.prototype._parseLabel=_,ae.prototype._drawLabel=P,ae.prototype.getTrendLineLimits=E,ae.prototype.setAxisPadding=M,ae.prototype.getLabel=z;var ie=ae;const ne=0,oe=1;let re=(...e)=>{let t,a,i,n,o,r=[];if(2<e.length?(t=e[0],a=e[1],i=e[2]):1===e.length?(t=ne,a=e[0],i=oe):(t=e[0],a=e[1],i=oe),n=Math.floor(Math.max(0,Math.ceil((a-t)/i))),isFinite(n))for(o=0;o<n;++o)r.push(i*o+t);return r};var le=re;const se=e=>()=>e;var ce=se;function he(e){return null!==e&&"undefined"!=typeof e}function de(e,t){return he(t)&&he(e)&&"boolean"!=typeof t?v(e,t):ce(t)}var ge=de;function be(e,t){e=+e,t=+t;let a=t-e;return t=>Math.round(a*t+e)}var pe=be;const ue=[0,1];function me(e,t,a,i){var n,o;return e[0]>e[1]?(n=a(e[1],e[0]),o=i(t[1],t[0])):(n=a(e[0],e[1]),o=i(t[0],t[1])),e=>o(n(e))}function fe(e,t){return t.setInterpolate(e.getInterpolate()).setClamp(e.getClamp()).setDomain(e.getDomain()).setRange(e.getRange())}function ve(e,t){e=+e,t=+t;let a=t-e;return a?t=>(t-e)/a:ce(a)}function xe(e){return(t,a)=>{t=+t,a=+a;var i=e(t,a);return e=>e<=t?0:e>=a?1:i(e)}}function ye(e){return(t,a)=>{t=+t,a=+a;var i=e(t,a);return e=>0>=e?t:1<=e?a:i(e)}}class Ce{constructor(e,t){this.domain=ue,this.range=ue,this.deInterpolate=e,this.reInterpolate=t,this.interpolate=ge,this.clamp=!1,this.input=null,this.output=null,this._rescale()}_rescale(){return this.input=null,this.output=null,this}setDomain(e=ue){return this.domain=e.map(Number),this._rescale()}getDomain(){return this.domain.slice()}setRange(e=ue){return this.range=e.slice(),this._rescale()}getRange(){return this.range.slice()}setInterpolate(e=ge){return this.interpolate=e,this._rescale()}getInterpolate(){return this.interpolate}setClamp(e=!1){return this.clamp=!!e,this._rescale()}getClamp(){return this.clamp}rangeRound(e=ue){return this.range=e.slice(),this.interpolate=pe,this._rescale()}getRangeValue(e){e=null===e?void 0:e;let t=this.getClamp(),a=t?xe(this.deInterpolate):this.deInterpolate;return this.output||(this.output=me(this.getDomain(),this.getRange(),a,this.interpolate)),this.output(+e)}getDomainValue(e){let t=this.getClamp(),a=t?ye(this.reInterpolate):this.reInterpolate;return this.input||(this.input=me(this.getRange(),this.getDomain(),ve,a)),this.input(+e)}}var Oe=Ce;const Le=7.0710678118654755,we=3.1622776601683795,ke=1.4142135623730951;function je(e){let t;return t=e>=Le?10:e>=we?5:e>=ke?2:1,t}function Ae(e=0,t=1,a=7){var i=Math.pow;const n=(t-e)/Math.max(0,a),o=Math.floor(Math.log(n)/Math.LN10),r=n/i(10,o);return 0<=o?je(r)*i(10,o):-i(10,-o)/je(r)}function Fe(e=0,t=1,a=7){var i=Math.ceil,n=Math.floor;let o,r,l,s=-1,c=[];if(t=+t,e=+e,a=+a,e===t&&0<a)return[e];if(o=t<e,o&&(r=e,e=t,t=r),l=Ae(e,t,a),0===l||!isFinite(l))return[];if(0<l)for(e=i(e/l),t=n(t/l),r=i(t-e+1);++s<r;)c[s]=(e+s)*l;else for(e=n(e*l),t=i(t*l),r=i(e-t+1);++s<r;)c[s]=(e-s)/l;return o&&c.reverse(),c}var Se=Fe;class Te extends Oe{constructor(){super(ve,v)}ticks(e=7){const t=this.getDomain();return Se(t[0],t[t.length-1],e)}nice(e=7){var t=Math.ceil,a=Math.floor;let i,n=this.getDomain(),o=0,r=n.length-1,l=n[o],s=n[r];return s<l&&(i=l,l=s,s=i,i=o,o=r,r=i),i=Ae(l,s,e),0<i?(l=a(l/i)*i,s=t(s/i)*i,i=Ae(l,s,e)):0>i&&(l=t(l*i)/i,s=a(s*i)/i,i=Ae(l,s,e)),0<i?(n[o]=a(l/i)*i,n[r]=t(s/i)*i,this.setDomain(n)):0>i&&(n[o]=t(l*i)/i,n[r]=a(s*i)/i,this.setDomain(n)),this}copy(){return fe(this,new Te)}}var Be=Te;let Ee=me([2,100],[80,20],ve,v),Pe=e=>100<=e?.2:1>=e?0:Ee(e)/100,_e=function(e){if(1>=e)return 1;let t=[],a=Math.ceil(e);return t[2]=a%2,t[5]=a%5,t[10]=a%10,Object(n["Hb"])(t)+a},De=function(e,t,a,i,o,r){var l=Math.abs;let s,c,h,d,g,b,p,u,m,f,v,x,y=e,C=Math.ceil(a*(1-i)),O=Math.floor(a*(1+i)),L=[],w=e=>{let t,a,i,n=[10,5,2,1],o=n.length;for(t=0;t<o;++t)if(a=e%n[t],0==a%1){i=!0;break}return i},k=-1,j=a=>w(s=(t-e)/(a+1))?a:n["D"];for(;(!f||!v)&&(++k,x=a+k,x>=O&&(v=!0),d=j(x),!d)&&(x=a-k,x<=C&&(f=!0),d=j(x),!d););for(0>e&&0<t&&o&&(h=!0),c=0;c<d;c++)h&&0>y&&0<y+s&&(L.push(0),g=!0),y+=s,L.push(y);return d===n["D"]&&o&&(L=r.ticks(a),p=L.length,1<p?(s=l(L[0]-L[1]),b=.2*s,u=L[0],m=L[p-1],l(e-u)<=b&&0!==u&&L.shift(),l(t-m)<=b&&0!==m&&L.pop(),(0===u||0===m)&&(g=!0)):0===L[0]&&(g=!0)),h&&!g&&-1===L.indexOf(0)&&(0>e&&0<L[0]?L=[0].concat(L):0<t&&0>L[L.length-1]?L.push(0):L=[0],g=!0),{output:L,interval:s,isZeroTickForced:g}},Ve=function(e,t,a,i){var o,r,l,s,c,h,d,g,b,p,u,m,f,v,x,y,C,O,L,w,k,j,A=Math.pow,F=Math.LN10,S=Math.log,T=Math.max,B=Math.abs,E=Math.floor,P=i.isPercent?0:i.axisMinValue,_=i.isPercent?100:i.axisMaxValue,D=!!i.adjustDiv,V=i.numDivLines,I=!!i.setAdaptiveMin,M=i.axisRange,z=5.960464477539063e-8,R=!0,N=.2,G=!0,W=i.xAxisLabelMode,H=i.dependentInfo;o=i.majorTMNumber===n["D"]?V:T(0,V-2),H&&H.count&&!H.limit&&H.numDivLines!==n["D"]&&(o=V=H.numDivLines,D=!1),r=o+1,e===n["D"]&&t===n["D"]&&(e=0,t=1,R=!1),t===e&&0===t&&(t=1,R=!1),("categories"===W||"mixed"===W)&&(R=!1),R?(s=E(S(B(t))/F),l=E(S(B(e))/F),c=T(l,s),h=A(10,c),2>B(t)/h&&2>B(e)/h&&(c--,h=A(10,c)),m=E(S(t-e)/F),f=A(10,m),0<t-e&&10<=h/f&&(h=f,c=m),g=(E(t/h)+1)*h,0>e?b=(E(B(e/h))+1)*h*-1:I?(b=E(B(e/h)-1)*h,b=0>b?0:b):b=0,!I&&0>=t&&(g=0),p=!(!_&&0!==_),u=!(!P&&0!==P),!i.freezeLimit&&(!1===p||!0===p&&+_<t&&t-+_>z?(t=g,p=!1):t=+_,!1===u||!0===u&&+P>e&&+P-e>z?(e=b,u=!1):e=+P)):(p=!(!_&&0!==_),u=!(!P&&0!==P),!0===p&&+_>=t?t=+_:p=!1,!0===u&&+P<=e?e=+P:u=!1),C=[e,t],a.setDomain(C),D&&!i.freezeLimit?p||u?(N=Pe(o),w=De(e,t,o,N,i.forceZeroTick,a),v=w.output,k=v.length,j=w.isZeroTickForced,B((o-k+(j?1:0))/o)>N?d=(t-e)/r:(d=0===k||1===k&&j?t-e:w.interval,i.isZeroTickForced=j,i.ticks=[e].concat(v,t),G=!1)):(i.ticks=o?a.nice(r).ticks(r):a.getDomain(),d=B(i.ticks[1]-i.ticks[0]),G=!1):p||u||i.freezeLimit?d=(t-e)/r:([x,y]=a.nice(r).getDomain(),h=(y-x)/r,d=_e(h),y=x+d*r,(y-t)/t>N||(x-e)/e>N?(a.setDomain([e,t]),d=(t-e)/r):(e=x,t=y,a.setDomain([e,t]))),G&&(0>e&&0<t&&i.forceZeroTick?(O=le(e,0,d),L=O[O.length-1]+d,0===L?L+=d:i.isZeroTickForced=!0,i.ticks=O.concat(0,le(L,t,d),t)):i.ticks=le(e,t,d).concat(t)),[e,t]=a.getDomain(),i._allTicks=i.ticks.slice(),M.tickInterval=d,M.min=e,M.max=t};var Ie=Ve;let Me;class ze extends ie{constructor(){super(),this.config.scale=new Be}getName(){return"numeric"}generateTicks(){var e=Math.abs;let t,a,i,n=this.getScale(),o=this.config,r=o.numDivLines+1,[l,s]=n.getDomain(),c=o.axisRange,{min:h,max:d}=c,g=o.dataLimit;return l===h&&s===d?(Ie(g.min,g.max,n,o),o.ticks):(t=n.ticks(r),a=e(t[1]-t[0]),l===h&&-1===t.indexOf(h)&&t.unshift(h),s===d&&-1===t.indexOf(d)&&t.push(d),(i=e(h%a))&&(h-=i),(i=e(d%a))&&(d-=i),o._allTicks=le(h,d,a).concat(d),c.tickInterval=a,t)}setTickValues(e){this.config.userTicks=e||[],this.config.tickValues={tickValue:[]}}_parseTickValues(e){var t,a,i,o,r=this,l=r.getFromEnv("chart"),s=r.config,c=e&&e.length,h=0;for(s.tickValues={},t=s.tickValues.tickValue=[],i=0;i<c;i+=1)if(a=Object(n["T"])({},e[i]),o=+a.x,!a.vline){if(S(a,l),!o&&0!==o)continue;a.x=o,s.irregularCatAxis=!0,t.push(a),t[h].label=Object(n["xb"])(t[h].label),h+=1}s.oriCatLen=h}calculateTicksOnLabelMode(){var e,t,a,i,o,r,l,s=this,c=s.config,h=c.xAxisLabelMode,d=Object.assign([],c.userTicks),g=s.getFromEnv("number-formatter");if("mixed"===h||"auto"===h){if(t=[],e=g.xAxis,"mixed"===h)for(a=0,o=d.length;a<o;a+=1)t[d[a].x||d[a].y||a]=!0;else d=[];for(l=s.getAxisConfig(),r=c.ticks,i=0;i<r.length;++i)a=r[i],t[a]||d.push({label:n["b"]+e.call(g,a),x:a,showverticalline:0===a?l.showZeroPlane:1,isNumeric:!0,linecolor:0===a?l.zeroPlaneColor:l.divLineColor,linealpha:0===a?l.zeroPlaneAlpha:l.divLineAlpha,linethickness:0===a?l.zeroPlaneThickness:l.divLineThickness,linedashed:l.divLineIsDashed,linedashLen:l.divLineDashLen,linedashgap:l.divLineDashGap})}s._parseTickValues(d)}getInterval(){return this.config.axisRange.tickInterval}_setAxisRange(e){var t,a,i,o=e.min,r=e.max,l=this.config,s=l.axisRange,c=l.dataLimit,h=l.dependentInfo;if(!(o>r))if((c.min!==o||c.max!==r)&&(a=!0),l.visibleMin===Me||l.setPadding||a){if([o,r]=Object(n["U"])([o,r,c.min,c.max]),c.min=o,c.max=r,this.fireEvent("dataLimitSet",Object.assign({},c)),h){if(h.limit){if(t=h.dataLimit,!t)return;[o,r]=Object(n["U"])([o,r,t.min,t.max]),l.isDataLimitSet=!0}if(h.count&&h.numDivLines===Me)return}Ie(o,r,this.getScale(),l),i=l.isZeroTickForced?3:2,this.fireEvent("divlinesSet",l.ticks.length-i),l.tickValues&&this.calculateTicksOnLabelMode(),this.setVisibleConfig(s.min,s.max)}else l.setPadding=!1}}ze.prototype.setDataLimit=B;var Re=ze;class Ne extends Oe{constructor(){super(ve,v)}copy(){return fe(this,new Ne)}}var Ge=Ne,We="none",He="true",Ye="1",Xe=n["Db"].POSITION_START,Ze=n["Db"].POSITION_MIDDLE,Ke=n["Db"].POSITION_TOP,Ue=n["Db"].POSITION_BOTTOM,Je=n["Db"].POSITION_END,qe={wrtVisible:!0};class $e extends ie{constructor(){super(),this.config.scale=new Ge}getName(){return"category"}getCategoryFromId(e){var t=this.config,a=t.tickValues,i=a&&a.tickIdMap;return i[e]||{}}generateTicks(){let e=this.getScale(),t=this.config,a=e.getDomain(),i=t.categoryNumDivLines+1,n=(a[1]-a[0])/i,o=t.axisRange,{min:r,max:l}=o,s=(l-r)/i;return t._allTicks=le(r,l,s).concat(l),o.tickInterval=s,le(a[0],a[1],n).concat(a[1])}_parseCategoryVline(){var e,t,a,i,o,r,l,c,h,d,g,b,p,u,m,f,v,x,y,C,O,L,w,k,j,A,F,S,T,B,E,P,_=this,D=_.config,V=D.axisRange,I=V.min,M=V.max,z=_.getFromEnv("chart"),R=z.config,N=R.style||{},G=D.isVertical,W={fontFamily:R.style.inCanfontFamily,fontSize:R.style.inCanfontSize,color:R.style.inCancolor,lineHeight:R.style.inCanLineHeight};for(t=D.tickValues.vline,a=t.length,S=1!==_.getZoom(),T=_.getVisibleConfig(),r=0;r<a;r++)i=t[r],o=Object(n["xb"])(i.label),l=!!Object(n["Bb"])(i.showlabelborder,D.showVLineLabelBorder,1),e=!!Object(n["Bb"])(i.showlabelbackground,1),c=Object(n["zb"])(i.labelhalign,G?Xe:Ze),"center"===c?c=Ze:"left"===c?c=Xe:"right"===c&&(c=Je),h=Object(n["zb"])(i.labelvalign,G?Ze:Ue).toLowerCase(),h===Ze?h=Ze:h===Ke?h=Ue:h===Ue&&(h=Ke),d=Object(n["Bb"])(i.labelposition,0),g=Object(n["Bb"])(i.lineposition,.5),b=Object(n["Bb"])(i.showvlines,D.showVLines,1),p=Object(n["Bb"])(i.alpha,D.vLineAlpha,80),u=Object(n["zb"])(i.color,D.vLineColor).replace(/^#?/,"#"),m=e?Object(n["zb"])(i.labelbgcolor,D.vLineLabelBgColor,"333333").replace(/^#?/,"#"):n["b"],k=Object(n["zb"])(i.labelcolor,D.vLineLabelColor,i.color,N.inCancolor,D.vLineColor).replace(/^#?/,"#"),f=Object(n["Bb"])(i.thickness,D.vLineThickness,1),A=2,v=!!+Object(n["zb"])(i.dashed,0),x=Object(n["Bb"])(i.dashlen,5),C=Object(n["Bb"])(i.dashgap,2),y=W.fontSize,y=parseInt(y.replace(/px/i,""),10),j=Object(n["Bb"])(i.rotatelabel,D.rotateVLineLabels)?270:0,g=0>g||1<g?.5:g,d=0>d||1<d?0:d,u=Object(s["c"])(u,b?p:"0"),P=i.animate&&!G?i.startIndex+1:i.startIndex,F=_._getVlinePos(P,g)-(i.animate?i.leftShift:0),(!S||!(F<T.minValue||F>T.maxValue))&&(F<I||F>M||(O={opacity:1,stroke:u,"stroke-width":f,"stroke-dasharray":v?Object(n["Y"])(x,C):We},w={opacity:1,text:o,"text-anchor":c,"vertical-align":h,"text-bound":[]},L={fontSize:W.fontSize,fontFamily:W.fontFamily,lineHeight:W.lineHeight},E=Object(n["Bb"])(i.showontop,D.showVLinesOnTop,0),B={from:F,layer:E?3:2,attr:O,type:"line",startIndex:i.startIndex,linePosition:g},o&&(w["text-bound"]=[m,b&&l?u:n["b"],b&&l?1:0,A,n["D"],b&&l?"solid":n["b"]],w.fill=b?k:u,B.text={label:o,attr:w,layer:4,labelRotation:j,labelPosition:d,css:L}),_.setReferenceInfo(B),_.config.parsedVlineInfo.push(B)))}_parseReferenceVisuals(){super._parseReferenceVisuals(),this.config.drawPlotlines&&this._parseCategoryVline()}categoryInsert(e,t,a){var i,o,r,l,s,c=this,h=c.config,d=h.axisRange.min,g=t.length,b=h.endPad||0;for(i=h.tickValues.tickValue,r=h.tickValues.tickIdMap,o=h.tickValues.vline,l=0;l<g;l+=1)s=Object(n["T"])({},t[l]),s.vline===He||!0===s.vline||1===s.vline||s.vline===Ye?(s.startIndex=e-2,o.push(s)):(s.id&&(r[s.id]={tickObj:s,i:e}),i.splice(e,0,s),e+=1);a&&c._setAxisRange({min:d,max:+Object(n["Lb"])(i.length-1+b,10)})}categoryDelete(e,t,a){var i,n,o,r,l=this,s=l.config,c=s.axisRange,h=c.min;for(i=s.tickValues.vline,n=0,o=i.length;n<o;n++)i[n].animate=!0,i[n].leftShift=t;r=s.tickValues.tickValue,r.splice(e,t),l._shiftVline(e,t,"left"),a&&l._setAxisRange({min:h,max:c.max-t})}_shiftVline(e,t,a){var i,n,o=this,r=o.config,l=r.tickValues.vline,s=r.tickValues.tickValue.length,c=l.length;for(i=0;i<c;i+=1)n=l[i],n.startIndex>=e&&("right"===a?n.startIndex+=t:n.startIndex-=t,(0>n.startIndex||n.startIndex>=s)&&(l.splice(i,1),c-=1,i-=1))}categoryTranslate(e){var t,a=this,i=a.config,n=a.getPixel(1,qe)-a.getPixel(0,qe);e=(e||0)*n,i.isReverse&&(e=-e),t=["T",e,",","0"].join(""),a.realTimeTranslatableGroups=[{group:i.axisContainer,translationStr:t},{group:i.axisTrendLabelContainer,translationStr:t}]}updateTicksValues(e,t){var a,i,n,o,r,l,s,c=this,h=c.config,d=h.parsedVlineInfo;if(a=h.tickValues.tickValue,a[e])for(s in t)t.hasOwnProperty(s)&&("x"===s&&(i=!0),a[e][s]=t[s]);if(i)for(o=0,r=d.length;o<r;++o)if(n=d[o],l=n.startIndex,l===e)n.from=c._getVlinePos(l,n.linePosition);else if(l+1===e){n.from=c._getVlinePos(l,n.linePosition);break}}_getVlinePos(e,t){let a,i,o,r=this.getTickValues(),l=this.config,{min:s,max:c}=this.getLimit(),h=r[e],d=r[e+1];return h?!d&&(a=r[0]&&r[0].x?c:l.oriCatLen-1,o=!0):(a=r[0]&&r[0].x?s:-1,o=!0),o?i=t:(a=Object(n["Bb"])(h.x,h.y,e),i=(a-Object(n["Bb"])(d.x,d.y,e+1))*t),a+Math.abs(i)}getInterval(){if(this)return 1}_setAxisRange(e){var t,a,i=e.min,o=e.max,r=this.config,l=r.axisRange,s=r.periodLength,c=r.dataLimit,h=c.max,d=c.min;i>o||((h!==o||d!==i)&&(t=!0),r.visibleMin===n["D"]||r.setPadding||t?(c.max=o,c.min=i,s&&(r.categoryNumDivLines=(o-i)/s-1),a=(o-i)/(r.categoryNumDivLines+1),this.getScale().setDomain([i,o]),r.ticks=le(i,o,a).concat(o),r._allTicks=r.ticks.slice(),l.min=i,l.max=o,l.tickInterval=a,this.setVisibleConfig(l.min,l.max)):r.setPadding=!1)}}$e.prototype.setTickValues=D;var Qe=$e,et=function(e){let t,a,i=e.getChildren("canvas")[0],o=i.getChildren("axisRefVisualCartesian")[0],r={zoomable:!0,pannable:!0},l=e._feedAxesRawData(),s=e=>{let t=e.sender;o.addexplicitDrawItems(t.getId(),t),o.asyncDraw()};Object(n["M"])(e,Re,"yAxis",1,l.yAxisConf),Object(n["M"])(e,Qe,"xAxis",1,l.xAxisConf),t=e.getChildren("yAxis")[0],a=e.getChildren("xAxis")[0],t.setLinkedItem("canvas",i),a.setLinkedItem("canvas",i),o.setLinkedItem(t.getId(),t),o.setLinkedItem(a.getId(),a),o.addExtEventListener("visiblerangeset",s,a),o.addExtEventListener("visiblerangeset",s,t),i.attachAxis(a,!1,e.zoomX?r:{}),i.attachAxis(t,!0,e.zoomY?r:{}),e._setCategories()},tt=a("53bc"),at={"initial.axisRefVisuals.axisRefVisualsCartesian":u,"update.axisRefVisuals.axisRefVisualsCartesian":p};const it=e=>null!==e;let nt;Object(L["a"])({name:"cartesianAxisRefAnimation",type:"animationRule",extension:at});class ot extends l["a"]{constructor(){super(),this.config.map={},this.config.explicitDrawItems={}}getType(){return"axisRefVisuals"}getName(){return"axisRefVisualsCartesian"}draw(){let e,t,a,i,n,o,r,l=this.getDrawingInfo(),s=this.getexplicitDrawItems(),c=this.config,h=c.map,d={},g=this.getLinkedParent(),b=g.getAxes(),p=[],u=g.getChildContainer("axisReferenceVisualsFloor"),m=g.getChildContainer("axisReferenceVisualsBottom"),f=g.getChildContainer("axisReferenceVisualsMiddle"),v=g.getChildContainer("axisReferenceVisualsTop"),x=g.getChildContainer("axisReferenceVisualsCeil");for(g.config.trendlines=[],g.config.vtrendlines=[],t=0;t<b.length;++t)p.push(b[t].axis.getId());for(i in c.containers=[u,m,f,v,x],l)if(l.hasOwnProperty(i)&&(n=this.getLinkedItem(i),0<=p.indexOf(n.getId())))for(o=d[i],o||(o=d[i]=[]),e=l[i],t=0;t<e.length;++t)r=e[t],a=r.type,"band"===a?o.push.apply(o,this.createBand(r,n)):"line"===a&&o.push.apply(o,this.createLine(r,n));if(c.isSmartDrawing)for(i in h)h.hasOwnProperty(i)&&!s[i]&&this.getLinkedItem(i)&&(d[i]=h[i]);this.resetexplicitDrawItems(),this.removeExtraElements(d)}getDrawingInfo(){let e,t,a={},i=this.getexplicitDrawItems(),n=this.isCanvasChnaged(),o=this.config.isSmartDrawing=Object.keys(i).length&&!n,r=o?i:this.getLinkedItem();for(e in r)r.hasOwnProperty(e)&&(t=r[e],a[e]=t.getReferenceInfo());return a}createLine(e,t){let a,i=this.config.containers,n=i[e.layer],o=t.config,r=this.getFromEnv("paper"),l=this.getFromEnv("chart").getName(),s=this.getLinkedParent(),c=this.getFromEnv("animationManager"),h=this.getFromEnv("toolTipController"),d=s.config,g=d.trendlines,b=o.isVertical,p=d.canvasLeft,u=d.canvasTop,m=u+d.canvasHeight,f=p+d.canvasWidth,x=v(p,f),y=v(u,m),C=t.getScale(),O=C.getRangeValue(e.from),L=e.to!==nt&&C.getRangeValue(e.to)||O,w=b?["M",p,O,"L",f,L]:["M",O,m,"L",L,u],k=e.attr,j=e.text,A=j&&j.attr,F=j&&j.labelPosition||0,S=t.getId(),T=e.id||e.from,B=S+"_"+T,E=S+"_"+T+j,P=this.getGraphicalElement(B),_=this.getGraphicalElement(E),D=e.handlers,V={start:e.from,end:e.to};for(a in k.path=X(w,it(k["stroke-width"])?k["stroke-width"]:1).path.toString(),/trend/.test(e.id)&&g.push({x1:w[1],y1:w[2],x2:w[4],y2:w[5],tooltext:e.toolText,tolerance:5>k["stroke-width"]?2.5:k["stroke-width"]/2}),k["stroke-linecap"]="butt",P=this.addGraphicalElement(B,c.setAnimation({container:n,el:P||"path",attr:k,component:this,axis:t,data:{value:V,path:w},label:"path"})),P.data("data",V),j&&(b?(A.x=x(F),A.y=O):(A.x=O,A.y=y(F)),A.text=j.label,A.transform=r.getSuggestiveRotation(j.labelRotation,A.x,A.y),_=this.addGraphicalElement(E,c.setAnimation({container:i[j.layer],el:_||"text",attr:A,component:this,axis:t,data:{value:e.from},label:"text",css:j.css})),_.data("data",e.from)),/zoomscatter/i.test(l)||(e.toolText?h.enableToolTip(P,e.toolText):h.disableToolTip(P)),D)D.hasOwnProperty(a)&&(P.on(a,D[a].bind(t)),_.on(a,D[a].bind(t)));return j?[B,E]:[B]}createBand(e,t){var a=Math.min;let i,n,o,r,l,s,c,h=this.config.containers[e.layer],d=t.config,g=this.getFromEnv("animationManager"),b=this.getFromEnv("toolTipController"),p=this.getLinkedParent(),u=this.getFromEnv("chart").getName(),m=p.config,f=d.isVertical,v=m.canvasLeft,x=m.canvasTop,y=x+m.canvasHeight,C=v+m.canvasWidth,O=t.getScale(),L=e.from,w=e.to===nt?L:e.to,k=t.getId(),j=e.attr,A=e.handlers;for(s in i="canvasStart"===L?f?x:v:O.getRangeValue(L),n="canvasEnd"===w?f?y:C:O.getRangeValue(w),c=Math.abs(i-n),f?(j.x=v,j.y=a(i,n),j.width=C-v,j.height=c):(j.x=a(i,n),j.y=x,j.width=c,j.height=y-x),o=e.id||j.x+"_"+j.y,r=k+"_"+o,l=this.getGraphicalElement(r),/trend/.test(e.id)&&p.config.vtrendlines.push({x1:j.x,y1:j.y,x2:j.x+j.width,y2:j.y+j.height,tooltext:e.toolText,tolerance:5>j["stroke-width"]?2.5:j["stroke-width"]/2,isTrendZone:1}),l=this.addGraphicalElement(r,g.setAnimation({container:h,el:l||"rect",attr:j,component:this,label:"rect"})),/zoomscatter/i.test(u)||(e.toolText?b.enableToolTip(l,e.toolText):b.disableToolTip(l)),A)A.hasOwnProperty(s)&&l.on(s,A[s].bind(t));return[r]}removeExtraElements(e){let t,a,i,n,o,r,l=this.config.map;for(t in l)if(e[t])for(r=y(l[t],e[t]),n=r.length,i=0;i<n;++i)o=this.getGraphicalElement(r[i]),o&&this.removeGraphicalElement(o);else for(a=l[t],n=a.length,i=0;i<n;++i)o=this.getGraphicalElement(a[i]),o&&this.removeGraphicalElement(o);this.config.map=e}setLinkedItem(e,t){super.setLinkedItem(e,t);let a=this;"axis"===t.getType()&&a.addExtEventListener("beforeremove",e=>{a.removeLinkedItem(e.sender.getId()),a.asyncDraw()},t)}addexplicitDrawItems(e,t){this.config.explicitDrawItems[e]=t}getexplicitDrawItems(){return this.config.explicitDrawItems}resetexplicitDrawItems(){this.config.explicitDrawItems={}}isCanvasChnaged(){let e,t=this.getLinkedParent().getEffectiveDimensions(),a=this.config;return e=JSON.stringify(t)!==JSON.stringify(a.canvasDim),a.canvasDim=t,e}}var rt,lt=ot,st=function(e){let t,a=e._parseCanvasCosmetics&&e._parseCanvasCosmetics();if(Object(n["M"])(e,tt["a"],"canvas",e.config.showVolumeChart?2:1),t=e.getChildren("canvas"),t)for(let i=0,o=t.length;i<o;i++)t[i].configure(a),Object(n["M"])(t[i],lt,"axisRefVisualCartesian")},ct=function(e,t){return e="comp_"+e,t&&(this.config[e]=t),(t||!this.config[e])&&this||this.config[e]},ht=function(e,t){return["T",e,",",t].join("")},dt=function(e){return-e.getTranslation()},gt=function(e){return ht(dt(e.h),dt(e.v))},bt=function(e,t){return{h:e,v:t}},pt=["columnShadowVcanvasGroup","columnVcanvasGroup","areaShadowVcanvasGroup","areaVcanvasGroup","lineShadowVcanvasGroup","lineVcanvasGroup","defaultShadowVcanvasGroup","defaultVcanvasGroup","sumLabelsLayer","vcanvasLabelGroup"],ut=function(e,t,a){var i=a.getFromEnv("animationManager");return i.setAnimation({el:"group",attr:{name:e},container:t,state:"appearing",component:a,label:"group"})},mt=e=>!/category/i.test(e.getName());const ft="visible",vt="removed",xt="dataset";class yt extends l["a"]{getName(){return"virtualCanvas"}getType(){return"canvas"}xAxis(e){var t=ct.call(this,"xAxis",e);return e&&this.listenToAxis(e),e&&this.addToEnv("xAxis",e),t}yAxis(e){var t=ct.call(this,"yAxis",e);return e&&this.listenToAxis(e),e&&this.addToEnv("yAxis",e),t}paper(e){return ct.call(this,"paper",e)}canvas(e){return ct.call(this,"canvas",e)}configure(e={}){let t=this,a=t.getFromEnv("chartConfig"),i=t.config;Object.assign(i,e),i.transposeAxis=a.transposeAxis,this._mapChildren(e=>{e.getState(vt)||e.getType()===xt||e.configure&&e.configure()})}getHorizontalVerticalAxes(){var e=this,t=e.xAxis(),a=e.yAxis();return a.config.isVertical?bt(t,a):bt(a,t)}preDraw(){this._mapChildren(e=>{e.getState("removed")||"dataset"===e.getType()||e.setVisibility&&e.setVisibility()});let e,t=this.config.transposeAxis,a=this.getFromEnv("chart"),{left:i,right:n,top:o,bottom:r}=this.getAxisValuePadding();e=this.getDataLimits(!t),e.min!==1/0||e.max!==-1/0?(this._setYAxisLimits(e.min,e.max),a._storeIntialLimit&&a._storeIntialLimit(e.min,e.max)):(this._setYAxisLimits(rt,rt),a._storeIntialLimit&&a._storeIntialLimit(rt,rt)),this._setXAxisLimits(e.xMin,e.xMax),this._setAxisValuePadding(i,n,o,r)}childChanged(e={}){let t,a=this,i=a.config,n=i.transposeAxis;!1!==e.dataLimitChanged&&(t=a.getDataLimits(!n),n&&(t.min!==i.range.min||t.max!==i.range.max)&&(i.range.min=t.min,i.range.max=t.max,this.getFromEnv("yAxis").resetStoredLimits(),t.min!==1/0||t.max!==-1/0?a._setYAxisLimits(t.min,t.max):a._setYAxisLimits(rt,rt)),(t.xMin!==i.range.xMin||t.xMax!==i.range.xMax)&&(i.range.xMin=t.xMin,i.range.xMax=t.xMax,this.getFromEnv("xAxis").resetStoredLimits(),a._setXAxisLimits(t.xMin,t.xMax))),a.asyncDraw()}_setAxisValuePadding(e,t,a,i){this.getFromEnv("xAxis").setAxisPadding(e,t),a&&i&&this.getFromEnv("yAxis").setAxisPadding(e,t)}getAxisValuePadding(){var e=Math.max;let t={},a=-1/0,i=-1/0,n=-1/0,o=-1/0;return this._mapChildren(r=>{r.getState(vt)||(t=r.getAxisValuePadding&&r.getAxisValuePadding()||{},a=e(a,t.left||-1/0),i=e(i,t.right||-1/0),n=e(n,t.top||-1/0),o=e(o,t.bottom||-1/0))}),a===-1/0&&(a=0),i===-1/0&&(i=0),n===-1/0&&(n=0),o===-1/0&&(o=0),this.config.padding||(this.config.padding={},this.config.padding.left=a,this.config.padding.right=i,this.config.padding.top=n,this.config.padding.bottom=o),{left:a,right:i,top:n,bottom:o}}_setYAxisLimits(e,t){var a=this.getFromEnv("yAxis");mt(a)&&a.setDataLimit(t,e)}_setXAxisLimits(e,t){let a=this.getFromEnv("xAxis");mt(a)&&(t!==-1/0||e!==1/0?a.setDataLimit(t,e):a.setDataLimit(rt,rt))}getDataLimits(e){var t,a,i,o=Math.max,r=this,l=r.getFromEnv("chart"),s=-1/0,c=1/0,h=s,d=c,g=c,b=s,p=function(e){var t=Math.min;a=Object(n["zb"])(e.xMax,s),i=Object(n["zb"])(e.xMin,c),h=o(h,e.max),d=t(d,e.min),b=o(b,a),g=t(g,i)};return r._mapChildren(a=>{a.getDataLimits&&!a.getState(vt)&&(e||a.getState(ft))&&(t=a.getDataLimits(e),p(t))}),this.config.range||(this.config.range={},this.config.range.min=d,this.config.range.max=h,this.config.range.xMin=g,this.config.range.xMax=b),l.config.yMax=h,l.config.yMin=d,{min:d,max:h,xMin:g,xMax:b}}listenToAxis(e){var t,a=this;t=function(){a.getState("drawn")&&a.asyncDraw()},this.getState("visiblerangeset"+e.getId())||(this.setState("visiblerangeset"+e.getId(),!0),a.addExtEventListener("visiblerangeset",t,e))}createContainer(){var e=this,t=e.getLinkedParent();e.getChildContainer("columnShadowVcanvasGroup")||e.addChildContainer("columnShadowVcanvasGroup",ut("vcanvas-column-shadow",t.getChildContainer("columnShadowGroup"),e)),e.getChildContainer("columnVcanvasGroup")||e.addChildContainer("columnVcanvasGroup",ut("vcanvas-column-plot",t.getChildContainer("columnGroup"),e)),e.getChildContainer("areaShadowVcanvasGroup")||e.addChildContainer("areaShadowVcanvasGroup",ut("vcanvas-area-shadow",t.getChildContainer("areaShadowGroup"),e)),e.getChildContainer("areaVcanvasGroup")||e.addChildContainer("areaVcanvasGroup",ut("vcanvas-area-plot",t.getChildContainer("areaGroup"),e)),e.getChildContainer("lineShadowVcanvasGroup")||e.addChildContainer("lineShadowVcanvasGroup",ut("vcanvas-line-shadow",t.getChildContainer("lineShadowGroup"),e)),e.getChildContainer("lineVcanvasGroup")||e.addChildContainer("lineVcanvasGroup",ut("vcanvas-line-plot",t.getChildContainer("lineGroup"),e)),e.getChildContainer("defaultShadowVcanvasGroup")||e.addChildContainer("defaultShadowVcanvasGroup",ut("vcanvas-default-shadow",t.getChildContainer("defaultShadowGroup"),e)),e.getChildContainer("defaultVcanvasGroup")||e.addChildContainer("defaultVcanvasGroup",ut("vcanvas-default-plot",t.getChildContainer("defaultGroup"),e)),e.getChildContainer("vcanvasLabelGroup")||e.addChildContainer("vcanvasLabelGroup",ut("vcanvas-label",t.getChildContainer("datalabelsGroup"),e)),e.getChildContainer("columnTrendGroup")||e.addChildContainer("columnTrendGroup",ut("columnTrendGroup",e.getChildContainer("columnVcanvasGroup"),e)),e.getChildContainer("sumLabelsLayer")||e.addChildContainer("sumLabelsLayer",ut("vcanvas-sumLabelsLayer",t.getChildContainer("sumLabelsLayer"),e))}applyTranslation(){var e=this,t=e.getHorizontalVerticalAxes(),a=gt(t),i=function(t){t=e.getChildContainer(t),t.attr({transform:a})};e.createContainer(),pt.forEach(function(e){i(e)})}draw(){this.applyTranslation(),this.setState("drawn",!0)}getCanvasPadding(){var e,t,a=this,i={paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0};return a._mapChildren(a=>{if(a.getCanvasPadding&&!a.getState(vt))for(t in e=a.getCanvasPadding()||{},e)e.hasOwnProperty(t)&&(i[t]=Math.max(e[t],i[t]))}),i}rtShiftAnim(e,t){var a,i=this,n=i.getFromEnv("xAxis"),o=i.getFromEnv("yAxis"),r=n.getPixel(1)-n.getPixel(0),l=o.getPixel(1)-o.getPixel(0),s=i.getFromEnv("animationManager");e=(e||0)*r,t=(t||0)*l,a=ht(e,t),pt.forEach(function(e){i.getChildContainer(e).attr({transform:a}),s.setAnimation({el:i.getChildContainer(e),attrs:{transform:"T0,0"}})})}}var Ct=yt,Ot=function(e){var t,a,i,o,r,l,s,c=e.getChildren("canvas"),h=c.length,d=[],g=[];for(o=0;o<h;o++,d=[],g=[])if(t=c[o],!t.getState("removed")){for(i=t.getFromEnv("xAxis"),l=0;l<(i&&i.length);l++)i[l].getState("removed")||d.push(i[l]);for(i=t.getFromEnv("yAxis"),l=0;l<(i&&i.length);l++)i[l].getState("removed")||g.push(i[l]);for(Object(n["M"])(t,Ct,"vCanvas",d.length*g.length),a=t.getChildren("vCanvas"),r=0,l=0;r<(d&&d.length);r++)for(s=0;s<(g&&g.length);s++,l++)a[l].xAxis(d[r]).yAxis(g[s]).canvas(t),a[l].configure(),a[l].addToEnv("vCanvas",a[l])}},Lt=a("ed83"),wt="mouseover",kt="mousedown",jt="touchstart",At="mouseup",Ft="touchend",St="mousemove",Tt="touchmove",Bt="mouseout",Et="click",Pt=window,_t=Pt.document,Dt="ontouchstart"in Pt;class Vt extends l["a"]{constructor(){super(),this.pIndex=1,this.handler=function(e){return function(t){e.config.lastTouchStartEvent=t.originalEvent,t.originalEvent&&e.getFromEnv("chart")._mouseEvtHandler(t,e.config.evtData)}}(this),this.globalHandler=function(e){return function(t){var a,i,o=e.getFromEnv("chart");(t.type===jt||t.type===kt)&&(a=o.getChildren("canvas")[0],i=Object(n["db"])(e.getFromEnv("chart-container"),t.originalEvent,o),e.config.lastTouchStartEvent===t.originalEvent||a&&a.isWithinCanvas(i.chartX,i.chartY))||(t.originalEvent&&o._mouseEvtHandler(t,e.config.evtData),e._removeDocEvents(),e.globalHandlerAttached=!1)}}(this),this.eventsList=[kt,jt,At,Ft,St,Tt,Et,wt],this.config={},this.config.evtData={}}getMouseEvents(e,t,a){var i=this,o=i._lastDatasetIndex,r=i._lastPointIndex,l=e.type,s={fireOut:!1,events:[]};if(i.hasTouchEvent&&(l===kt||l===Bt))return s;switch(l){case Et:s.events.push(Et);break;case Tt:case St:o===t&&r===a?(clearTimeout(i.mouseoutTimer),s.events.push(St)):(s.events.push(wt),s.fireOut=!0);break;case jt:i.hasTouchEvent=!0;case kt:i.globalHandlerAttached||(i.globalHandlerAttached=!0,Dt?i.eventOutput=Lt["a"].listen(_t,jt,i.globalHandler):n["pb"]&&(i.eventOutput=Lt["a"].listen(_t,kt,i.globalHandler))),o!==t||r!==a?(s.fireOut=!0,s.events.push(wt)):Dt&&s.events.push(St),s.events.push(kt);break;case wt:o===t&&r===a?clearTimeout(i.mouseoutTimer):(s.fireOut=!0,s.events.push(wt));break;case Ft:case At:i.hasTouchEvent=!1,s.events.push(At);break;case Bt:if(n["pb"]&&!e.originalEvent.relatedTarget)return s;s.fireOut=!0}return s}addEvents(){var e,t,a,i=this,n=i.getFromEnv("chart"),o=n.getChildren("canvas"),r=i.config.evtData,l=i.eventsList;for(n.config.enableMouseOutEvent&&l.push(Bt),i._removeListners(),r.chart=n,r.mouseTracker=i,t=0;t<o.length;t++)for(a in e=o[t],l)e.addEventListener(l[a],i.handler)}_removeListners(){var e,t,a,i=this,n=i.getFromEnv("chart"),o=n.getChildren("canvas"),r=i.eventsList;for(a=0;a<o.length;a++)for(t in e=o[a],r)e.removeEventListener(r[t],i.handler);i._removeDocEvents()}_removeDocEvents(){this.eventOutput&&this.eventOutput.unlisten(),this.eventOutput=n["D"]}_dispose(){this._removeListners(),super._dispose()}}var It=Vt,Mt=function(e){let t;e.config.enablemousetracking?(Object(n["M"])(e,It,"mouseTracker"),t=e.getChildren("mouseTracker")[0],!e.config.mouseTrackerEventAdded&&(t.addEvents(),e.config.mouseTrackerEventAdded=!0)):(t=e.getChildren("mouseTracker")&&e.getChildren("mouseTracker")[0],t&&t._removeListners(),e.config.mouseTrackerEventAdded=!1)};let zt,Rt=Math.max,Nt=Math.min;class Gt extends r{constructor(){super(),this.registerFactory("axis",et,["canvas"]),this.registerFactory("canvas",st),this.registerFactory("vCanvas",Ot,["axis"]),this.registerFactory("mouseTracker",Mt,["canvas"])}static getName(){return"Cartesian"}getName(){return"Cartesian"}getType(){return"chartAPI"}_allocateXAxisLabelSpace(e){var t,a=this,i=a.config,n=e.getAxisEndLabelDisplaySpace(),o=n.left,r=n.right,l=n.top,s=n.bottom,c=i.availableWidth,h=i.availableHeight,d=i.canvasLeft,g=i.canvasRight,b=i.canvasTop,p=i.canvasBottom,u=i.width,m=i.height,f=function(e,t){return e<t&&0<t?t-e:0};l+s>h&&(t=l+s,l=h*l/t,s=h*s/t),o+r>c&&(t=o+r,o=c*o/t,r=c*r/t),o=f(d,o),r=f(u-g,r),l=f(b,l),s=f(m-p,s),a._allocateSpace({left:o,right:r,top:l,bottom:s})}_setCategories(){var e=this,t=e.getFromEnv("dataSource"),a=e.getChildren("xAxis"),i=t.categories&&t.categories.length&&t.categories[0].category;a&&a[0].setTickValues(i)}_feedAxesRawData(){var e,t,a=this,i=a.config,o=a.getFromEnv("dataSource");return e=a.getSpecificxAxisConf(),t=a.getSpecificyAxisConf(),e.vtrendlines=Object(n["T"])([],o.vtrendlines),t.trendlines=Object(n["T"])([],o.trendlines),i.isstacked&&(t.isPercent=Object(n["Bb"])(i.stack100percent,0)),{yAxisConf:[t],xAxisConf:[e]}}getSpecificxAxisConf(){var e=this,t=e.getFromEnv("chart-attrib"),a=e.config,i=e.config.is3D,o=e.getBasexAxisConf();return o.isReverse=a.reverseXAxis,o.axisLineColor=Object(n["zb"])(t.xaxislinecolor,t.axislinecolor,"#000000"),o.showAlternateGridColor=Object(n["Bb"])(t.showalternatevgridcolor,0),o.numDivLines=Object(n["Bb"])(t.numvdivlines,a.numVDivLines),o.axisName=t.xaxisname,o.setAdaptiveMin=Object(n["Bb"])(t.setadaptivexmin,a.setadaptivexmin,a.setadaptivexmin),o.showLimits=Object(n["Bb"])(t.showvlimits,a.showvlimits),o.showDivLineValues=Object(n["Bb"])(t.showvdivlinevalues,t.showvdivlinevalues,a.showvdivlinevalues),o.zeroPlaneThickness=Object(n["Bb"])(t.vzeroplanethickness,t.vdivlinethickness,a.zeroplanethickness,2),o.zeroPlaneAlpha=Object(n["Bb"])(t.vzeroplanealpha,t.vdivlinealpha,a.zeroplanealpha),o.showZeroPlaneValue=Object(n["Bb"])(t.showvzeroplanevalue,a.showzeroplanevalue),o.showAxisLine=i?0:Object(n["Bb"])(t.showxaxisline,t.showaxislines,t.drawAxisLines,a.showxaxisline,0),o.maxLabelHeight=t.maxlabelheight,o.showZeroPlane=Object(n["Bb"])(t.showvzeroplane,a.showzeroplane),o}getSpecificyAxisConf(){var e=this,t=e.getFromEnv("chart-attrib"),a=e.config,i=e.config.is3D,o=i?n["K"].chart3D:n["K"].chart2D,r=a.isInverse,l=e.getFromEnv("color-manager"),s=Object(n["Bb"])(t.showzeroplane,a.showzeroplane,1),c=Object(n["Bb"])(t.showzeroplanevalue,a.showzeroplanevalue);return s||c!==zt||(c=0),{isVertical:!0,isReverse:!r,isOpposit:!1,outCanfontFamily:Object(n["zb"])(t.outcnvbasefont,t.basefont,"Verdana,sans"),outCanfontSize:Object(n["Ab"])(t.outcnvbasefontsize,t.basefontsize,10),outCancolor:Object(n["zb"])(t.outcnvbasefontcolor,t.basefontcolor,l.getColor(o.baseFontColor)).replace(/^#? ([a-f0-9]+)/gi,"#$1"),axisBreaks:t.yaxisbreaks,axisNamePadding:t.yaxisnamepadding,axisValuePadding:t.yaxisvaluespadding,axisNameFont:t.yaxisnamefont,axisNameFontSize:t.yaxisnamefontsize,axisNameFontColor:t.yaxisnamefontcolor,axisNameFontBold:t.yaxisnamefontbold,axisNameFontItalic:t.yaxisnamefontitalic,axisNameBgColor:t.yaxisnamebgcolor,axisNameBorderColor:t.yaxisnamebordercolor,axisNameAlpha:t.yaxisnamealpha,axisNameFontAlpha:t.yaxisnamefontalpha,axisNameBgAlpha:t.yaxisnamebgalpha,axisNameBorderAlpha:t.yaxisnameborderalpha,axisNameBorderPadding:t.yaxisnameborderpadding,axisNameBorderRadius:t.yaxisnameborderradius,axisNameBorderThickness:t.yaxisnameborderthickness,axisNameBorderDashed:t.yaxisnameborderdashed,axisNameBorderDashLen:t.yaxisnameborderdashlen,axisNameBorderDashGap:t.yaxisnameborderdashgap,axisNameWidth:t.yaxisnamewidth,useEllipsesWhenOverflow:t.useellipseswhenoverflow,rotateAxisName:Object(n["Bb"])(t.rotateyaxisname,1),axisName:t.yaxisname,divLineColor:Object(n["zb"])(t.divlinecolor,l.getColor(o.divLineColor)),divLineAlpha:Object(n["zb"])(t.divlinealpha,i?l.getColor("divLineAlpha3D"):l.getColor("divLineAlpha")),divLineThickness:Object(n["Bb"])(t.divlinethickness,1),divLineIsDashed:!!Object(n["Bb"])(t.divlinedashed,t.divlineisdashed,0),divLineDashLen:Object(n["Bb"])(t.divlinedashlen,4),divLineDashGap:Object(n["Bb"])(t.divlinedashgap,2),showAlternateGridColor:Object(n["Bb"])(t.showalternatehgridcolor,1),alternateGridColor:Object(n["zb"])(t.alternatehgridcolor,l.getColor("altHGridColor")),alternateGridAlpha:Object(n["zb"])(t.alternatehgridalpha,l.getColor("altHGridAlpha")),numDivLines:Object(n["Bb"])(t.numdivlines,a.numDivLines),axisMinValue:a.yRangeMin||t.yaxisminvalue,axisMaxValue:a.yRangeMax||t.yaxismaxvalue,setAdaptiveMin:Object(n["Bb"])(t.setadaptivesymin,t.setadaptiveymin,a.setAdaptiveMin),adjustDiv:t.adjustdiv,labelStep:t.yaxisvaluesstep,showAxisValues:Object(n["Bb"])(t.showyaxisvalues,t.showyaxisvalue,a.showyaxisvalues),showLimits:Object(n["Bb"])(t.showyaxislimits,t.showlimits,e.showLimits),showDivLineValues:Object(n["Bb"])(t.showdivlinevalues,t.showdivlinevalue,a.showdivlinevalues),showZeroPlane:s,zeroPlaneColor:t.zeroplanecolor,zeroPlaneThickness:Object(n["Bb"])(t.zeroplanethickness,t.divlinethickness,a.zeroplanethickness,2),zeroPlaneAlpha:Object(n["Bb"])(t.zeroplanealpha,t.divlinealpha,a.zeroplanealpha),showZeroPlaneValue:c,showZeroPlaneOnTop:a.showzeroplaneontop,trendlineColor:t.trendlinecolor,trendlineToolText:t.trendlinetooltext,trendlineThickness:t.trendlinethickness,trendlineAlpha:t.trendlinealpha,showTrendlinesOnTop:t.showtrendlinesontop,showAxisLine:i?0:Object(n["Bb"])(t.showyaxisline,t.showaxislines,t.drawAxisLines,a.showyaxisline,0),axisLineThickness:Object(n["Bb"])(t.yaxislinethickness,t.axislinethickness,1),axisLineAlpha:Object(n["Bb"])(t.yaxislinealpha,t.axislinealpha,100),axisLineColor:Object(n["zb"])(t.yaxislinecolor,t.axislinecolor,"#000000"),forceTrendBelow:!!a.is3D}}getBasexAxisConf(){var e=this,t=e.getFromEnv("chart-attrib"),a=e.config.is3D,i=a?n["K"].chart3D:n["K"].chart2D,o=e.getFromEnv("color-manager");return{isVertical:!1,isOpposit:!1,outCanfontFamily:Object(n["zb"])(t.outcnvbasefont,t.basefont,"Verdana,sans"),outCanfontSize:Object(n["Ab"])(t.outcnvbasefontsize,t.basefontsize,10),outCancolor:Object(n["zb"])(t.outcnvbasefontcolor,t.basefontcolor,o.getColor(i.baseFontColor)).replace(/^#? ([a-f0-9]+)/gi,"#$1"),axisNamePadding:t.xaxisnamepadding,axisValuePadding:t.labelpadding,axisNameFont:t.xaxisnamefont,axisNameFontSize:t.xaxisnamefontsize,axisNameFontColor:t.xaxisnamefontcolor,axisNameFontBold:t.xaxisnamefontbold,axisNameFontItalic:t.xaxisnamefontitalic,axisNameBgColor:t.xaxisnamebgcolor,axisNameBorderColor:t.xaxisnamebordercolor,axisNameAlpha:t.xaxisnamealpha,axisNameFontAlpha:t.xaxisnamefontalpha,axisNameBgAlpha:t.xaxisnamebgalpha,axisNameBorderAlpha:t.xaxisnameborderalpha,axisNameBorderPadding:t.xaxisnameborderpadding,axisNameBorderRadius:t.xaxisnameborderradius,axisNameBorderThickness:t.xaxisnameborderthickness,axisNameBorderDashed:t.xaxisnameborderdashed,axisNameBorderDashLen:t.xaxisnameborderdashlen,axisNameBorderDashGap:t.xaxisnameborderdashgap,useEllipsesWhenOverflow:t.useellipseswhenoverflow,divLineColor:Object(n["zb"])(t.vdivlinecolor,t.divlinecolor,o.getColor(i.divLineColor)),divLineAlpha:Object(n["zb"])(t.vdivlinealpha,t.divlinealpha,a?o.getColor("divLineAlpha3D"):o.getColor("divLineAlpha")),divLineThickness:Object(n["Bb"])(t.vdivlinethickness,t.divlinethickness,1),divLineIsDashed:!!Object(n["Bb"])(t.vdivlinedashed,t.vdivlineisdashed,t.divlinedashed,t.divlineisdashed,0),divLineDashLen:Object(n["Bb"])(t.vdivlinedashlen,t.divlinedashlen,4),divLineDashGap:Object(n["Bb"])(t.vdivlinedashgap,t.divlinedashgap,2),alternateGridColor:Object(n["zb"])(t.alternatevgridcolor,o.getColor("altVGridColor")),alternateGridAlpha:Object(n["zb"])(t.alternatevgridalpha,o.getColor("altVGridAlpha")),labelFont:t.labelfont,labelFontSize:t.labelfontsize,labelFontColor:t.labelfontcolor,labelFontAlpha:t.labelalpha,labelFontBold:t.labelfontbold,labelFontItalic:t.labelfontitalic,axisMinValue:t.xaxisminvalue,axisMaxValue:t.xaxismaxvalue,adjustDiv:t.adjustvdiv,labelDisplay:t.labeldisplay,showLabels:t.showlabels,rotateLabels:t.rotatelabels,slantLabel:Object(n["Bb"])(t.slantlabels,t.slantlabel),labelStep:Object(n["Bb"])(t.labelstep,t.xaxisvaluesstep),showAxisValues:Object(n["Bb"])(t.showxaxisvalues,t.showxaxisvalue),zeroPlaneColor:t.vzeroplanecolor,trendlineColor:t.trendlinecolor,trendlineToolText:t.trendlinetooltext,trendlineThickness:t.trendlinethickness,trendlineAlpha:t.trendlinealpha,showTrendlinesOnTop:t.showtrendlinesontop,axisLineThickness:Object(n["Bb"])(t.xaxislinethickness,t.axislinethickness,1),axisLineAlpha:Object(n["Bb"])(t.xaxislinealpha,t.axislinealpha,100)}}getConfig(e){return e?this.config[e]:this.config}_getSumValueSpace(e){var t,a=Math.max,i=this,o={},r=i.isBar,l=i.getFromEnv("dataSource").chart,s=0===i.showsum?0:Object(n["Bb"])(l.showsum,i.showsum,0),c=Object(n["Bb"])(i.config.stack100percent),h=i.config.isstacked,d=0,g=[],b=0;if(i.iterateComponents(e=>{("cartesianStackGroup"===e.getName()||"marimekkoStackgroup"===e.getName())&&g.push(e)}),s&&c&&h&&g.length){for(t=g.length-1;0<=t;t--)o=g[t].getMaxSumValueSpace(),r?d=a(d,o.maxWidth):b=a(b,o.maxHeight);b>e&&(b=e),d>e&&(d=e)}return{top:b,right:d}}setAxisDimention(){var e=Math.max;let t=this,a=t.getChildren("xAxis")&&t.getChildren("xAxis")[0],i=t.getChildren("yAxis")&&t.getChildren("yAxis")[0],n=t.getFromEnv("chartConfig"),o=n.xDepth,r=t.getChildren("canvas")&&t.getChildren("canvas")[0].config,l=r&&r.canvasBorderWidth,s=r&&r.canvasPadding,c=r.canvasLeft,h=r&&r.canvasPaddingLeft,d=r&&r.canvasPaddingRight,g=r.canvasTop,b=r&&r.canvasPaddingTop;a&&a.setAxisConfig({canvasPaddingLeft:e(h,s),canvasPaddingRight:e(d,s)}),a&&a.setAxisDimention({x:c+(o||0)+e(h,s),y:n.canvasBottom+(n.shift||0)+l,opposite:g-l,axisLength:r.canvasWidth-(o||0)-e(h,s)-e(d,s)}),i&&i.setAxisDimention({x:c-l,y:g+b,opposite:n.canvasRight+l,axisLength:n.canvasHeight-b-r.canvasPaddingBottom})}_getTrendLineMinMax(e,t){var a,i,n,o,r,l=this,s="v"===e?l.getFromEnv("dataSource").vtrendlines:l.getFromEnv("dataSource").trendlines,c={max:-1/0,min:1/0};if(t=t||"p",s)for(i=0,o=s.length;i<o;i+=1)for(n=0,r=s[i].line?s[i].line.length:0;n<r;n+=1)a=s[i].line[n],("s"!==t||"s"===a.parentyaxis)&&("s"===t||"s"!==a.parentyaxis)&&(c.max=Rt(a.startvalue||-1/0,a.endvalue||-1/0,c.max),c.min=Nt(a.startvalue||1/0,a.endvalue||1/0,c.min));return c}}var Wt=Gt,Ht=a("1099"),Yt=function(e){let t,a,i,o,r=e.getFromEnv("dataSource"),l=r.dataset,s=e.getChildren(),c=s.canvas[0],h=t=c.getChildren("vCanvas")[0],d=e.config.defaultDatasetType||"";return l?(i=e.getDSGroupdef(),i&&(Object(n["M"])(t,i,"datasetGroup_"+d,1,[l]),o=t.getChildren("datasetGroup_"+d)),o&&(h=o[0]),a=e.getDSdef(),void Object(n["Q"])(h,a,"dataset",l.length,l)):void e.setChartMessage()},Xt=a("ffce");class Zt extends Wt{constructor(){super(),this.registerFactory("dataset",Yt,["vCanvas"]),this.registerFactory("legend",Xt["a"])}static getName(){return"MSCartesian"}getName(){return"MSCartesian"}getType(){return"chartAPI"}_createLayers(){super._createLayers();let e=this.getFromEnv("animationManager");this.getChildContainer("legendGroup")||this.addChildContainer("legendGroup",e.setAnimation({el:"group",attr:{name:"legend"},component:this,container:this.getContainer("parentgroup"),label:"group"}))}_manageLegendSpace(){Ht["a"].call(this)}manageGradientLegendSpace(e){return Ht["b"].call(this,e)}}var Kt=Zt,Ut=a("69c1"),Jt=a("3842"),qt=a("66d7"),$t=a("308c"),Qt=[{initialAttr:function(){return{opacity:0}},finalAttr:function(){return{opacity:1}}}],ea={"initial.dataset.entities":function(){return{"path.appearing":()=>(Qt[0].slot="plot",Qt),"path.updating":e=>[{finalAttr:function(){return e.finalAttr}}],"labelConnectors.appearing":()=>(Qt[0].slot="final",Qt),"labelConnectors.updating":null,"entityLabel.appearing":()=>[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"final"}],"*":null}},"initial.dataset.markers":function(){return{markers:null,"markerItem.appearing":()=>(Qt[0].slot="final",Qt),"markerItem.updating":e=>[{finalAttr:function(){return e.finalAttr}}]}},"initial.group.mapGroup":function(){return{"group.appearing":e=>[{initialAttr:function(){return Object.assign({opacity:0},e.attr)},finalAttr:function(){return e.attr},slot:"plot"}],"group.updating":e=>[{initialAttr:function(){return Object.assign({opacity:0},e.attr)},finalAttr:function(){return e.attr},slot:"plot"}],"*":null}}},ta=a("35a9"),aa=function(e){var t,a,i,n,o=window,r=o.parseFloat,l=e._createNode,s=e._setFillAndStroke,c=e.el.constructor,h={Q:"L",Z:"X",q:"l",z:"x",",":" "},d=/,?([achlmqrstvxz]),?/gi,g=function(){return this.join(",").replace(d,a)};e.svg?(a="$1",i=function(){var t=this,i=e.is(arguments[0],"array")?arguments[0]:Array.prototype.slice.call(arguments);i?"string"==typeof i?i=i.replace(d,a):i.toString=g:i="M0,0",t.node.setAttribute("d",i.toString())},e._engine.litepath=function(t,a,i,n,o){var r,h=l("path");return(n||a).canvas.appendChild(h),r=new c(h,a,n),r.type="litepath",r.id=h.raphaelid=e._oid++,h.raphael=!0,s(r,o||{fill:"none",stroke:"#000"}),r},e._getPath.litepath=function(t){return e.parsePathString(t.node.getAttribute("d"))}):e.vml&&(a=function(e,t){return h[t]||t},n=function(){var e=this;return e._transform.apply(e,arguments),e._.bcoord&&(e.node.coordsize=e._.bcoord),e},i=function(e){var t=this;return e?"string"==typeof e?e=e.replace(d,a):e.toString=g:e="M0,0",t.node.path=e,t},e._engine.litepath=function(t,a,i,o,s){var h,d=l("shape"),g=d.style,b=new c(d,a,o);return g.cssText="position:absolute;left:0;top:0;width:21600px;height:21600px;",i=r(i),isNaN(i)?d.coordsize="21600 21600":(b._.bzoom=i,g.width="1px",g.height="1px",d.coordsize=b._.bcoord=i+" "+i),d.coordorigin=a.coordorigin,b.type="litepath",b.id=d.raphaelid=e._oid++,d.raphael=!0,b._transform=b.transform,b.transform=n,e._setFillAndStroke(b,s||{fill:"none",stroke:"#000"}),(o||a).canvas.appendChild(d),h=l("skew"),h.on=!0,d.appendChild(h),b.skew=h,b},e._getPath.litepath=function(t){return e.parsePathString(t.node.path||"")}),e.fn.litepath=function(a,n,o){var r,l,s,h=this;return"object"==typeof a&&a.constructor!==c&&(r=a,a=a.litepath,l=a.zoom,o=a.group),n&&n.constructor===c?(o=n,l=t):l=n,a&&a.constructor===c&&(o=a,a=""),s=e._engine.litepath(a,this,l,o,r),s.ca.litepath=i,a&&s.attr("litepath",e.is(a,"array")?[a]:a),h.__set__&&this.__set__.push(s),h._elementsById[s.id]=s}};let ia,na=Object(L["b"])("redraphael","plugin"),oa=window.navigator.userAgent,ra=/msie/i.test(oa)&&!window.opera,la=",",sa="",ca="top",ha="bottom",da="right",ga="left",ba="middle",pa="center",ua="crisp",ma=window.Math,fa=ma.min,va=ma.max,xa=/stroke/gi,ya=/AppleWebKit/.test(oa),Ca=ma.ceil,Oa=function(e,t){let a=t?Object(n["T"])(e.FCcolor,t,!1,!0):{FCcolor:e};return a.toString=n["Mb"],a},La=function(e,t){let a,i={};if(t=t||1,!e||"object"!=typeof e)return i;for(a in e)xa.test(a)||("stroke-width"===a?(i[a]=+e[a]/t,ya&&(i[a]=i[a]&&Ca(i[a])||0)):i[a]=e[a]);return i},wa={right:function(){return arguments[1]},left:function(e,t){return e-t},center:function(e,t){return 2*fa(t,e-t)}},ka={top:function(){return arguments[1]},middle:function(e,t){return 2*fa(t,e-t)},bottom:function(e,t){return e-t}},ja=function(e){let t,a=e&&e.length||0,i={};for(;a--;)t=e[a],t.id!==ia&&(i[t.id.toLowerCase()]=t);return i};Object(L["a"])({name:"mapsAnimation",type:"animationRule",extension:ea}),aa(na);class Aa extends l["a"]{constructor(){super(),this.components={}}getName(){return"entities"}getType(){return"dataset"}configureAttributes(e){if(!e)return;this.JSONData={data:e};let t,a,i,o,r,l,s,c,h=this,d=h.getFromEnv("chart"),g=d.jsonData,b=h.config,p=g.map||g.chart,u=[],m=h.getFromEnv("colorManager"),f=g.entitydef||[];for(r in!b.attachEvent&&m&&(h.addExtEventListener("legendUpdate",function(){if(c=arguments[1],"legend"===c.component)h.legendInteractivity(c.legendItem,c.colorObj);else for(u=c.maxMinArray,l=u.length,s=0;s<l;s++)h.updateEntityColors(u[s].min,u[s].max)},m),b.attachEvent=!0),t=g.data&&g.data[0]&&g.data[0].data?h.JSONData=g.data[0].data||[]:h.JSONData=g.data||[],b.useSNameAsId=Object(n["Bb"])(p.usesnameasid,0),this._redefineEntities(f),a=h.components.data,b.showTooltip=Object(n["Bb"])(p.showtooltip,1),b.showHoverEffect=Object(n["Bb"])(p.showhovereffect,0),t=ja(t),h.calculateDataLimits(),g.colorrange||h.detachChild(h.getChildren("colorRange")&&h.getChildren("colorRange")[0].getId()),a)i=t[r],o=a[r],i?this._configureEntity(r,o,Object(n["mb"])(Aa._sanitizeEntityOptions(Object(n["T"])({},i)),o.config)):this._configureEntity(r,o,o.config)}updateEntityColors(e,t){let a,i,n,o,r,l,s=this,c=s.components.data,h=s.getFromEnv("chart"),d={"fill-opacity":0};for(o in c)a=c[o],i=a.config,n=i.cleanValue,r=i.alphaArr||[],l={"fill-opacity":r[0]/100||1},n<e||n>t?(Aa.setCustomAttrs(a,d,h),a.hidden=!0):(a.hidden=!1,Aa.setCustomAttrs(a,l,h))}legendInteractivity(e,t){let a,i,n,o,r,l,s=this,c=s.getFromEnv("chart"),h=s.components.data,d=e.config,g=e.hasState("hidden"),b=s.getFromEnv("colorManager"),p={},u={"fill-opacity":0};for(a in c.getFromEnv("animationManager").setAnimationState("legendInteraction"),h)h.hasOwnProperty(a)&&(i=h[a],d=i.config,n=d.cleanValue,l=b.getColorObj(n),o=d.visibleEntityAttr,p["fill-opacity"]=o["fill-opacity"],r=g?p:u,t.code===(!l.outOfRange&&l.code)&&(i.hidden=!g,Aa.setCustomAttrs(i,r,c),g?e&&e.removeLegendState("hidden"):e.setLegendState("hidden")))}static setCustomAttrs(e,t){let a,i;e&&(a=e.graphics,i=a.outlines,i.attr(t))}calculateDataLimits(){let e,t,a,i,n=this,o=n.getFromEnv("chart"),r=n.config,l=o.jsonData,s=l.data||[],c=this.getFromEnv("number-formatter"),h=1/0,d=-1/0;for(i=0,a=s.length;i<a;i++)t=s[i].value,e=c.getCleanValue(t),h=fa(h,e),d=va(d,e);r.max=d,r.min=h}_configureEntity(e,t,a){let i,o,r,l,c,h,d,g,b,p,u,m,f,v,x,y,C,O,L,w,k,j,A=this,F=A.getFromEnv("chart"),S=A.config,T=this.getFromEnv("number-formatter"),B=F.config,E=B.entityOpts,P=t.config,_=t.labelConfig,D=a.value,V=P.cleanValue=T.getCleanValue(D),I=P.formattedValue=V===ia?ia:T.dataLabels(V),M=Object(n["Bb"])(a.showtooltip,E.showTooltip),z=this._getDefaultTooltip(t,a,A),R={formattedValue:I,sName:a.shortLabel,lName:a.label},N=E.dataLabels.style,G=P.toolText=M?Object(n["xb"])(Object(n["zb"])(Object(n["wb"])(Object(n["zb"])(a.tooltext,E.tooltext,z),[1,2,7,38,39],R,a))):sa,W=P.borderColor=Object(n["zb"])(a.bordercolor,E.borderColor),H=P.borderAlpha=Object(n["zb"])(a.borderalpha,E.borderAlpha),Y=P.borderThickness=Object(n["Bb"])(a.borderthickness,E.borderThickness),X=E.hoverOnNull,Z=P.useHoverColor=Object(n["Bb"])(a.showhovereffect,a.usehovercolor,X?E.showHoverEffect:isNaN(D)?0:E.showHoverEffect),K=P.labelAlignment,U=A.getFromEnv("colorManager");if(t.hidden=!1,P.showLabel=Object(n["Bb"])(a.showlabel,E.showLabels),P.labelPadding=Object(n["Bb"])(a.labelpadding,E.labelPadding),P.fontFamily=Object(n["zb"])(a.font,N.fontFamily),P.fontSize=Object(n["Bb"])(parseInt(a.fontsize,10),parseInt(N.fontSize,10)),P.fontBold=Object(n["Bb"])(a.fontbold,0),P.fontColor=Object(n["zb"])(a.fontcolor,N.color),P.connectorColor=Object(n["zb"])(a.labelconnectorcolor,E.connectorColor),P.connectorAlpha=Object(n["zb"])(a.labelconnectoralpha,E.connectorAlpha),P.hoverBorderThickness=Object(n["Bb"])(a.borderhoverthickness,a.hoverborderthickness,E.hoverBorderThickness),P.hoverBorderColor=Object(n["zb"])(a.borderhovercolor,a.hoverbordercolor,E.hoverBorderColor,P.borderColor),P.hoverBorderAlpha=Object(n["zb"])(a.borderhoveralpha,a.hoverborderalpha,E.hoverBorderAlpha,P.borderAlpha),P.connectorThickness=Object(n["Bb"])(a.labelconnectorthickness,E.connectorThickness),P.origConnectorThickness=P.connectorThickness,P.borderThickness=Y,P.link=a.link,P.isVisible=!0,P.id=e,P.originalId=a.origId,null!==V&&(i=U&&U.getColor(V),i&&!i.outOfRange&&(y=i.code,i.oriAlpha!==ia&&(C=i.oriAlpha+""))),Object(n["zb"])(a.color,a.alpha,a.angle,a.ratio)===ia?(v=Oa({color:Object(n["zb"])(y,E.fillColor),alpha:Object(n["zb"])(C,E.fillAlpha),angle:Object(n["zb"])(E.fillAngle),ratio:Object(n["zb"])(E.fillRatio)}),f=Oa({color:Object(n["zb"])(E.nullEntityColor),alpha:Object(n["zb"])(E.nullEntityAlpha),angle:Object(n["zb"])(E.nullEntityAngle),ratio:Object(n["zb"])(E.nullEntityRatio)}),b=null===V?f:v,c=b.FCcolor.color,h=b.FCcolor.alpha,d=b.FCcolor.angle,g=b.FCcolor.ratio):(c=Object(n["zb"])(a.color,y,E.fillColor),h=Object(n["zb"])(a.alpha,C,E.fillAlpha),d=Object(n["zb"])(a.angle,E.fillAngle),g=Object(n["zb"])(a.ratio,E.fillRatio),b=Oa({color:c,alpha:h,angle:d,ratio:g})),G===sa&&(S.showTooltip=0),P.visibleEntityAttr={stroke:Object(s["c"])(W,H),fill:(P.fillColor=b).toString(),"fill-opacity":h/100},j=h.split(la),P.alphaArr=j,Z&&(Object(n["zb"])(a.fillhovercolor,a.fillhoveralpha,a.fillhoverangle,a.fillhoverratio,a.hoverfillcolor,a.hoverfillalpha,a.hoverfillratio,a.hoverfillangle)===ia?(!E.hoverColorObject&&(E.hoverColorObject=Oa({color:E.hoverFillColor,alpha:E.hoverFillAlpha,angle:E.hoverFillAngle,ratio:E.hoverFillRatio})),x=E.hoverColorObject):(c=Object(n["zb"])(a.fillhovercolor,a.hoverfillcolor,E.hoverFillColor),h=Object(n["zb"])(a.fillhoveralpha,a.hoverfillalpha,E.hoverFillAlpha),d=Object(n["zb"])(a.fillhoverangle,a.hoverfillangle,E.hoverFillAngle),g=Object(n["zb"])(a.fillhoverratio,a.hoverfillratio,E.hoverFillRatio),x=Oa({color:c,alpha:h,angle:d,ratio:g})),P.hoverColor=x),_||(_=t.labelConfig={}),p=P.fontColor,u=P.fontFamily,m=P.fontBold,G=P.toolText,o=P.link,K?(r=K[0],l=K[1]):(r=pa,l=ba),_.align=r,_.vAlign=l,_.bgColor=sa,_.borderColor=sa,_.fontColor=p,_.fontFamily=u,_.fontBold=m,_.toolText=G,_.link=o,"object"==typeof P.options)for(O=P.entityLabels=P.entityLabels||[],w=P.labels||[],k=w.length;k--;)O[k]||(O[k]={config:{}}),_=O[k].config,K=w[k].labelAlignment,K?(r=K[0],l=K[1]):(r=pa,l=ba),_.align=r,_.vAlign=l,_.displayValue=A.getDisplayValue(t,w[k],P.options.isDataEnabled,!k,a),_.bgColor=sa,_.borderColor=sa,_.toolText=G,_.align=r,_.vAlign=l,_.bgColor=sa,_.borderColor=sa,_.fontColor=p,_.fontFamily=u,_.fontBold=m,_.toolText=G;else L={shortText:P.shortLabel,text:P.label},_.displayValue=A.getDisplayValue(t,L,!0,!0,a)}getDisplayValue(e,t,a,i,o){let r,l=this.getFromEnv("chart"),s=l.config.entityOpts,c=e.config,h=c.cleanValue,d=c.formattedValue,g=s.labelSepChar;return a?i&&"undefined"!=typeof o.displayvalue?r=o.displayvalue:(r=Object(n["zb"])(s.includeNameInLabels?s.useShortName?t.shortText:t.text:""),s.includeValueInLabels&&null!==h&&(r=r===ia?d:r+g+d)):r=c.label,r}static _sanitizeEntityOptions(e){return delete e.outlines,delete e.label,delete e.shortlabel,delete e.labelposition,delete e.labelalignment,delete e.labelconnectors,e}_redefineEntities(e){let t,a,i,o,r,l,s,c,h,d,g,b,p=this,u=p.config,m=p.getFromEnv("chart"),f={},v={},x=m.config.entities,y=u.useSNameAsId,C=0;for(t=e.length;t--;)if(a=e[t],i=a.internalid,o=a.newid?a.newid:i,r=a.sname,l=a.lname,b=x[i],i=Object(n["Ob"])(i),o=Object(n["Ob"])(o),o=o&&o.toLowerCase(),b){for(g in f[o]=c={origId:i},v[i]=!0,b)c[g]=b[g];c.shortLabel=r||b.shortLabel,c.label=l||b.label,c.showhovereffect=a.showhovereffect,c.fillhovercolor=a.fillhovercolor,c.fillhoveralpha=a.fillhoveralpha,c.fillhoverangle=a.fillhoverangle,c.fillhoverratio=a.fillhoverratio,c.borderhoverthickness=a.borderhoverthickness}for(s in d=p.components.data,d||(d=p.components.data={}),f)s=s.toLowerCase(),d[s]||(d[s]={config:{}}),d[s].config=f[s],C+=1;for(s in h=d,x)if(c=x[s],s=Object(n["Ob"])(s),!v[s]){for(g in y?(b=h[c.shortLabel.toLowerCase()],!b&&(b=h[c.shortLabel.toLowerCase()]={}),b.config={},b.origId=c.shortLabel):(b=h[s.toLowerCase()],!b&&(b=h[s.toLowerCase()]={}),b.config={},b.config.origId=s),c)b.config[g]=c[g];C+=1}u.entityCount=C}draw(){let e,t=this,a=t.config,i=t.getFromEnv("chart"),o=n["ib"]?200:10;this.config.ready=!1,a.BATCH_SIZE=o,a.labelBatchSize=n["ib"]?200:20,e=this._batchRender(),e(0),i.config.entityFlag=!0,i.checkComplete()}_batchRender(){let e,t,a,i,n,o=this,r=o.config,l=o.getFromEnv("chart"),s=l.config.entities.firstEntity,c=o.components.data,h=r.BATCH_SIZE,d=r.entityKeys=s?o._getKeys(s,c):Object.keys(c),g=r.entityLength=d.length,b=function(r){for(e=r,a=0;d[e]!==ia;)if(t=c[d[e]],n=o.drawEntity(t,h),a+=n,t.config.drawn&&(i=e===g-1?t:c[d[e-1]],i&&(i.config.drawn=!1,i.config.outlineStartIndex=ia),e++),a>=h){o.addJob("entityDraw",b.bind(this,e),ta["b"].entitydraw);break}e===g&&(o._addEventListenersToEntities(0),o.initComplete())};return b}_addEventListenersToEntities(e){let t,a,i,n,o=this,r=o.components.data,l=o.config,s=l.BATCH_SIZE,c=l.entityKeys,h=l.entityLength,d=0;for(t=e;t<h;t++)if(a=r[c[t]],n=a.config,i=n.options,i&&!1===i.isDataEnabled||o.addMouseGestures(a),d++,d===s){o.addJob("_addEventListenersToEntities",o._addEventListenersToEntities.bind(this,t),ta["b"].entitydraw);break}}static _getKeys(e,t){let a=[e],i=e;for(;t[i];)i=t[i].nextId,a.push(i);return a}_getDefaultTooltip(e,t){let a,i,n=this,o=e.config.cleanValue,r=e.config.formattedValue,l=n.getFromEnv("chart").config.entityOpts;if("object"==typeof e.config.options){if(i=t.labels&&t.labels[0],!i)return ia;a=(l.useSNameInTooltip?i.shortText:i.text)+(null===o?sa:l.tooltipSepChar+r)}else a=(l.useSNameInTooltip?t.shortLabel:t.label)+(null===o?sa:l.tooltipSepChar+r);return a}drawEntity(e,t){let a,i,o,r,l,s,c,h,d,g=this,b=g.getFromEnv("chart"),p=b.getFromEnv("animationManager"),u=e.config,m=n["ib"]||!ra?"litepath":"path",f=b.config.entityOpts,v=u.outlines,x=g.getFromEnv("toolTipController"),y=this.getLinkedParent().getChildContainer("plot"),C=this.getLinkedParent().getChildContainer("plotShadow"),O=u.toolText,L=f.shadow,w=[],k={};if(g._configureEntityDrawingParams(e),u=e.config,o=u.visibleEntityAttr,d=u.shadowOptions,a=u.outlineStartIndex===ia?v.length:u.outlineStartIndex,e.graphics||(e.graphics={}),c=0,w=u.outlinePath||(u.outlinePath=[]),h=u.customStrokeWidthModifier,"object"==typeof u.options){for(;a--;)if(w=v[a].outline,r=!0===u.options.isDataEnabled?o:Object(n["T"])(Object(n["T"])({},o),La(v[a].style,h)),l=e.graphics.outlines,l||(l=e.graphics.outlines=[]),l[a]||(l[a]={}),s=l[a].outline,r[m]=w,s=l[a].outline=p.setAnimation({el:m,container:y,attr:r,component:g,label:"path"}),s.shadow(!!L&&d,C),x.enableToolTip(s,O),c++,u.outlineStartIndex=a,c===t)return c;return u.drawn=!0,c}for(;a--;)if(i=v[a],w=i.concat(w),c++,u.outlineStartIndex=a,c===t)return u.outlinePath=w,c;return e.graphics.outlines||(o[m]=w),Object.assign(k,o,e.hidden&&{"fill-opacity":0}||{}),e.graphics.outlines=p.setAnimation({el:e.graphics.outlines||m,container:y,attr:k,component:g,label:"path"}),u.drawn=!0,u.outlineStartIndex=0,u.outlinePath=[],e.graphics.outlines.shadow(!!L&&d,C),x.enableToolTip(e.graphics.outlines,O),c}_configureEntityDrawingParams(e){let t,a=this,i=a.getFromEnv("chart"),o=e.config,r=i.config.entityOpts,l=i.config.scalingParams,s=!ra||n["ib"],c=l.scaleFactor,h=l.strokeWidth,d=(s?i.baseScaleFactor:1)*h,g=1===r.scaleBorder,b=o.borderThickness,p=o.alphaArr,u=o.origConnectorThickness,m=o.hoverBorderThickness,f=o.visibleEntityAttr,v=f["fill-opacity"];o.shadowOptions={scalefactor:[c,c*i.config.baseScaleFactor],opacity:va.apply(ma,p)/100,useFilter:0},o.fillOpacity=e.hidden?0:v,s?(b=o.entityBorderThickness=g?b*d:b/c,u/=c,t=g?c:l.sFactor,m&&(m=o.hoverBorderThickness=g?m*d:m/c)):(b=g?b*h:b,t=g?l.scaleFactor:i.baseScaleFactor),o.entityBorderThickness=b,o.connectorThickness=u,o.customStrokeWidthModifier=t,f["stroke-width"]=b,f.transform=n["ib"]||!ra?"":l.transformStr}drawLabels(e){let t,a,i,n,o=this,r=e,l=o.getFromEnv("chart"),s=o.config,c=s.labelBatchSize,h=s.entityLength,d=[],g=0,b=l.getChildren("mapLabelAnnotations")&&l.getChildren("mapLabelAnnotations")[g],p=0,u=0,m=l.getFromEnv("toolTipController"),f=l.config.annotationConfig;for(t in b||(n=new qt["a"],l.attachChild(n,"mapLabelAnnotations"),b=l.getChildren("mapLabelAnnotations")[g]),b.clear(),b._renderer&&(b._renderer=null),f.showbelow=0,r){if(o.drawLabel(r[t],d),p++,p===c){for(b.annotation.injectDependency("paper",l.getFromEnv("paper")),b.annotation.injectDependency("toolTipController",m),a=0;a<d.length;a++)d[a].animationLabel="entityLabel";for(i=b.addGroup(Object.assign(f,{id:"entityLabels"+g,items:d,animationLabel:"entityLabelGroup"}),o),l.config.labelsOnTop&&i.store.element.toFront(),a=0;a<i.items.length;a++)i.items[a].addEventListener("mouseover",d[a].onmouseover),i.items[a].addEventListener("mouseout",d[a].onmouseout),i.items[a].addEventListener("click",d[a].onclick);g++,b=l.getChildren("mapLabelAnnotations")&&l.getChildren("mapLabelAnnotations")[g],b||(n=new qt["a"],l.attachChild(n,"mapLabelAnnotations"),b=l.getChildren("mapLabelAnnotations")[g]),b.clear(),b._renderer&&(b._renderer=null),p=0,d=[]}else if(u==h-1){for(b.annotation.injectDependency("paper",l.getFromEnv("paper")),b.annotation.injectDependency("toolTipController",m),a=0;a<d.length;a++)d[a].animationLabel="entityLabel";for(i=b.addGroup(Object.assign(f,{id:"entityLabels"+g,items:d,animationLabel:"entityLabelGroup"}),o),l.config.labelsOnTop&&i.store.element.toFront(),a=0;a<i.items.length;a++)i.items[a].addEventListener("mouseover",d[a].onmouseover),i.items[a].addEventListener("mouseout",d[a].onmouseout),i.items[a].addEventListener("click",d[a].onclick)}u++}o.drawLabelConnFn(0)}drawLabelConnFn(e){let t,a,i,n,o,r=this,l=r.config,s=r.components.data,c=l.BATCH_SIZE,h=l.entityKeys,d=h.length,g=0;for(a=e;a<d;a++){if(o=s[h[a]],n=o.config,"object"==typeof n.options)for(i=n.labels,t=i&&i.length||0;t--;)i[t].labelConnectors&&(r.drawLabelConnectors(o,i[t].labelConnectors,r),g++);else n.labelConnectors&&(r.drawLabelConnectors(o,n.labelConnectors,r),g++);if(g===c){r.addJob("drawLabelConnectors",r.drawLabelConnFn.bind(this,a),ta["b"].entitydraw);break}}}_getLabelObject(e,t,a){let i,n,o,r,l,s,c,h,d,g,b,p,u,m,f,v,x=this,y=x.getFromEnv("chart"),C=e.config,O=y.config.scalingParams,L=e.graphics&&e.graphics.outlines,w=C.fontSize,k=C.labelPadding,j=C.labels||[],A=C.entityLabels||[];return t===ia?(i=e.labelConfig,n=C.labelPosition,o=C.labelAlignment):(f=j[t],v=A[t],i=v.config,r=i.style=f.style,n=f.labelPosition,o=f.labelAlignment),n?(c=n[0],h=n[1]):(d=L.getBBox(),c=d.x+d.width/2,h=d.y+d.height/2),o?(g=o[0],b=o[1],g===da?c-=k:g===ga&&(c+=k),b===ca?h-=k:b===ha&&(h+=k)):(g=pa,b=ba),p=parseFloat(w)/O.sFactor,!a&&r&&(r.color&&(i.fontColor=r.color),r["font-size"]&&(p=parseFloat(r["font-size"])/O.sFactor),r["font-family"]&&(i.fontFamily=r["font-family"]),r["font-weight"]!==ia&&(i.fontBold="bold"===r["font-weight"])),i.x=c.toString(),i.y=h.toString(),i.wrap=1,i.type="text",i.fontSize=p,{x:c.toString(),y:h.toString(),wrapwidth:wa[g](l,c+u)-k,wrapheight:ka[b](s,h+m)-k,wrap:1,type:"text",align:i.align,valign:i.vAlign,text:i.displayValue,tooltext:i.toolText,css:i.link!==ia&&{cursor:"pointer",_cursor:"hand"},bgcolor:i.bgColor,bordercolor:i.borderColor,fillcolor:i.fontColor,fontsize:i.fontSize,font:i.fontFamily,bold:i.fontBold,onclick:function(t){let a,i,n=e.graphics.outlines;if(n instanceof Array)for(a=0,i=n.length;a<i;a++)x.entityClick(n[a].outline,t);else x.entityClick(n,t)},onmouseover:function(t){let a,i,n=e.graphics.outlines;if(n instanceof Array)for(a=0,i=n.length;a<i;a++)x.entityRollOver(n[a].outline,t);else x.entityRollOver(n,t)},onmouseout:function(t){let a,i,n=e.graphics.outlines;if(n instanceof Array)for(a=0,i=n.length;a<i;a++)x.entityRollOut(n[a].outline,t);else x.entityRollOut(n,t)},ontouchstart:function(t){let a,i,n=e.graphics.outlines;if(n instanceof Array)for(a=0,i=n.length;a<i;a++)x.entityRollOver(n[a].outline,t);else x.entityRollOver(n,t);x.entityRollOver(n,t)}}}drawLabel(e,t){let a,i,n,o=this,r=e.config,l=r.showLabel;if(l)if("object"==typeof r.options)for(n=r.labels,i=n&&n.length||0,a=r.options.isDataEnabled;i--;)t.push(o._getLabelObject(e,i,a,!i));else t.push(o._getLabelObject(e,ia,!0,!0))}drawLabelConnectors(e,t,a){let i,o,r=e.config,l=this,c=l.getFromEnv("chart"),h=c.getFromEnv("animationManager"),d=c.config.scalingParams,g=a.getLinkedParent().getChildContainer("plot"),b=t&&t.length||0,p=r.showLabel;for(;b--;)o=t[b],i=e.graphics.connectorElem,p?e.graphics.connectorElem=i=h.setAnimation({el:e.graphics.connectorElem||"path",attr:{path:o,opacity:1,transform:n["ib"]||!ra?"":d.transformStr,stroke:Object(s["c"])(r.connectorColor,r.connectorAlpha),"shape-rendering":ua,"stroke-width":r.connectorThickness},container:g,component:l,label:"labelConnectors"}):i&&i.hide()}entityClick(e,t){let a=e.node.__entity,i=this,n=i.getFromEnv("chart"),o=n.config.scalingParams,r=a.graphics.outlines.getBBox(),l=n.getFromEnv("linkClickFN"),s=a.config,c=s.link;r.width*=o.scaleFactor,r.height*=o.scaleFactor,r.x=r.x*o.scaleFactor+o.translateX,r.y=r.y*o.scaleFactor+o.translateY,r.x2=r.x+r.width,r.y2=r.y+r.height,n.fireChartInstanceEvent("entityclick",s.eventArgs,t),c!==ia&&l.call({link:c,entity:a,entityBox:r},!0)}entityRollOver(e,t){let a=e.node.__entity,i=this,n=a.config,o=i.getFromEnv("chart"),r=o.getFromEnv("animationManager"),l=n.hoverAttr;o.plotEventHandler(e,t,"entityRollOver"),e.data("hovered")?clearTimeout(a.config.timer):n.useHoverColor&&n.isVisible&&!a.hidden&&l&&(o.config.hoverEntity=e,r.setAnimation({el:e,attr:l,component:i,state:"updating",label:"path"}),e.data("hovered",!0))}entityRollOut(e,t){let a,i=e.node.__entity,n=this,o=n.getFromEnv("chart"),r=o.getFromEnv("animationManager"),l=i.config,s=l.revertAttr;o.plotEventHandler(e,t,"entityRollOut"),i.config.timer=setTimeout(function(){a=i.hidden,!0!==a&&s&&(r.setAnimation({el:e,attr:s,component:n,state:"updating",label:"path"}),e.data("hovered",!1))},100)}addMouseGestures(e){let t,a,i,o,r,l=e.config,c=l.originalId,h=this,d=e.graphics,g=l.useHoverColor,b=l.hoverBorderThickness,p=l.hoverBorderColor,u=l.hoverBorderAlpha,m=l.entityBorderThickness,f=l.borderColor,v=l.borderAlpha,x=l.link,y=l.visibleEntityAttr,C=function(t){x!==ia&&t.css({cursor:"pointer",_cursor:"hand"}),t.data("eventArgs",l.eventArgs),t.data("groupId","groupId"+c),t.node.__entity=e,e._listenersBinded||t.click(h.entityClick.bind(h,t)).hover(h.entityRollOver.bind(h,t),h.entityRollOut.bind(h,t))};for(t in l.eventArgs={value:l.cleanValue,label:l.label,shortLabel:l.shortLabel,originalId:l.origId,id:l.id||l.origId},l.legacyEventArgs={value:l.value,lName:l.label,sName:l.shortLabel,id:l.originalId||l.id},g&&(l.hoverAttr={fill:Object(n["Mb"])(l.hoverColor)},l.revertAttr={fill:Object(n["Mb"])(l.fillColor),stroke:Object(n["Mb"])(l.borderColor,l.borderAlpha)},l.revertAttr["fill-opacity"]=y["fill-opacity"],b!==m&&(l.hoverAttr["stroke-width"]=Object(n["Bb"])(b,m),l.revertAttr["stroke-width"]=m),(p!==f||u!==v)&&(l.hoverAttr.stroke=Object(s["c"])(p,u),l.revertAttr.stroke=Object(s["c"])(f,v))),d)if(d.hasOwnProperty(t))if(d[t]instanceof Array){for(r=d[t],a=0,o=r.length;a<o;a++)i=r[a].outline,C(i);e._listenersBinded=!0}else i=d[t],C(i),e._listenersBinded=!0}getDataLimits(){let e=this,t=e.config;return{max:t.max,min:t.min}}initComplete(){let e=this,t=e.getFromEnv("chart"),a=e.components.data;this.drawLabels(a),t.config.entitiesReady=!0,t.checkComplete()}}var Fa,Sa=Aa,Ta=function(e,t,a,i,n){var o=Math.pow;return o(a-e,2)+o(i-t,2)<=o(n,2)},Ba=Math.PI,Ea=Math.cos,Pa=Math.sin,_a=Math.max,Da=Math.min,Va=Ba/180,Ia=function(e){return e%360*Va},Ma=function(e,t,a,i,n,o){var r,l,s;return r=(i-t)*(n-a),l=(a-e)*(o-i),isNaN(r)&&(r=0),isNaN(l)&&(l=0),s=r-l,0===s?0:0<s?1:2},za=function(e,t,a,i,n,o){return!!(a<=_a(e,n)&&a>=Da(e,n)&&i<=_a(t,o)&&i>=Da(t,o))},Ra=function(e,t,a,i,n,o,r,l){var s=Ma(e,t,a,i,n,o),c=Ma(e,t,a,i,r,l),h=Ma(n,o,r,l,e,t),d=Ma(n,o,r,l,a,i);return!(s===c||h===d)||!(0!==s||!za(e,t,n,o,a,i))||!(0!==c||!za(e,t,r,l,a,i))||!(0!==h||!za(n,o,e,t,r,l))||!(0!==d||!za(n,o,a,i,r,l))},Na=function(e,t,a,i,n,o,r){var l,s,c,h,d,g,b,p=0,u=!1;if(Ta(e,t,a,i,n)&&3<=o){for(s=r===Fa?.5*Ba:Ia(r),b=2*Ba/o,c=a+n*Ea(-s),g=i+n*Pa(-s),l=0;l<o;l++){if(s+=b,h=a+n*Ea(-s),d=i+n*Pa(-s),Ra(c,g,h,d,e,t,1/0,t)){if(0===Ma(c,g,e,t,h,d))return za(c,g,e,t,h,d);p++}c=h,g=d}u=0!=p%2}return u},Ga=(e,t)=>!e||e&&t&&t.i>e.i?t:e;function Wa(e){function t(e,t,a){var i=e[t];e[t]=e[a],e[a]=i}function a(e,t,i,r){var l,s={},c=r?"y":"x";return t===i?(s.point=e[t],s):1==i-t?(e[t][c]>e[i][c]?(s.point=e[t],s.left={point:e[i]}):(s.point=e[i],s.left={point:e[t]}),s):(l=t+i>>1,r?o(e,l,t,i):n(e,l,t,i),s.point=e[l],s.left=a(e,t,l-1,!r),s.right=a(e,l+1,i,!r),s)}var i,n,o,r=e&&e[0]&&e[0].r||5,l=Math.max,s=Math.floor,c=Math.sqrt,h=Math.min,d=Math.log,g=Math.exp,b=Math.pow;for(n=function(e,a,i,o){for(var r,b,p,u,m,f,v,x,y,C;o>i;){for(600<o-i&&(r=o-i+1,b=a-i+1,p=d(r),u=.5*g(2*p/3),m=.5*c(p*u*(r-u)/r)*(0>b-r/2?-1:1),f=l(i,s(a-b*u/r+m)),v=h(o,s(a+(r-b)*u/r+m)),n(e,a,f,v)),x=e[a],y=i,C=o,t(e,i,a),e[o].x>x.x&&t(e,i,o);y<C;){for(t(e,y,C),y++,C--;e[y].x<x.x;)y++;for(;e[C].x>x.x;)C--}e[i].x===x.x?t(e,i,C):(C++,t(e,C,o)),C<=a&&(i=C+1),a<=C&&(o=C-1)}},o=function(e,a,i,n){for(var r,b,p,u,m,f,v,x,y,C;n>i;){for(600<n-i&&(r=n-i+1,b=a-i+1,p=d(r),u=.5*g(2*p/3),m=.5*c(p*u*(r-u)/r)*(0>b-r/2?-1:1),f=l(i,s(a-b*u/r+m)),v=h(n,s(a+(r-b)*u/r+m)),o(e,a,f,v)),x=e[a],y=i,C=n,t(e,i,a),e[n].y>x.y&&t(e,i,n);y<C;){for(t(e,y,C),y++,C--;e[y].y<x.y;)y++;for(;e[C].y>x.y;)C--}e[i].y===x.y?t(e,i,C):(C++,t(e,C,n)),C<=a&&(i=C+1),a<=C&&(n=C-1)}},e=e||[],i=e.length;i--;)e[i].r>r&&(r=e[i].r),e[i].i=i,e[i].x=+e[i].x,e[i].y=+e[i].y;return{tree:0===e.length?{}:a(e,0,e.length-1,!1),search:function(e,t,a,i){function n(e,t,a,i){return c(b(e-a,2)+b(t-i,2))}function o(i,o){return"circle"===a?n(i,o,e,t)<=m:i>=m&&i<=f&&o>=v&&o<=x}function l(e,t,a){return e>=t&&e<=a}function s(a){var i=l(e,a.x1,a.x2)&&l(t,a.y1,a.y2),o=n(e,t,a.point.x,a.point.y);return d?void(i?y?a.point.i>d.point.i&&(d=a,y=i,C=o):(d=a,y=i,C=o):!y&&o<C&&(d=a,y=i,C=o)):(d=a,y=i,void(C=o))}function h(i,n){"circle"===a?m=i:(m=e-i||0,f=e+i||0,v=t-n||0,x=t+n||0)}var d,g,p,u=this.tree,m=e-r,f=e+r,v=t-r,x=t+r,y=!1,C=0;return i=i||{},p=function(e){var t,a;e&&e.point&&(t=i.rx||e.point.r,a=i.ry||e.point.r,h(t,a),o(e.point.x,e.point.y)&&s(e),v<=e.point.y&&g(e.left),x>=e.point.y&&g(e.right))},g=function(e){var t,a;e&&e.point&&(t=i.rx||e.point.r,a=i.ry||e.point.r,h(t,a),o(e.point.x,e.point.y)&&s(e),m<=e.point.x&&p(e.left),f>=e.point.x&&p(e.right))},g(u),d&&d.point||d}}}class Ha{constructor(e){var t=this;t.configure(e)}configure(e){var t=this;t.validatorFn=e?t.shapeValidator():t.defaultValidator()}defaultValidator(){var e=Math.pow,t=this;return function(a){var i=t.mousePoint;return!!(a&&1>=e((a.x-i.x)/t.xLimit,2)+e((a.y-i.y)/t.yLimit,2))}}shapeValidator(){var e=this;return function(t){var a,i,n,o,r,l,s,c,h,d=e.mousePoint,g=t&&t.shapeInfo,b=!1,p=d.x,u=d.y;return a=g&&g.type,"circle"===a?(n=g.radius,b=Ta(p,u,t.x,t.y,n)):"arc"===a?(i=g.innerradius,n=g.radius,b=!Ta(p,u,t.x,t.y,i)&&Ta(p,u,t.x,t.y,n)):"polygon"===a?(n=g.radius,r=g.startAngle,o=g.sides,b=Na(p,u,t.x,t.y,n,o,r)):"rect"===a||"rectangle"===a?(l=t.x,c=t.y,s=l+(g.width||0),h=c+(g.height||0),b=p>=l&&p<=s&&u>=c&&u<=h):"default"===a&&(b=!1),b}}buildKdTree(e){return this.kdTree=Wa(e),this.tree=this.kdTree.tree,this}getNeighbour(e,t,a){var i=this,n=i.tree,o={x1:e.x-i.xLimit,x2:e.x+i.xLimit,y1:e.y-i.yLimit,y2:e.y+i.yLimit},r=i.validatorFn;return i.mousePoint=e,t?this.kdTree&&this.kdTree.search(e.x,e.y,a,e.options):n?i._searchBtwnLimit(o,n,!0,r):void 0}_searchBtwnLimit(e,t,a,i){var n,o,r=this,l=a?"x":"y",s=a?e.x1:e.y1,c=a?e.x2:e.y2;if(n=t&&t.point&&t.point[l],n!==Fa)return i(t.point)&&(o=t.point),n>=s&&t.left&&(o=Ga(o,r._searchBtwnLimit(e,t.left,!a,i))),n<=c&&t.right&&(o=Ga(o,r._searchBtwnLimit(e,t.right,!a,i))),o}_setSearchLimit(e,t){var a=this;a.xLimit=e,a.yLimit=t}}Ha.prototype.constructor=Ha;var Ya=Ha;let Xa,Za=window.navigator.userAgent,Ka=/msie/i.test(Za)&&!window.opera,Ua="",Ja="top",qa="bottom",$a="right",Qa="left",ei="middle",ti="center",ai=.6,ii=window.Math,ni=ii.min,oi=ii.max,ri="items",li=Math.PI,si=li/180,ci="rgba(192,192,192,"+(Ka?.002:1e-6)+")",hi=function(e,t){let a=t?Object(n["T"])(e.FCcolor,t,!1,!0):{FCcolor:e};return a.toString=n["Mb"],a},di=function(e,t){let a,i=e&&e.length||!1,n=t||"id",o={};if(!e)return e;for(;i--;)a=e[i],a[n]!==Xa&&(o[a[n].toLowerCase()]=a);return o};Object(L["a"])({name:"mapsAnimation",type:"animationRule",extension:ea});class gi extends Sa{constructor(){super(),this.components={},this.getLabelAlignment={top:function(e,t,a){return{x:e.toString(),y:(t-a).toString(),align:ti,valign:Ja}},left:function(e,t,a){return{x:(e-a).toString(),y:t.toString(),align:$a,valign:ei}},right:function(e,t,a){return{x:(e+a).toString(),y:t.toString(),align:Qa,valign:ei}},bottom:function(e,t,a){return{x:e.toString(),y:(t+a).toString(),align:ti,valign:qa}},center:function(e,t){return{x:e.toString(),y:t.toString(),align:ti,valign:ei}}},this.getWrapWidth={right:function(){return arguments[1]},left:function(e,t){return e-t},center:function(e,t){return 2*ni(t,e-t)}},this.getWrapHeight={top:function(){return arguments[1]},middle:function(e,t){return 2*ni(t,e-t)},bottom:function(e,t){return e-t}}}getName(){return"markers"}getType(){return"dataset"}configureAttributes(e){if(e){this.JSONData=e;let t=this,a=t.getFromEnv("chart"),i=a.config.markerOpts;t.calculateDataLimits(),i.dataEnabled?this._parseMarkers():this.defineMarkersNShapes(),this.configureConnectors()}}calculateMarkerRadiusLimits(){if(this.JSONData){let e=this,t=e.JSONData,a=e.config,i=e.getFromEnv("chart"),n=i.config.width,o=i.config.height,r=t.markermaxradius,l=t.markerminradius,s=gi.getMarkerRadiusLimits(n,o,r,l);a.minRadius=s.min,a.maxRadius=s.max}}calculateDataLimits(){let e,t,a,i,n,o=this,r=o.getFromEnv("chart"),l=o.config,s=r.jsonData,c=s.markers||{},h=c[ri]||[],d=this.getFromEnv("number-formatter"),g=1/0,b=-1/0;for(n=0,a=h.length;n<a;n++)e=h[n],i=e.value,t=d.getCleanValue(i),null!==t&&(g=ni(t,g),b=oi(t,b));l.min=g,l.max=b}_parseMarkers(){let e,t,a,i,o,r,l,s,c=this,h=c.getFromEnv("chart"),d=h.jsonData,g=d.markers,b=g[ri],p=g.shapes,u=h.config.markerOpts,m=this.getFromEnv("number-formatter"),f=c.components.shapeObjs={},v=c.components.markerObjs={};if(b&&b.length){if(p&&p.length)for(t=p.length;t;t-=1)i=p[t-1],(s=i.id.toLowerCase())&&(f[s]=i);for(t=b.length;t--;)i=b[t],(s=i.id&&i.id.toLowerCase())&&(e=i.value,e!==Xa&&""!==e&&(e=parseFloat(e)),a=gi._initializeMarkerItem(s,i,null,h),o=a.config.options.shapeid,o&&"string"==typeof o&&(o=o.toLowerCase()),r=a.config,l=r.options,r.cleanValue=m.getCleanValue(e),r.formattedValue=null===r.cleanValue?Xa:m.dataLabels(e),r.fillColor=Object(n["zb"])(l.fillcolor,l.color,u.fillColor),r.fillAlpha=Object(n["zb"])(l.fillalpha,l.alpha,u.fillAlpha),r.fillRatio=Object(n["zb"])(l.fillratio,u.fillRatio),r.fillAngle=Object(n["zb"])(l.fillangle,u.fillAngle),r.borderThickness=Object(n["Bb"])(l.borderthickness,u.borderThickness),r.borderColor=Object(n["zb"])(l.bordercolor,u.borderColor),r.borderAlpha=Object(n["zb"])(l.borderalpha,u.borderAlpha),r.labelPadding=l.labelpadding||u.labelPadding,a.dataset=c,i.__hideMarker&&(a._isHidden=!0),o&&(a.shapeObj=f[o]),v[s]=a)}}defineMarkersNShapes(){let e,t,a,i,o,r,l,s,c=this,h=c.getFromEnv("chart"),d=h.jsonData,g=d.markers,b=g.definition,p=this.getFromEnv("number-formatter"),u=h.config.markerOpts,m=di(b)||{},f=di(g.application)||{},v=g.shapes,x=c.components.shapeObjs=c.components.shapeObjs||(c.components.shapeObjs={}),y=c.components.markerObjs=c.components.markerObjs||(c.components.markerObjs={});if(b&&b.length){if(v&&v.length)for(i=v.length;i;i-=1)r=v[i-1],(s=r.id.toLowerCase())&&(x[s]=r);for(s in m)r=m[s],o=y[s]=gi._initializeMarkerItem(s,r,f[s],h),o.dataset=c,l=o.config.options.shapeid,t=o.config,a=r.value,t.cleanValue=p.getCleanValue(a),e=t.options,t.formattedValue=null===t.cleanValue?Xa:p.dataLabels(a),t.fillColor=Object(n["zb"])(e.fillcolor,e.color,u.fillColor),t.fillAlpha=Object(n["zb"])(e.fillalpha,e.alpha,u.fillAlpha),t.fillRatio=Object(n["zb"])(e.fillratio,u.fillRatio),t.fillAngle=Object(n["zb"])(e.fillangle,u.fillAngle),t.borderThickness=Object(n["Bb"])(e.borderthickness,u.borderThickness),t.borderColor=Object(n["zb"])(e.bordercolor,u.borderColor),t.borderAlpha=Object(n["zb"])(e.borderalpha,u.borderAlpha),t.labelPadding=e.labelpadding||u.labelPadding,t.options.tooltext=Object(n["zb"])(e.tooltext,u.tooltext),t.link=e.link,l&&(o.shapeObj=x[l.toLowerCase()])}}static getMarkerRadiusLimits(e,t,a,i){let n=ni(e,t),o=.02;return i=parseFloat(i),a=parseFloat(a),isNaN(i)||isNaN(a)?isNaN(i)?isNaN(a)?{min:o*n,max:3.5*o*n}:{min:parseInt(a/10,10),max:a}:{min:i,max:10*i}:i<a?{min:i,max:a}:{min:a,max:i}}getDataLimits(){let e=this,t=e.config;return{min:t.min,max:t.max}}static _initializeMarkerItem(e,t,a){let i,o={},r=o.config;return r||(r=o.config={}),r.id=e,r.definition=t,r.application=a,r.hasValue=null,r.value=null,r.options=null,r.label=null,r.markerShape=null,r.markerLabel=null,r.drawOptions={shape:null,label:null},r.drawComplete=!1,i=o.config.options=Object(n["T"])({},r.definition),r.dataEnabled?!isNaN(i.value)&&""!==i.value&&(o.value=parseFloat(i.value),o.hasValue=!0):r.applyAll?r.options=Object(n["T"])(i,r.application):a&&(r.options=Object(n["T"])(i,r.application)),o}configureConnectors(){let e,t,a,i,o,r,l,s,c,h,d,g,b,p,u,m=this,f=m.getFromEnv("chart"),v=f.jsonData,x=m.components,y=v.markers||{},C=y.connector||y.connectors||[],O=x.markerObjs,L=C.length,w=m.components.connectors,k=function(e){return function(t){let a=this,i=a.getElement();i&&a.unfilteredConfig.hoverEffect&&i.attr(a.unfilteredConfig._hoverAttrs),f.fireChartInstanceEvent("connectorrollover",e,t)}},j=function(e){return function(t){let a=this,i=a.getElement();i&&a.unfilteredConfig.hoverEffect&&i.attr(a.unfilteredConfig._defaultAttrs),f.fireChartInstanceEvent("connectorrollout",e,t)}},A=function(e){return function(t){f.fireChartInstanceEvent("connectorClick",e,t)}},F=f.config.connectorOpts,S={};for(w=m.components.connectors=[],u=0;u<L;u++)p=C[u],(p.from||p.to)&&(a=O[p.from.toLowerCase()],i=O[p.to.toLowerCase()],a&&i)&&(o=C[u].label,S=w[u],S||(S=w[u]={}),S.config||(e=S.config={}),S.graphics||(S.graphics={}),e=S.config=Object(n["T"])({},p),e.fromMarker=a,e.toMarker=i,e.link=p.link,e.showTooltip=Object(n["Bb"])(p.showtooltip,F.showTooltip),r=e.tooltext=e.showTooltip?Object(n["zb"])(p.tooltext,F.tooltext):Ua,l=e.thickness=Object(n["zb"])(p.thickness,F.thickness),s=e.color=Object(n["zb"])(p.color,F.color),c=e.alpha=Object(n["zb"])(p.alpha,F.alpha),e.hoverEffect=Object(n["Bb"])(p.showhovereffect,F.showHoverEffect),h=Object(n["zb"])(p.hovercolor,F.hoverColor,s),d=Object(n["zb"])(p.hoveralpha,F.hoverAlpha,c),g=Object(n["zb"])(p.hoverthickness,F.hoverThickness,l),e.dashed=Object(n["zb"])(p.dashed,F.dashed),e.dashLen=Object(n["Bb"])(p.dashlen,F.dashlen),e.dashGap=Object(n["Bb"])(p.dashgap,F.dashgap),r&&(e.tooltext=r=Object(n["xb"])(Object(n["wb"])(r,[3,40,41,42,43],{label:o,fromId:a.config.definition.id,toId:i.config.definition.id,fromLabel:a.config.definition.label,toLabel:i.config.definition.label},t))),e.eventArgs={fromMarkerId:a.config.id,toMarkerId:i.config.id,label:o},e._hoverAttrs={stroke:hi({color:h,alpha:d}).toString(),"stroke-width":g},e._defaultAttrs={stroke:hi({color:s,alpha:c}).toString(),"stroke-width":l},e.type="line",e.onclick=A(e.eventArgs),e.onmouseover=k(e.eventArgs),e.onmouseout=j(e.eventArgs),o&&(b=S.labelConfig,!b&&(b=S.labelConfig={}),b.type="text",b.text=o,b.align=ti,b.valign=ei,b.font=F.font,b.fillcolor=F.fontColor,b.bgcolor=F.labelBgColor,b.bordercolor=F.labelBorderColor,b.tooltext=e.tooltext))}draw(){let e,t,a,i,n,o,r,l=this,s=l.getFromEnv("chart"),c=l.config,h=s.getChildren("mapAnnotations")[0],d=l.components.markerObjs,g=s.config,b=g.markerOpts,p=g.scalingParams,u=s.config.annotationConfig,m=l.getFromEnv("toolTipController"),f=[],v=[],x={};for(i in this._drawConnectors(),l.imageLoadCount=0,l.imageCount=0,r=h.addGroup(Object.assign(u,{id:"markers",fillalpha:"100",items:f,scaleimages:1}),l),o=h.addGroup(Object.assign(u,{id:"markerLabels",items:v,scaleimages:1}),l),g.labelsOnTop&&s.getChildren("mapLabelAnnotations")&&s.getChildren("mapLabelAnnotations")[0].annotation.groups[0].store.element.toFront(),l.components.markerGroup=r,l.components.markerLabelGroup=o,c.autoScale=b.autoScale?p.sFactor:1,d)e=null,t=d[i],a=t.config,a.conIsHidden||(e=this._drawMarkerItem.call(t)),e&&(a._annotationIndex=f.length,x[i]=t,t.markerShape=e.markerShape&&h.addItem(r.getId(),Object.assign({align:"center",valign:"middle",animationLabel:"markerItem"},e.markerShape),!0,l),n=t.markerShape&&t.markerShape.getElement(),n&&m.enableToolTip(n,t.config.tooltext),f.push(t.markerShape),t.markerLabel=e.markerLabel&&h.addItem(o.getId(),Object.assign({animationLabel:"markerItem"},e.markerLabel),!0,l),v.push(t.markerLabel));l.addJob("buildKdtree",l._buildKdTree.bind(l),ta["b"].kdTree)}_buildKdTree(){let e,t,a=this,i=a.components.kdArrayMap,n=a.components.markerGroup,o=[],r=n&&n.items,l=r&&r.length||0;for(t=0;t<l;t++)e=r[t].config.id,i[e]&&o.push(i[e]);a.components.kDTree||(a.components.kDTree=new Ya(!0)),a.components.kDTree._setSearchLimit(1/0,1/0),a.components.kDTree.buildKdTree(o)}_drawMarkerItem(){let e,t,a,i,o,r,l,c,h,d,g,b,p,u,m,f,v,x,y,C,O=this,L=O.dataset,w=L.getFromEnv("chart"),k=w.config,j=L.config,A=k.scalingParams,F=O.config,S=F.options,T=F.definition,B=k.markerOpts,E=B.dataLabels.style,P=S.shapeid,_=S.scale||1,D=S.label||Ua,V=w.config.scalingParams.scaleFactor*w.config.baseScaleFactor,I=(S.labelpos||Ja).toLowerCase(),M=F.formattedValue===Xa?Xa:F.formattedValue,z=S.tooltext||B.tooltext,R=Object(n["Bb"])(T.radius,F.radius,B.radius)*_*j.autoScale||1e-4,N=F.fillColor,G=F.fillAlpha,W=F.fillRatio,H=F.fillAngle,Y=F.borderThickness,X=F.borderColor,Z=F.borderAlpha,K=L.components.kdArrayMap||(L.components.kdArrayMap={}),U=O.config.id;if(F.autoScale=B.autoScale?V:1,P)return z=z?Object(n["xb"])(Object(n["wb"])(z,[1,2,3],{formattedValue:M,label:D},S)):M?D+B.tooltipSepChar+M:D,M!==Xa&&null!==M?D=D+B.labelSepChar+M:isNaN(_)?_=1:0>_?_=0:5<_&&(_=5),Object(n["T"])(S,{x:S.x&&S.x.toString(),y:S.y&&S.y.toString(),fillcolor:N,fillalpha:G,fillratio:W,fillangle:H,borderthickness:Y,bordercolor:X,borderalpha:Z,hovereffect:Object(n["zb"])(B.showHoverEffect),radius:R&&R.toString(),link:S.link,showshadow:Object(n["Bb"])(S.showshadow,F.shadow),_markerLabel:D,_markerId:S.id,id:(S.id+Ua).toLowerCase()}),delete S.tooltext,F.tooltext=!!B.showTooltip&&z,m=+S.x*A.sFactor+A.translateX,f=+S.y*A.sFactor+A.translateY,R=S.radius,"triangle"===P?(Object(n["T"])(S,{type:"polygon",sides:3,startangle:B.startAngle}),C="polygon",y=3):"diamond"===P?(Object(n["T"])(S,{type:"polygon",sides:4,startangle:B.startAngle}),C="polygon",y=4):"arc"===P?(x=R*ai,Object(n["T"])(S,{type:"arc",startangle:0,endangle:360,innerradius:x}),C="arc"):"circle"===P?(S.type="circle",C="circle"):(g=L.getShapeArgs.call(O),B.dataEnabled&&B.valueToRadius&&S.radius!==Xa?delete g.radius:(!g.radius&&(g.radius=B.radius),g.radius*=_*F.autoScale),Object(n["T"])(S,g),S.id=S._markerId&&S._markerId.toLowerCase(),x=g.innerradius,g.radius&&(R=g.radius),C=g.type&&g.type.toLowerCase(),y=g.sides||5,R=+R,R&&x&&R<x&&(u=R,S.radius=R=x,S.innerradius=x=u)),S.type=S.type&&S.type.toLowerCase(),Object(n["T"])(S,{hoverfillcolor:Object(n["zb"])(S.fillhovercolor,B.hoverFillColor,S.fillcolor),hoverfillalpha:Object(n["zb"])(S.fillhoveralpha,B.hoverFillAlpha,S.fillalpha),hoverfillratio:Object(n["zb"])(S.fillhoverratio,B.hoverFillRatio,S.fillratio),hoverfillangle:Object(n["zb"])(S.fillhoverangle,B.hoverFillAngle,S.fillangle),hoverborderthickness:Object(n["Bb"])(S.borderhoverthickness,B.hoverBorderThickness,S.borderthickness),hoverbordercolor:Object(n["zb"])(S.borderhovercolor,B.hoverBorderColor,S.bordercolor),hoverborderalpha:Object(n["zb"])(S.borderhoveralpha,B.hoverBorderAlpha,S.borderalpha)}),b={alpha:S.fillalpha,color:S.fillcolor,angle:360-S.fillangle,ratio:S.fillratio},p={alpha:S.hoverfillalpha,color:S.hoverfillcolor,angle:360-S.hoverfillangle,ratio:S.hoverfillratio},S._defaultattrs={fill:Object(n["Mb"])(b),"stroke-width":"0"===S.showborder?0:S.borderthickness,stroke:Object(s["c"])(S.bordercolor,S.borderalpha)},S._hoverattrs={fill:Object(n["Mb"])(p),"stroke-width":"0"===S.showborder?0:S.hoverborderthickness,stroke:Object(s["c"])(S.hoverbordercolor,S.hoverborderalpha)},"image"===S.type?(S.borderthickness=S.borderthickness||0,S.onload=function(e){let t=this,a=t.config,i=e.width,n=e.height,o={},r=(+a.x-i/(2*A.sFactor))*A.sFactor,l=(+a.y-n/(2*A.sFactor))*A.sFactor;o=K[U]||(K[U]={}),o.x=r+A.translateX,o.y=l+A.translateY,o.element=O,o.shapeInfo={type:"rect",width:i,height:n},i&&n&&t.getElement().attr({x:r,y:l,width:i,height:n}),L.imageLoadCount++,L.imageLoadCount===L.imageCount&&L._buildKdTree()},S.onerror=function(){L.imageLoadCount++,L.imageLoadCount===L.imageCount&&L._buildKdTree()},L.imageCount++):(v=K[U]||(K[U]={}),v.x=m,v.y=f,v.element=O,v.shapeInfo={type:C,sides:y,radius:+R+S.borderthickness/2,innerradius:x}),F.drawOptions.shape=S,B.showLabels?(d=S.labelpadding||B.labelPadding,e=L._getLabelOptions(I,d,S),t=e.align,a=e.valign,i=F._labelBaseWidth,o=F._labelBaseHeight,r=F._labelXOffset,l=F._labelYOffset,c=B.labelWrapWidth?B.labelWrapWidth:L.getWrapWidth[t](i,+e.x+r),h=B.labelWrapHeight?B.labelWrapHeight:L.getWrapHeight[a](o,+e.y+l),c>d&&(c-=d),h>d&&(h-=d),F.drawOptions.label=Object(n["T"])({type:"text"},{text:D,tooltext:S.tooltext,x:e.x,y:e.y,align:t,valign:e.valign,wrap:1,wrapwidth:c,wrapheight:h,fontsize:E.fontSize/A.sFactor,font:E.fontFamily,fillcolor:E.fontColor}),{markerShape:S,markerLabel:F.drawOptions.label}):{markerShape:S}}getHoverFn(){let e=this,t=e.getFromEnv("chart");return function(){let e,a,i=this,o=i.data("marker"),r=o.markerShape,l=r.unfilteredConfig,s=l._markerEventArgs,c=r.getElement(),h=c.getBBox(),d=o.config;c&&l.hovereffect&&("circle"===r.config.type&&(a={color:l.hoverfillcolor,alpha:l.hoverfillalpha,angle:360-l.hoverfillangle,ratio:l.hoverfillratio,gradientUnits:"objectBoundingBox",radialGradient:"radial"===r.config.rawFillPattern},l._hoverattrs.fill=Object(n["Mb"])(a)),e=Object(n["T"])({},l._hoverattrs),"image"===c.type&&(delete e.fill,delete e.stroke,delete e["stroke-width"]),c.attr(e)),s||(s=l._markerEventArgs={x:h.x,y:h.y,scaledX:h.x/r.groupConfig.scaleX,scaledY:h.y/r.groupConfig.scaleY,chartX:h.x+h.width/2,chartY:h.y+h.height/2,id:l.id,label:l.label}),Object(Jt["e"])(d.options.id,"markerRollOver",s,t.getFromEnv("chartInstance"),d,Xa,Xa,Xa)}}getHoverOutFn(){let e=this,t=e.getFromEnv("chart");return function(){let e,a=this,i=a.data("marker"),o=i.markerShape,r=o.getElement(),l=i.config,s=o.unfilteredConfig;r&&o.unfilteredConfig.hovereffect&&("circle"===o.config.type&&(s._defaultattrs.fill=Object(n["Mb"])({alpha:o.config.rawAlpha,color:o.config.rawColor,angle:360-o.config.rawAngle,ratio:o.config.rawRatio,radialGradient:"radial"===o.config.rawFillPattern})),e=Object(n["T"])({},o.unfilteredConfig._defaultattrs),"image"===r.type&&(delete e.fill,delete e.stroke,delete e["stroke-width"]),r.attr(e)),Object(Jt["e"])(l.id,"markerRollOut",o.unfilteredConfig._markerEventArgs,t.getFromEnv("chartInstance"),Xa,Xa,Xa)}}getClickFn(){let e=this;return function(t){let a=this,i=a.data("marker"),n=i.config.options,o=e.getFromEnv("chart"),r=i.markerShape,l=r.config,s=a.getBBox(),c=l._markerEventArgs;c||(c=l._markerEventArgs={x:s.x,y:s.y,scaledX:s.x/r.groupConfig.scaleX,scaledY:s.y/r.groupConfig.scaleY,chartX:s.x+s.width/2,chartY:s.y+s.height/2,id:n.id,label:n.label}),o.fireChartInstanceEvent("markerClick",c,t)}}highlightPoint(e){let t,a,i,n,o,r,l,s,c,h,d=e.element,g=this,b=g.getFromEnv("chart"),p=b.graphics,u=g.getFromEnv("animationManager"),m=p.trackerElems||(p.trackerElems={}),f=e.shapeInfo,v=g.getFromEnv("toolTipController"),x=e.x,y=e.y,C=b.config.lastHoveredPoint,O=!1;return!1===e?(t=C&&C.shapeInfo.type,a=m[t],a&&a.hide(),void(b.config.lastHoveredPoint=null)):(i={fill:ci,stroke:ci},t=f.type,"circle"===t&&(t="polygon"),a=m[t],"polygon"===t?(n=f.sides||1,o=f.startAngle,l=f.radius,!a&&(O=!0),a=p.trackerElems[t]=u.setAnimation({el:p.trackerElems[t]||"polypath",container:a,attr:Object.assign({polypath:[n,x,y,l,o]},i),component:g,label:"markers"})):"rect"===t?(r=f.width,c=f.height,!a&&(O=!0),a=p.trackerElems[t]=u.setAnimation({el:p.trackerElems[t]||"rect",container:a,attr:Object.assign({x:x,y:y,width:r,height:c},i),component:g,label:"markers"})):"arc"===t&&(s=d.markerShape.config.innerRadius,o=(360-d.markerShape.config.startAngle)*si,h=(360-d.markerShape.config.endAngle)*si,l=f.radius,!a&&(O=!0),a=p.trackerElems[t]=u.setAnimation({el:p.trackerElems[t]||"ringpath",container:a,attr:Object.assign({ringpath:[x,y,l,s,h,o]},i),component:g,label:"markers"})),b.config.lastHoveredPoint=e,O&&a.click(g.getClickFn()).hover(g.getHoverFn(),g.getHoverOutFn()),a.show().data("marker",d),void v.enableToolTip(a,d.config.tooltext))}_drawConnectors(){let e,t,a,i,n,o,r,l,s=this,c=s.getFromEnv("chart"),h=c.config.annotationConfig,d=s.components,g=d.connectors||(s.components.connectors=[]),b=g.length,p=c.config.scalingParams,u=c.config.connectorOpts,m=u.showLabels,f=c.getChildren("mapAnnotations")[0],v=[],x=[],y=[];for(y.push({id:"connectorLabels",fillalpha:"100",items:x}),y.push({id:"connectors",fillalpha:"100",items:v}),f.addGroup(Object.assign(h,y[1]),s),f.addGroup(Object.assign(h,y[0]),s),t=0;t<b;t++)g[t]&&(r=g[t].config.fromMarker.config,l=g[t].config.toMarker.config,a=r.options.x,i=r.options.y,n=l.options.x,o=l.options.y,g[t].config.x=a,g[t].config.y=i,g[t].config.tox=n,g[t].config.toy=o,v.push(g[t].config),e=f.addItem("connectors",Object.assign({animationLabel:"markerItem"},g[t].config),!0,s),e.addEventListener("mouseover",g[t].config.onmouseover),e.addEventListener("mouseout",g[t].config.onmouseout),e.addEventListener("click",g[t].config.onclick),g[t].labelConfig&&m&&(g[t].labelConfig.x=((+a+ +n)/2).toString(),g[t].labelConfig.y=((+i+ +o)/2).toString(),g[t].labelConfig.fontsize=u.fontSize/(p.scaleFactor*c.config.baseScaleFactor),x.push(g[t].labelConfig),f.addItem("connectorLabels",Object.assign({animationLabel:"markerItem"},g[t].labelConfig),!0,s)))}getShapeArgs(){let e,t=this,a=t.config,i=Object(n["T"])({},t.shapeObj);return a.autoScale=1,i?("polygon"===i.type?3>i.sides?i.type="circle":i.startangle=a.startAngle:"arc"===i.type&&(e=(i.radius||a.markerRadius)*a.autoScale,i.radius=e,i.innerradius=i.innerradius&&i.innerradius*a.autoScale||e*ai),i):null}_getLabelOptions(e,t,a,i,n){let o,r,l,s=this,c=e&&e.toLowerCase();return s.getLabelAlignment[c]||(c="center"),r=+a.x,l=+a.y,o=i===Xa||n===Xa?a.radius||0:/^(top|bottom)$/gi.test(c)&&.5*n||/^(left|right)$/gi.test(c)&&.5*i||0,o=+o+ +t,s.getLabelAlignment[c](r,l,o)}addMarkerItem(e){let t,a,i,o,r,l,s=this,c=s.getFromEnv("chart"),h=e,d=s.components.markerObjs,g=s.components.shapeObjs,b=s.components.markerGroup,p=s.components.markerLabelGroup,u=c.getChildren("mapAnnotations")[0],m=s.getFromEnv("number-formatter"),f=c.config.markerOpts;if(l=h.id.toLowerCase()){if(d[l])return;delete h.value,s.imageLoadCount=0,t=gi._initializeMarkerItem(l,h,null),t.dataset=s,r=t.config.options.shapeid,i=t.config,o=h.value,i.cleanValue=m.getCleanValue(o),e=i.options,i.formattedValue=null===i.cleanValue?Xa:m.dataLabels(o),i.fillColor=Object(n["zb"])(e.fillcolor,e.color,f.fillColor),i.fillAlpha=Object(n["zb"])(e.fillalpha,e.alpha,f.fillAlpha),i.fillRatio=Object(n["zb"])(e.fillratio,f.fillRatio),i.fillAngle=Object(n["zb"])(e.fillangle,f.fillAngle),i.borderThickness=Object(n["Bb"])(e.borderthickness,f.borderThickness),i.borderColor=Object(n["zb"])(e.bordercolor,f.borderColor),i.borderAlpha=Object(n["zb"])(e.borderalpha,f.borderAlpha),i.labelPadding=e.labelpadding||f.labelPadding,i.options.tooltext=Object(n["zb"])(e.tooltext,f.tooltext),i.link=e.link,r&&(t.shapeObj=g[r&&r.toLowerCase()]),d[l]=t,a=s._drawMarkerItem.call(t),b&&p&&(t.markerShape=a.markerShape&&u.addItem(b.getId(),Object.assign({align:"center",valign:"middle",animationLabel:"markerItem"},a.markerShape),!0,s),t.markerLabel=a.markerLabel&&u.addItem(p.getId(),Object.assign({animationLabel:"markerItem"},a.markerLabel),!0,s)),s._buildKdTree()}}updateMarkerItem(e,t){let a,i,o,r,l=this,s=l.getFromEnv("chart"),c=s.getChildren("mapAnnotations")[0],h=l.components.markerObjs,d=s.config.markerOpts,g={},b=h[e];if(b){for(i in a=b.config.options,Object(n["T"])(a,t),l.imageLoadCount=0,o=b.config,t)g[i.toLowerCase()]=t[i]&&t[i].toString();o.fillColor=Object(n["zb"])(g.fillcolor,g.color,d.fillColor),o.fillAlpha=Object(n["zb"])(g.fillalpha,g.alpha,d.fillAlpha),o.fillRatio=Object(n["zb"])(g.fillratio,d.fillRatio),o.fillAngle=Object(n["zb"])(g.fillangle,d.fillAngle),o.borderThickness=Object(n["Bb"])(g.borderthickness,d.borderThickness),o.borderColor=Object(n["zb"])(g.bordercolor,d.borderColor),o.borderAlpha=Object(n["zb"])(g.borderalpha,d.borderAlpha),o.labelPadding=g.labelpadding||d.labelPadding,o.options.tooltext=Object(n["zb"])(g.tooltext,d.tooltext),o.link=g.link,r=l._drawMarkerItem.call(b).markerShape,l._buildKdTree(),c.update(e,r)}}_removeMarkerItem(e){let t,a,i=this,n=i.components,o=n.markerObjs,r=o[e],l=n.kdArrayMap;r&&(t=r.markerShape,a=r.markerLabel,t&&t.dispose(),a&&a.dispose(),delete l[e],i._buildKdTree()),delete o[e]}getElement(e){let t=this;if(t.components.kDTree)return t.components.kDTree.getNeighbour(e)}}var bi=gi;Object(L["a"])({name:"mapsAnimation",type:"animationRule",extension:ea});class pi extends l["a"]{getType(){return"group"}getName(){return"mapGroup"}configure(){let e=this;e._mapChildren(e=>{e.configure&&e.configure()})}createContainer(){let e,t=this,a=t.getLinkedParent(),i=t.getFromEnv("animationManager"),n=a.getChildContainer();e=n.plotGroup,t.getChildContainer("plotShadow")||t.addChildContainer("plotShadow",i.setAnimation({el:"group",attr:{name:"manager-plot-shadow",opacity:1},container:e,component:t,label:"group"})),t.getChildContainer("plot")||t.addChildContainer("plot",i.setAnimation({el:"group",attr:{name:"manager-plot",opacity:1},container:e,component:t,label:"group"}))}_transformGroup(){let e=this,t=this.getFromEnv("chart"),a=t.getFromEnv("chartInstance"),i=e.getFromEnv("animationManager"),o=t.jsonData,r=e.getChildContainer("plot"),l=e.getChildContainer("plotShadow"),s=t.config.scalingParams;r.hide(),l.hide(),t.config.entitiesReady=!1,a.addEventListener("internal.mapdrawingcomplete",function(){return function(t){t.detachHandler(),n["ib"]&&(a.args.link&&a.args.clickedEntityBox&&o.chart.linkedcharttransition,r&&i.setAnimation({el:r,attr:{transform:s.transformStr},component:e,label:"group"}),l&&i.setAnimation({el:l,attr:{transform:s.transformStr},component:e,label:"group"})),r.show(),l.show()}}()),t.checkComplete()}draw(){this.createContainer(),this._transformGroup()}getDataLimits(e){let t,a=this,i=1/0,n=-1/0,o=0,r=function(e){n=Math.max(n,e.max),i=Math.min(i,e.min)};return a._mapChildren(a=>a.getState("removed")||!1===a.getState("visible")?void(e&&(t=a.getDataLimits(e),r(t))):(o++,t=a.getDataLimits(e),void r(t))),o?a.setState("visible",!0):a.setState("visible",!1),this.config.range||(this.config.range={},this.config.range.min=this.config.dataMin,this.config.range.max=this.config.dataMax),{max:n,min:i}}}var ui=pi,mi=function(e){var t,a=e.getFromEnv("dataSource"),i=a.data||{},o=a.markers;Object(n["M"])(e,ui,"mapGroup"),t=e.getChildren("mapGroup")[0],Object(n["Q"])(t,Sa,"entities",1,[i]),o?Object(n["Q"])(t,bi,"markers",1,[o]):e.getDatasets()[1]&&e.getDatasets()[1].remove()},fi=a("2a69");let vi,xi="#000000",yi=function(e,t,a){let i=e[0],n=e[1],o=e[2],r=i+(t[0]-i)*a,l=n+(t[1]-n)*a,s=o+(t[2]-o)*a;return{hex:(xi+(r<<16|l<<8|s).toString(16)).slice(-6),rgb:[r,l,s]}};class Ci extends l["a"]{constructor(){super();let e=this;e.mapByCategory=!1,e.colorArr=[],e.noValidRange=!0,e.sortLegend=!1}__setDefaultConfig(){super.__setDefaultConfig(),this.config.defaultObj={code:"CCCCCC",alpha:"100"}}getType(){return"colorComponent"}getName(){return"colorBucket"}configure(e){if(!e)return;let t,a,i,o,r,l,s,c,h,d,g,b=this,p=b.mapByCategory,u=e.numberFormatter,m=e.colorRange||{},f=Object(n["T"])([],m.color),v=this.getLinkedParent(),x=b.getFromEnv("dataSource"),y=Math.min(Math.max(Object(n["Bb"])(x.chart.palette,0)-1,0),4),C=v.defaultPaletteOptions&&v.defaultPaletteOptions.paletteColors[y],O=Object(n["Bb"])(u.getCleanValue(m.maxvalue),1/0),L=Object(n["Bb"])(u.getCleanValue(m.minvalue),-1/0),w=b.colorArr;if(e.mapByCategory!==vi&&(p=b.mapByCategory=!!+e.mapByCategory),f=p?f.filter(e=>e.code||e.color):f.filter(e=>e.minvalue||e.maxvalue),f.forEach(e=>{e.minvalue&&e.maxvalue&&+e.maxvalue<+e.minvalue&&(c=e.maxvalue,e.maxvalue=e.minvalue,e.minvalue=c),e.minvalue?e.maxvalue?(d=u.getCleanValue(e.minvalue),h=u.getCleanValue(e.maxvalue),e.rangeLabel=u.dataLabels(d)+"-"+u.dataLabels(h)):(d=u.getCleanValue(e.minvalue),e.maxvalue=h=O,e.rangeLabel=h===1/0?">"+u.dataLabels(d):u.dataLabels(d)+"-"+u.dataLabels(h)):(e.minvalue=d=L,h=u.getCleanValue(e.maxvalue),e.rangeLabel=d===-1/0?"<"+u.dataLabels(h):u.dataLabels(d)+"-"+u.dataLabels(h))}),f.sort((e,t)=>+e.minvalue==+t.minvalue?e.maxvalue-t.maxvalue:e.minvalue-t.minvalue),f&&(t=f.length)){for(w.length=0,a=0;a<t;a+=1)s=f[a],i=Object(n["zb"])(s.color,s.code,C&&C[a]),o=Object(n["zb"])(s.alpha),l=Object(n["zb"])(s.bordercolor),r=Object(n["zb"])(s.borderalpha,100),h=Object(n["Bb"])(s.maxvalue),d=Object(n["Bb"])(s.minvalue),g=Object(n["zb"])(s.label,s.displayvalue,s.rangeLabel),(i&&h>=d||p&&g)&&w.push({code:i,alpha:o||"100",oriAlpha:o,maxvalue:h,minvalue:d,label:Object(n["xb"])(g),labelId:g.toLowerCase(),bordercolor:l,borderAlpha:r,name:s.name});b.sortedColorArr=b.colorArr.slice(0)}else b.noValidRange=!0,b.colorArr=[],b.sortedColorArr=[]}getColorObj(e){if(e===vi)return{outOfRange:!0};let t,a=this,i=a.sortedColorArr,o=a.gradient?1:0,r=i[o];if(a.mapByCategory){for(e=Object(n["xb"])(e).toLowerCase()||e.toString().toLowerCase();r;){if(r.labelId===e||r.maxvalue>=e&&r.minvalue<=e)return{code:r.code,alpha:r.alpha||"100",oriAlpha:r.oriAlpha,seriesIndex:o,legendItemId:r.legendItemId};o+=1,r=i[o]}return{outOfRange:!0}}if(a.gradient){if(a.scaleMin<=e&&a.scaleMax>=e){for(;r&&r.maxvalue<e;)o+=1,r=i[o];return t=(e-r.minvalue)/r.range,{code:yi(i[o-1].codeRGB,r.codeRGB,t).hex}}return{outOfRange:!0}}for(;r;){if(e<r.minvalue)return 0==o?{code:r.code,alpha:r.alpha||"100",oriAlpha:r.oriAlpha,seriesIndex:o,name:r.name,label:r.label,outOfRange:!0,bordercolor:r.bordercolor,borderalpha:r.borderAlpha}:{code:i[o-1].code,alpha:i[o-1].alpha||"100",oriAlpha:i[o-1].oriAlpha,seriesIndex:o,name:i[o-1].name,label:i[o-1].label,outOfRange:!0,bordercolor:i[o-1].bordercolor,borderalpha:i[o-1].borderAlpha};if(e>r.maxvalue&&o==i.length-1)return{code:r.code,alpha:r.alpha||"100",oriAlpha:r.oriAlpha,seriesIndex:o,name:r.name,label:r.label,outOfRange:!0,bordercolor:r.bordercolor,borderalpha:r.borderAlpha};if(r.maxvalue>=e&&r.minvalue<=e)return{code:r.code,alpha:r.alpha||"100",oriAlpha:r.oriAlpha,seriesIndex:o,name:r.name,label:r.label,bordercolor:r.bordercolor,borderalpha:r.borderAlpha};o+=1,r=i[o]}return i.length?void 0:{outOfRange:!0}}getColorRangeArr(e,t){var a,i,o,r,l,s,c,h,d=this.colorArr,g=[];if(!this.defaultAsigned&&(e>t&&(a=e,e=t,t=a),e<t&&(r=this.getColorObj(e),s=this.getColorObj(t),r&&s))){for(l=e,i=r.seriesIndex,o=s.seriesIndex;i<=o;i+=1)c=Object(n["T"])({},d[i]),c.minvalue!==l&&(c.minvalue=l),g.push(c),h=c,l=c.maxvalue;h&&(h.maxvalue=t)}return g}}var Oi=Ci;let Li,wi=",",ki=(e,t,a)=>{var i,n,o=Math.round,r=e.value,l=e.code,c=Object(s["a"])(l),h=t.value,d=t.code,g=Object(s["a"])(d);return i=h-r,n=[o(c[0]+(g[0]-c[0])/i*(a-r)),o(c[1]+(g[1]-c[1])/i*(a-r)),o(c[2]+(g[2]-c[2])/i*(a-r))],Object(s["b"])(n)};class ji extends l["a"]{constructor(){super(),this.colorRange={},this.valueRatio={},this.data={},this.mapByPercent=void 0}getType(){return"colorComponent"}getName(){return"gradientColorRange"}configure(e){if(!e)return;let t,a,i,n=this;for(n.data=e,n.appender="",i=n.colorRange=e.colorRange.sort(function(e,t){return e.value-t.value}),n.valueRatio=Li,n.values=[],t=0,a=i.length;t<a;t++)n.values.push(i[t].value)}getValueRatio(){var e,t,a,i=this.colorRange,n=i.length,o=this.valueRatio,r=i[n-1].value,l=i[0].value,s=0;if(o)return o;for(o=this.valueRatio=[],t=0;t<n;t++)e=i[t],a=(e.value-l)/(r-l),o.push(100*(a-s)),s=a;return o}getCumulativeValueRatio(){var e,t,a=this.colorRange,i=a.length,n=a[0].value,o=a[i-1].value,r=[];for(t=0;t<i;t++)e=a[t],r.push((e.value-n)/(o-n)*100);return r}getBoxFill(e){var t,a,i,o,r=this.colorRange,l=r.length,s=[];for(o=e?90:0,a=0;a<l;a++)t=r[a],s.push(t.code);return i={FCcolor:{alpha:"100,100,100",angle:o,color:s.join(wi),ratio:this.getValueRatio().join(wi)}},Object(n["Mb"])(i)}getColorByValue(e){var t,a,i,n,o=this.values,r=this.colorRange;if(e!==Li&&null!==e){for(a=0,t=o.length;a<t;a++){if(e===o[a]){n=r[a].code;break}if(!a&&e<o[a]){i=!0;break}if(a===t-1&&e>o[a]){i=!0;break}if(e>o[a]&&e<o[a+1]){n=ki(r[a],r[a+1],e);break}}return i?void 0:n}}}var Ai=ji;function Fi(e){return Object(s["h"])(e,1)}function Si(e){return Object(s["j"])(e||Pi)||Pi}let Ti,Bi="rgba(192,192,192,"+(n["ob"]?.002:1e-6)+")",Ei="%",Pi="#000000",_i=function(){function e(e){var a,i,n,o=t.getFromEnv("number-formatter");for(a=0,i=e.length;a<i;a++)n=e[a].maxvalue,n&&(e[a].maxvalue=o.getCleanValue(n))}var t,a={legendCarpetConf:{spreadFactor:.85,allowDrag:!1,captionAlignment:"center",padding:{v:3,h:3},style:{fill:"#e4d9c1",stroke:"#c4b89d"}},legendCaptionConf:{spreadFactor:.2,padding:{v:2,h:2},style:{fill:"#786B50",fontFamily:"sans-serif",fontSize:"12px",fontWeight:"bold",fontStyle:"normal"},bound:{style:{stroke:"none"}}},legendBodyConf:{spreadFactor:.8,padding:{v:2,h:2},bound:{style:{stroke:"none"}}}};return a.legendAxisConf={legendAxisHeight:11,spreadFactor:.4,padding:{v:1,h:1},style:{stroke:"none","stroke-opacity":0,"stroke-width":1},line:{grooveLength:3,offset:8,style:{stroke:"rgba(255, 255, 255, 0.65)","stroke-width":1.5}},shadow:{style:{stroke:"none",fill:Object(n["Mb"])({FCcolor:{alpha:"25,0,0",angle:360,color:"000000,FFFFFF,FFFFFF",ratio:"0,30,40"}})}},bound:{style:{stroke:"none"}}},a.sliderGroupConf={showTooltip:1,outerCircle:{rFactor:1.4,style:{fill:Bi,stroke:"#757575","stroke-width":3}},innerCircle:{rFactor:.65,style:{fill:Bi,stroke:"#FFFFFF"}}},a.axisTextItemConf={spreadFactor:.3,padding:{v:1,h:1},style:{fill:"#786B50",fontFamily:"sans-serif",fontSize:"12px",fontWeight:"normal",fontStyle:"normal"}},{init:function(e){t=e.chart},legacyDataParser:function(a,i){var o,r,l,s,c,h,d,g,b,p,u,m,f=Math.max,v=Math.min,x={},y=t.getFromEnv("number-formatter"),C=t.getFromEnv("dataSource"),O=C.dataset,L=C.data;if(i=i||{},!a)return!1;for("maps"!==t.defaultDatasetType||i.min!==Ti&&i.max!==Ti?"HeatMap"===t.getName()&&(i.min===Ti||i.max===Ti)&&(i={min:1/0,max:-1/0},O.forEach(e=>{e.data&&e.data.forEach(e=>{i.min=v(i.min,Object(n["Bb"])(e.value,i.min)),i.max=f(i.max,Object(n["Bb"])(e.value,i.max))})})):(i={min:1/0,max:-1/0},L&&L.forEach(e=>{i.min=v(i.min,Object(n["Bb"])(e.value,i.min)),i.max=f(i.max,Object(n["Bb"])(e.value,i.min))})),x.mapByPercent=u=!!Object(n["Bb"])(a.mapbypercent,0),o=a.color||[],a.minvalue===Ti&&(a.minvalue=i.min===Ti?0:u?0:i.min),a.maxvalue===Ti&&(a.maxvalue=i.max===Ti?100:u?100:i.max),(a.maxvalue===a.minvalue||i.min===1/0||i.max===-1/0)&&(a.minvalue=0,a.maxvalue=100),m=!1,c=0,d=o.length;c<d;c++)if(o[c].maxvalue){m=!0;break}for(m||(o=[]),l=a.code,g=x.colorRange=[],x.gradient=!!Object(n["Bb"])(a.gradient,1),o.length?l=Si(l):(l?(s=Si(l),l=Si()):(l=Si(),s=Fi(l)),o.push({code:s,maxvalue:a.maxvalue,label:Ti})),e(o),o=o.sort(function(e,t){return e.maxvalue-t.maxvalue}),b=p=a.minvalue&&y.getCleanValue(a.minvalue),p=(b!==Ti||null!==b)&&(u?b+Ei:y.legendValue(b)),g.push({code:Object(n["R"])(l),value:b,displayValue:p,label:a.startlabel}),c=0,d=o.length;c<d;c++)r=o[c],h=Si(r.code||r.color),b=p=r.maxvalue,!isNaN(parseInt(b,10))&&(p=(b!==Ti||null!==b)&&(u?b+Ei:y.legendValue(b)),g.push({code:Object(n["R"])(h),value:b,displayValue:p,label:r.label||r.displayvalue}));return g[g.length-1].label=a.endlabel||r.label,x},getDefaultConf:function(e){return a[e]}}}();class Di extends l["a"]{constructor(){super(),this.datasource={},this.config.legendItemIds=[]}configure(){let e,t,a,i=this,o=this.getFromEnv("chart"),r="maps"===o.defaultDatasetType,l="TreeMap"===o.getName(),s=this.getFromEnv("dataSource").chart.mapbycategory,c=o.getFromEnv("number-formatter"),h=o.config.showLegend,d=o.getChildren("colorRange")&&o.getChildren("colorRange")[0];o.addToEnv("colorManager",i),i.datasource=o.getFromEnv("dataSource"),e=i.datasource.colorrange,d&&d.remove({instant:!0}),h||(i.config.legendItemIds=[]),t=r?e.gradient&&+e.gradient?"gradient":e.color?"icon":"none":l?"gradient":e.gradient&&"0"!=e.gradient&&!+s?"gradient":"icon","gradient"===t?(_i.init({chart:o}),a=_i.legacyDataParser(e),Object(n["M"])(o,Ai,"colorRange",1,[a]),d=o.getChildren("colorRange")[0],o.addToEnv("colorRange",d),a||(d._dontPlot=!0),i.config.legendItemIds=[],i._configureGradientLegend(d)):"icon"===t?(Object(n["M"])(o,Oi,"colorRange",1,[{colorRange:e,sortLegend:0,mapByCategory:Object(n["Bb"])(s,0),defaultColor:"cccccc",numberFormatter:c}]),o.addToEnv("colorRange",o.getChildren("colorRange")[0]),h&&i._addLegendItems()):"none"===t&&(o.deleteFromEnv("colorManager"),i.config.legendItemIds=[])}_configureGradientLegend(e){let t=this,a=t.getFromEnv("chart"),i=a.getFromEnv("gLegend");i&&(i.setColorRange(e),t.addExtEventListener("rangeUpdated",function(e,a){t.fireEvent("legendUpdate",{"original-event":e,maxMinArray:a,component:"gradientlegend"})},i))}_addLegendItems(){let e,t,a,i,o,r=this,l=r.config,c=r.getFromEnv("chart"),h=c.getChildren("legend")[0],d=c.getFromEnv("colorRange"),g=d.colorArr,b=g.length;for(i=0;i<b;i++)o={label:Object(n["zb"])(g[i].label,g[i].displayvalue),datasetObj:g[i],index:i},t=Object(s["h"])(g[i].code,40),e={FCcolor:{color:g[i].code+","+g[i].code+","+t,ratio:"0,70,30",angle:270,alpha:"100,100,100"}},a=h.getItem(l.legendItemIds[i]),a||(l.legendItemIds.push(h.createItem(r)),a=h.getItem(l.legendItemIds[i]),a.addEventListener("click",a.itemClickFn)),a.removeLegendState("hidden"),g[i].legendItemId=a&&a.getId(),a.configure(o),a.setStateCosmetics("default",{symbol:{fill:Object(n["Mb"])(e),rawFillColor:g[i].code}});for(i=b;i<l.legendItemIds.length;i++)h.disposeItem(l.legendItemIds[i]);l.legendItemIds.splice(b)}legendInteractivity(e){let t=this,a=t.getFromEnv("colorRange").colorArr[e.config.index];t.fireEvent("legendUpdate",{legendItem:e,colorObj:a,component:"legend"})}getColor(e){let t=this,a=t.datasource.colorrange,i=t.datasource.chart.mapbycategory;return!+i&&+a.gradient?{code:t.getColorByValue(e)}:t.getColorObj(e)}getValueRatio(){return this.getFromEnv("colorRange").getValueRatio()}getCumulativeValueRatio(){return this.getFromEnv("colorRange").getCumulativeValueRatio()}getBoxFill(e){return this.getFromEnv("colorRange").getBoxFill(e)}getColorByValue(e){return this.getFromEnv("colorRange").getColorByValue(e)}getColorObj(e){return this.getFromEnv("colorRange").getColorObj(e)}}var Vi=Di;function Ii(e){let t=e.getChildren("colorManager");return e.getFromEnv("dataSource").colorrange?t?(e.addToEnv("colorManager",t[0]),void t[0].configure()):(t=new Vi,e.attachChild(t,"colorManager"),e.addToEnv("colorManager",t),void t.configure()):(t&&(t[0].config.legendItemIds=[]),void e.deleteFromEnv("colorManager"))}var Mi=function(e){Ii(e)};let zi,Ri,Ni,Gi,Wi={},Hi="rgba(192,192,192,"+(n["ob"]?.002:1e-6)+")",Yi=!1,Xi=!0,Zi="%",Ki=",",Ui="#000000",Ji={}.hasOwnProperty,qi="M",$i="L";function Qi(e,t){return function e(t,a){var i,n;for(n in t)Ji.call(t,n)&&(i=t[n],a[n]===zi?a[n]=i:"object"==typeof i&&null!==i&&e(i,a[n]))}(e,t),t}function en(e){return Object(s["j"])(e||Ui)||Ui}function tn(e){return Object(s["h"])(e,1)}function an(e){var t,a=e.fontSize+"";return a?(t=a.replace(/(\d+)(px)*/,"$1px"),e.fontSize=t,e):e}function nn(e){return!(e!==zi&&"undefined"!=typeof e&&null!==e&&!isNaN(e))}Wi.CAPTION="CAPTION",Wi.LEGEND_BODY="LEGEND_BODY",Wi.AXIS_LABEL="LEGEND_LABEL",Wi.LEGEND_AXIS="LEGEND_AXIS",Wi.RANGE="RANGE",Wi.AXIS_VALUE="AXIS_VALUE",Ri=function(){function e(e){var a,i,n,o=t.getFromEnv("number-formatter");for(a=0,i=e.length;a<i;a++)n=e[a].maxvalue,n&&(e[a].maxvalue=o.getCleanValue(n))}var t,a={legendCarpetConf:{spreadFactor:.85,allowDrag:!1,captionAlignment:"center",padding:{v:3,h:3},style:{fill:"#e4d9c1",stroke:"#c4b89d"}},legendCaptionConf:{spreadFactor:.2,padding:{v:2,h:2},style:{fill:"#786B50",fontFamily:"sans-serif",fontSize:"12px",fontWeight:"bold",fontStyle:"normal"},bound:{style:{stroke:"none"}}},legendBodyConf:{spreadFactor:.8,padding:{v:2,h:2},bound:{style:{stroke:"none"}}}};return a.legendAxisConf={legendAxisHeight:11,spreadFactor:.4,padding:{v:1,h:1},style:{stroke:"none","stroke-opacity":0,"stroke-width":1},line:{grooveLength:3,offset:8,style:{stroke:"rgba(255, 255, 255, 0.65)","stroke-width":1.5}},shadow:{style:{stroke:"none",fill:Object(n["Mb"])({FCcolor:{alpha:"25,0,0",angle:360,color:"000000,FFFFFF,FFFFFF",ratio:"0,30,40"}})}},bound:{style:{stroke:"none"}}},a.sliderGroupConf={showTooltip:1,outerCircle:{rFactor:1.4,style:{fill:Hi,stroke:"#757575","stroke-width":3}},innerCircle:{rFactor:.65,style:{fill:Hi,stroke:"#FFFFFF"}}},a.axisTextItemConf={spreadFactor:.3,padding:{v:1,h:1},style:{fill:"#786B50",fontFamily:"sans-serif",fontSize:"12px",fontWeight:"normal",fontStyle:"normal"}},{init:function(e){t=e.chart},legacyDataParser:function(a,i){var o,r,l,s,c,h,d,g,b,p,u,m,f={},v=t.getFromEnv("number-formatter");if(!a)return!1;for(f.mapByPercent=u=!!Object(n["Bb"])(a.mapbypercent,0),o=a.color||[],a.minvalue===zi&&(a.minvalue=i.min===zi?0:u?0:i.min),a.maxvalue===zi&&(a.maxvalue=i.max===zi?100:u?100:i.max),m=!1,c=0,d=o.length;c<d;c++)if(o[c].maxvalue){m=!0;break}for(m||(o=[]),l=a.code,g=f.colorRange=[],f.gradient=!!Object(n["Bb"])(a.gradient,1),o.length?l=en(l):(l?(s=en(l),l=en()):(l=en(),s=tn(l)),o.push({code:s,maxvalue:a.maxvalue,label:zi})),e(o),o=o.sort(function(e,t){return e.maxvalue-t.maxvalue}),b=p=a.minvalue&&v.getCleanValue(a.minvalue),p=(b!==zi||null!==b)&&(u?b+Zi:v.legendValue(b)),g.push({code:Object(n["R"])(l),value:b,displayValue:p,label:a.startlabel}),c=0,d=o.length;c<d;c++)r=o[c],h=en(r.code||r.color),b=p=r.maxvalue,!isNaN(parseInt(b,10))&&(p=(b!==zi||null!==b)&&(u?b+Zi:v.legendValue(b)),g.push({code:Object(n["R"])(h),value:b,displayValue:p,label:r.label||r.displayvalue}));return g[g.length-1].label=a.endlabel||r.label,f},getDefaultConf:function(e){return a[e]}}}();class on extends l["a"]{getType(){return"gradientLegend"}getName(){return"gLegend"}constructor(){super(),Gi=this,this.enabled=!1,this.drawOptions={},this.components={}}setColorRange(e){let t=this.drawOptions.colorRange=e;t&&t._preparationGoneWrong&&(this._dontPlot=!0)}configureAttributes(){var e,t,a,i,o,r,l,c,h,d,g=this,b=g.getFromEnv("chart"),p=g.getFromEnv("dataSource").chart,u=g.conf={},m=p.outcnvbasefont,f=p.outcnvbasefontsize,v=p.outcnvbasefontcolor,x=b.config.dataLabelStyle;Ri.init({chart:b}),g.data=g.getFromEnv("dataSource").colorrange,g._dontPlot||(g.drawOptions={smartLabel:g.getFromEnv("smartLabel"),gLegend:g},g._dontPlot=!1,g._recalculateLogicalSpace=!0,Ni=g.getFromEnv("toolTipController"),u.caption=Object(n["zb"])(p.legendcaption),u.legendPosition=Object(n["zb"])(p.legendposition,"bottom").toLowerCase(),u.showLegend=Object(n["Bb"])(p.showlegend,1),u.interactiveLegend=Object(n["Bb"])(p.interactivelegend,1),u.showLegendLabels=Object(n["Bb"])(p.showlegendlabels,1),e=p.legenditemfontcolor||v,t=p.legenditemfont||m,a=p.legenditemfontsize||f,i=Object(n["Bb"])(p.legenditemfontbold,0),o=p.legendcaptionfontcolor||v,r=p.legendcaptionfont||m,l=p.legendcaptionfontsize||f,c=Object(n["Bb"])(p.legendcaptionfontbold,1),h=p.legendaxisbordercolor?Object(n["kb"])(Object(n["R"])(p.legendaxisbordercolor)):zi,d=h?Object(n["Bb"])(p.legendaxisborderalpha,100)/100:zi,u.axisTextItemConf={style:{fill:e?Object(s["c"])(Object(n["zb"])(e)):x.color,fontFamily:t?Object(n["zb"])(t):x.fontFamily,fontSize:a?Object(n["Bb"])(a):x.fontSize.match(/\d+/)[0],fontWeight:i?"bold":x.fontWeight}},u.legendCaptionConf={style:{fill:o?Object(s["c"])(Object(n["zb"])(o)):x.color,fontFamily:r?Object(n["zb"])(r):x.fontFamily,fontSize:l?Object(n["Bb"])(l):x.fontSize.match(/\d+/)[0],fontWeight:c?"bold":x.fontWeight,fontStyle:"normal"}},u.legendAxisConf={legendAxisHeight:11,style:{stroke:h,"stroke-opacity":d},line:{style:{stroke:Object(s["c"])(Object(n["zb"])(p.legendscalelinecolor,"FFF8E9"),Object(n["Bb"])(p.legendscalelinealpha,100)),"stroke-width":Object(n["Bb"])(p.legendscalelinethickness)}}},u.sliderGroupConf={showTooltip:Object(n["Bb"])(p.showtooltip,1),outerCircle:{rFactor:Object(n["Bb"])(p.sliderdiameterfactor),style:{stroke:Object(s["c"])(Object(n["zb"])(p.legendpointerbordercolor,"757575"),Object(n["Bb"])(p.legendpointerborderalpha,100))}},innerCircle:{rFactor:Object(n["Bb"])(p.sliderholediameterfactor),style:{stroke:Object(s["c"])(Object(n["zb"])(p.legendpointercolor,"FFFFFF"),Object(n["Bb"])(p.legendpointeralpha,100))}}},u.legendCarpetConf={spreadFactor:Object(n["Bb"])(p.legendspreadfactor),allowDrag:!!Object(n["Bb"])(p.legendallowdrag,0),captionAlignment:Object(n["zb"])(p.legendcaptionalignment,"center"),style:{fill:Object(s["c"])(Object(n["zb"])(p.legendbgcolor,"e4d9c1"),Object(n["Bb"])(p.legendbgalpha,100)),stroke:Object(s["c"])(Object(n["zb"])(p.legendbordercolor,"c4b89d"),Object(n["Bb"])(p.legendborderalpha,100)),"stroke-width":Object(n["Bb"])(p.legendborderthickness,1)}})}postConfigureInit(){var e,t,a,i,n,o,r,l,s,c,h,d,g=this,b=g.conf;g.elem={},b.interactiveLegend?(n=Qi(Ri.getDefaultConf("sliderGroupConf"),b.sliderGroupConf),this.sGroup?(i=g.elem.sGroup=this.sGroup,i.configure(n),g.elem.sGroup.gLegend=g):(this.sGroup=g.elem.sGroup=i=new bn(n),i.configure(n),g.elem.sGroup.gLegend=g)):(this.sGroup&&this.sGroup.dispose(),this.sGroup&&delete this.sGroup),n=Qi(Ri.getDefaultConf("legendCarpetConf"),b.legendCarpetConf),n.legendPosition=b.legendPosition,d=Ri.getDefaultConf("legendBodyConf"),"bottom"===b.legendPosition?(g.drawOptions.refSideKey="canvasWidth",g.drawOptions.refOffsetKey="canvasLeft",o=Qi(Ri.getDefaultConf("axisTextItemConf"),b.axisTextItemConf),d.legendPosition="bottom",h=Qi(Ri.getDefaultConf("legendAxisConf"),b.legendAxisConf),h.legendPosition="bottom",o.legendPosition="bottom"):(g.drawOptions.refSideKey="canvasHeight",g.drawOptions.refOffsetKey="canvasTop",o=Qi(Ri.getDefaultConf("axisTextItemConf"),b.axisTextItemConf),d.legendPosition="right",h=Qi(Ri.getDefaultConf("legendAxisConf"),b.legendAxisConf),h.legendPosition="right",o.legendPosition="right"),Object.keys(this.components).length||(this.components.LegendCarpet=new ln,this.components.LegendBody=new cn,this.components.LegendAxis=new dn,this.components.LegendValues=new pn,b.showLegendLabels&&(this.components.LegendLabels=new hn)),a=this.components.LegendAxis,s=this.components.LegendValues,t=this.components.LegendCarpet,r=this.components.LegendBody,b.showLegendLabels&&(l=this.components.LegendLabels),this.components.LegendCarpet.configure(n),this.components.LegendValues.configure(o),this.components.LegendAxis.configure(h),this.components.LegendBody.configure(g.drawOptions.colorRange,d,o),b.showLegendLabels&&l.configure(o),b.caption?(c=Qi(Ri.getDefaultConf("legendCaptionConf"),b.legendCaptionConf),this.componentCaption&&Object.keys(this.componentCaption).length?this.componentCaption.configure(b.caption,c):(e=this.componentCaption=new sn,e.configure(b.caption,c)),t.addCompositions(this.componentCaption,Wi.CAPTION)):(t.removeCompositions(Wi.CAPTION),this.componentCaption&&this.componentCaption.dispose(),delete this.componentCaption),i&&a.addCompositions(i,Wi.RANGE),l&&r.addCompositions(l,Wi.AXIS_LABEL),r.addCompositions(a,Wi.LEGEND_AXIS),r.addCompositions(s,Wi.AXIS_VALUE),t.addCompositions(r,Wi.LEGEND_BODY),g.elem.gl=new rn(t)}getValueRange(){var e,t,a=this,i=a.elem&&a.elem.sGroup,n=i.sliders,o=i.extremes;return e=n["false"].currPos,t=o[1]-o[0]+n["true"].currPos,[{min:i.getValueFormPixel(e),max:i.getValueFormPixel(t)}]}_dispose(){var e=this;e.elem&&e.elem.gl&&e.elem.gl.dispose(),e.elem={},super._dispose()}getCalculatedLogicalSpace(){return this._logicalArea}setCalculatedLogicalSpace(e){this._logicalArea=e}getLogicalSpace(e){var t,a,i,n=this,o=n.conf,r={height:0,width:0},l=n.drawOptions,s=n.getFromEnv("chartConfig");return n._recalculateLogicalSpace?n._dontPlot?r:(n._recalculateLogicalSpace=!1,n.postConfigureInit(),o.showLegend?(a=l.refSideKey,i=l.refOffsetKey,n.drawOptions.refSide=s[a],n.drawOptions.refOffset=s[i],n.drawOptions.maxOtherSide=e||n.drawOptions.maxOtherSide,n.elem.gl&&(t=n.elem.gl.getLogicalSpace(n.drawOptions,!0),n.elem.gl&&n.setCalculatedLogicalSpace(t)),n.getCalculatedLogicalSpace()):r):(a=l.refSideKey,i=l.refOffsetKey,n.drawOptions.refSide=s[a],n.drawOptions.refOffset=s[i],n.drawOptions.maxOtherSide=e||n.drawOptions.maxOtherSide,t=n.elem.gl.getLogicalSpace(n.drawOptions,!0),n.setCalculatedLogicalSpace(t),n.getCalculatedLogicalSpace()||r)}resetLegend(){var e,t=this;e=t.elem&&t.elem.sGroup,e&&e.reset()}allocatePosition(){var e,t,a,i,n,o,r=this.getFromEnv("chart"),l=r.config,s=this,c=s.conf||{},h=c.legendPosition,d=l.canvasLeft,g=l.canvasTop,b=l.canvasWidth,p=l.canvasHeight,u=l.marginBottom,m=l.marginRight;r.config.gLegendEnabled&&(e=this.getCalculatedLogicalSpace(),a=c.width=e.width,i=c.height=e.height,"bottom"===h?(t=b-a,n=d+(0>t?0:t/2),o=l.height-e.height-u-(l.actionBarHeight||0)):(t=p-i,o=g+(0>t?0:t/2),n=l.width-e.width-m),c.xPos=n,c.yPos=o)}draw(){var e=this.getFromEnv("chart"),t=e.getFromEnv("dataSource").colorrange,a=this,i=a.conf||{},n=e.hasGradientLegend;!e.config.gLegendEnabled||t&&n&&a.drawLegendComponent(i.xPos,i.yPos,{parentGroup:e.getContainer("parentgroup"),animationManager:e.getFromEnv("animationManager")})}drawLegendComponent(e,t,a){var i,n,o=this,r=o.conf;return o._dontPlot?void 0:r.showLegend?(o.drawOptions.animationManager=a.animationManager,o.drawOptions.parentGroup=a.parentGroup,o.drawOptions.x=e,o.drawOptions.y=t,o.drawOptions.maxOtherSide=o.drawOptions.maxOtherSide||a.maxOtherSide,n=o.elem.gl.draw(o.drawOptions),i=n.getBBox(),r.xPos=i.x,r.yPos=i.y,r.height=i.height,r.width=i.width,void(o.enabled=!0)):void(o.enabled=!1)}}class rn{constructor(e){this.carpet=e}draw(e){return this.carpet.draw(e)}getLogicalSpace(e,t){return this.carpet.getLogicalSpace(e,t)}dispose(){this.carpet&&this.carpet.group&&this.carpet.group.remove()}}class ln{constructor(e){this.conf=e,this._id="GL_CARPET",this.compositionsByCategory={},this.node=zi,this.group=zi,this._lSpace=zi,this.autoRecalculate=!1,this.groupName="fc-gradient-legend",this.moveInstructions={}}configure(e){this.conf=e}getName(){return"LegendCarpet"}getType(){return"legend"}addCompositions(e,t){this.compositionsByCategory[t]=e}removeCompositions(e){delete this.compositionsByCategory[e]}getBoundingBox(e){var t,a,i=this.conf,n=i.spreadFactor,o=e.refSide,r=e.alignment,l=e.refOffset,s=e.x,c=e.y;return"bottom"===this.conf.legendPosition?(t=i.width=o*n,a=e.maxOtherSide,r&&(s===zi||null===s)&&(s=(l+o)/2-t/2)):(a=i.height=o*n,t=e.maxOtherSide,r&&(c===zi||null===c)&&(c=(l+o)/2-a/2)),{width:t,height:a,x:s,y:c}}getPostCalcDecisionsH(e,t){var a,i=this.conf,n=i.padding,o=0;for(a in this.moveInstructions={},t)o+=t[a].height||0;e.height=o+2*n.v}getLogicalSpace(e,t){var a,i,n,o,r,l=this._lSpace,s=["CAPTION","LEGEND_BODY"],c=this.conf,h=c.padding,d=this.compositionsByCategory,g=0,b={},p=0;if(l&&!t)return l.isImpure=!0,l;l=this._lSpace=i=this.getBoundingBox(e),(nn(l.x)||nn(l.y)||nn(l.height)||nn(l.width))&&(this.autoRecalculate=!0),n=Qi(i,{}),n.height-=2*h.v,n.width-=2*h.h,n.x+=h.h,n.y+=h.v;for(let u=0;u<s.length;u++)a=d[s[u]],a&&(r=Qi(n,{}),r.y+=g,g=n.height*a.conf.spreadFactor,r.height=g+p,o=a.getLogicalSpace(Qi(r,{}),e,t),p=r.height-o.height,b[s[u]]=o,g=o.height);return this.getPostCalcDecisions(i,b),this._lSpace=i,i}setupDragging(){var e=this.group,t=0,a=0,i=0,o=0;e.css({cursor:"move"}),e.drag(function(n,r){t=n,a=r,e.attr({transform:"t"+(i+t)+","+(o+a)})},function(){i+=t,o+=a},n["Kb"])}draw(e){var t,a,i,n,o=this.conf,r=this,l=["CAPTION","LEGEND_BODY"],s=this.compositionsByCategory,c=e.animationManager,h=e.parentGroup;this.getLogicalSpace(e,this.autoRecalculate),n=this._lSpace,this.group=t=c.setAnimation({el:this.group||"group",attr:{name:r.groupName},component:Gi,container:h,label:"carpetGroup"}),this.node=c.setAnimation({el:this.node||"rect",attr:n,css:o.style,component:Gi,container:t,label:"rect"});for(let d=0;d<l.length;d++)i=s[l[d]],i&&i.draw(o.captionAlignment,n,{animationManager:c,colorRange:e.colorRange,numberFormatter:e.numberFormatter,parentLayer:t,smartLabel:e.smartLabel,moveInstructions:this.moveInstructions[a],gLegend:e.gLegend});return o.allowDrag&&this.setupDragging(),this.node}getPostCalcDecisions(e,t){return"bottom"===this.conf.legendPosition?this.getPostCalcDecisionsH(e,t):this.getPostCalcDecisionsV(e,t)}getPostCalcDecisionsV(e,t){var a,i,n,o=this.conf,r=o.padding,l=Number.NEGATIVE_INFINITY,s=this.moveInstructions;for(i in this.getPostCalcDecisionsH(e,t),t)a=t[i].width,l=l<a?a:l;for(i in e.width=l+2*r.h,t)a=t[i].width,n=l-a,n&&(s[i]="t"+n/2+",0")}}class sn{constructor(e,t){this.rawText=e,this.conf=t,this._id="GL_CAPTION",this.node=zi,this.bound=zi,this._lSpace=zi,this.LegendCaption={},this.LegendCaption.LEFT={x:function(e,t){return t.x+e.width/2+2}},this.LegendCaption.RIGHT={x:function(e,t){return t.x+t.width-e.width/2-2}},this.LegendCaption.CENTER={x:function(){let e=arguments[1];return e.x+e.width/2}}}configure(e,t){this.rawText=e,this.conf=t}getName(){return"LegendCaption"}getType(){return"caption"}getLogicalSpace(e,t,a){var i,n,o,r,l=this.conf,s=l.padding,c=this._lSpace,h=this.rawText,d=t.gLegend.getFromEnv("chartConfig");return c&&!a?(c.isImpure=!0,c):(c=this._lSpace={bound:{height:0,width:0},node:{logicArea:zi,smartText:zi}},i=t.smartLabel,h?(n=Qi(e,{}),n.height-=2*s.v,n.width-=2*s.h,n.x+=s.h,n.y+=s.v,i.useEllipsesOnOverflow(d.useEllipsesWhenOverflow),r=Qi(this.conf.style,{}),an(r),i.setStyle(this._metaStyle=r),o=i.getSmartText(h,n.width,n.height),n.height=o.height,n.width=o.width,e.height=o.height+2*s.v,e.width=o.width+2*s.h,c.node.smartText=o,c.node.logicArea=n,c.bound=e,e):c.bound)}draw(){var e,t,a,i,n,o,r,l,s,c,h,d=this.conf,g=d.bound||{};return 3<=arguments.length?(r=arguments[0],l=arguments[1],s=arguments[2]):2<=arguments.length&&(r=arguments[0],s=arguments[1]),e=s.parentLayer,h=s.animationManager,this.group=t=h.setAnimation({el:this.group||"group",attr:{name:"legend-caption"},css:d.style,component:Gi,container:e}),this.getLogicalSpace(l,s),n=this._lSpace,c=n.node,i=n.bound,this.bound=a=h.setAnimation({el:this.bound||"rect",attr:i,css:g.style,container:t,component:Gi}),o="string"==typeof r?this.LegendCaption[r.toUpperCase()].x(c.smartText,l||c.logicArea):r,this.node=h.setAnimation({el:this.node||"text",attr:{text:c.smartText.text,x:o,y:c.logicArea.y+c.smartText.height/2,lineHeight:this._metaStyle.lineHeight,fill:d.style.fill},container:t,component:Gi}),{group:t,bound:a,node:this.node}}dispose(){this.group.remove(),this.bound.remove(),this.node.remove()}}class cn{constructor(e,t,a){this.colorRange=e,this.conf=t,this.childTextConf=a,this._id="GL_BODY",this.bound=zi,this.group=zi,this.compositionsByCategory={},this._lSpace=zi,this.SC_STACK=[Wi.AXIS_LABEL,Wi.LEGEND_AXIS,Wi.AXIS_VALUE],this.DARW_STACK=[Wi.AXIS_VALUE,Wi.LEGEND_AXIS,Wi.AXIS_LABEL]}configure(e,t,a){this.colorRange=e,this.conf=t,this.childTextConf=a,this.compositionsByCategory={}}getName(){return"LegendBody"}getType(){return"legend"}addCompositions(e,t){this.compositionsByCategory[t]=e}getSpaceTaken(e){return"bottom"===this.conf.legendPosition?e.height:e.width}getLogicalSpace(e,t,a){var i,n,o,r,l,s,c,h=this._lSpace,d=this.conf,g=d.padding,b=this.compositionsByCategory,p=0;if(h&&!a)return h.isImpure=!0,h;for(h=this._lSpace={bound:{height:0,width:0},node:{logicArea:zi}},r=Qi(e,{}),r.height-=2*g.v,r.width-=2*g.h,r.x+=g.h,r.y+=g.v,l=this.getCompositionPlotAreaFor(r),t.colorRange=this.colorRange,s=0,c=this.SC_STACK.length;s<c;s++)(i=b[this.SC_STACK[s]])&&(n=l(o,i.conf.spreadFactor),o=i.getLogicalSpace(Qi(n,{}),t,a),p+=this.getSpaceTaken(o));return this.updateEffectivePlotArea(e,r,p),h.node.logicArea=r,h.bound=e,e}draw(){var e,t,a,i,n,o,r,l,s,c,h=this.childTextConf,d=this.conf,g=d.bound.style||{},b=this.compositionsByCategory;for(3<=arguments.length?(o=arguments[1],l=arguments[2]):2<=arguments.length&&(l=arguments[1]),t=l.parentLayer,e=l.animationManager,this.getLogicalSpace(o,l),r=this._lSpace,this.group=n=e.setAnimation({el:this.group||"group",attr:{name:"legend-body",transform:"t0,0"},css:h.style,container:t,component:Gi}),this.bound=a=e.setAnimation({el:this.bound||"rect",attr:r.bound,css:g,container:n,component:Gi}),l.colorRange=this.colorRange,l.parentLayer=n,s=0,c=this.DARW_STACK.length;s<c;s++)(i=b[this.DARW_STACK[s]])&&i.draw(l);return l.moveInstructions&&n.attr({transform:l.moveInstructions}),{bound:a,group:n}}getCompositionPlotAreaFor(e){var t,a="bottom"===this.conf.legendPosition;return t=Qi(e,{}),function(i,n){return i=i||{},a?(t.y+=i.height||0,t.height=e.height*n):(t.x+=i.width||0,t.width=e.width*n),t}}updateEffectivePlotArea(e,t,a){var i=this.conf,n=i.padding;"bottom"===this.conf.legendPosition?(t.height=a,e.height=a+2*n.v):(t.width=a,e.width=a+2*n.h)}}class hn{constructor(e){this.conf=e,this.node=[],this._id="GL_LABELS"}configure(e){this.conf=e}getType(){return"label"}getName(){return"LegendLabel"}getEffectivePlotArea(e){var t=this.conf,a=t.padding;return e.height-=2*a.v,e.width-=2*a.h,e.x+=a.h,e.y+=a.v,e}getLogicalSpace(e,t,a){var i,n,o,r,l,s,c,h,d,g,b,p,u,m,f,v,x,y,C,O,L,w,k,j=Math.max,A="bottom"===this.conf.legendPosition,F=this._lSpace,S=this.conf,T=S.padding,B=[],E=t.gLegend.getFromEnv("chartConfig"),P=[];if(F&&!a)return F.isImpure=!0,F;for(i=t.colorRange,n=t.smartLabel,g=i.getCumulativeValueRatio(),o=i.colorRange,F=this._lSpace={bound:{height:0,width:0},node:{logicArea:zi,smartTexts:[]}},u=F.node.smartTexts,h=Qi(e,{}),f=this.getEffectivePlotArea(h),k=A?f.width:f.height,n.useEllipsesOnOverflow(E.useEllipsesWhenOverflow),w=Qi(S.style,{}),an(this._metaStyle=w),n.setStyle(w),v=n.getSmartText("W"),r=0,l=o.length;r<l;r++)d=o[r].label,d?P.push({oriIndex:r,label:d}):u[r]=zi;if(l=P.length,0===l)return{height:0,width:0};for(b=1<l?(g[P[l-1].oriIndex]-g[P[0].oriIndex])/2*k/100:j(g[P[0].oriIndex],100-g[P[0].oriIndex])/2*k/100,p=b,A?(O=n.getSmartText(P[0].label,p,f.height),O.x=g[P[0].oriIndex]*f.width/100,s=O.x+O.width):(O=n.getSmartText(P[0].label,p,f.width),O.y=g[P[0].oriIndex]*f.height/100,s=O.y+O.width),B.push(O.height),u[P[0].oriIndex]=O,A?(O=n.getSmartText(P[l-1].label,p,f.height),O.x=g[P[l-1].oriIndex]*f.width/100,c=O.x-O.width):(O=n.getSmartText(P[l-1].label,p,f.width),O.y=g[P[l-1].oriIndex]*f.height/100,c=O.y-O.width),B.push(O.height),u[P[l-1].oriIndex]=O,C=s,r=1;r<l-1;r++)d=P[r].label,L=P[r].oriIndex,O=zi,x=r+1===l-1?c:g[P[r+1].oriIndex]*k/100,y=g[P[r].oriIndex]*k/100,b=Math.min(y-C,x-y),b>2*v.width&&(A?(O=n.getSmartText(d,b,f.height),O.x=g[L]*f.width/100):(O=n.getSmartText(d,b,f.width),O.y=g[L]*f.height/100),C=b,B.push(O.height)),u[P[r].oriIndex]=O;return m=j.apply(Math,B),A?(f.height=m,e.height=m+2*T.v):(f.width=m,e.width=m+2*T.v),F.node.logicArea=f,F.bound=e,e}draw(){var e,t,a,i,n,o,r,l,s,c,h,d,g="bottom"===this.conf.legendPosition,b=this.conf,p=b.bound&&b.bound.style||{stroke:"none"},u={};2<=arguments.length&&arguments[1]?(i=arguments[0],r=arguments[1]):1<=arguments.length&&(r=arguments[0]),d=r.animationManager,e=r.parentLayer,this.getLogicalSpace(i,r),o=this._lSpace,s=o.node.logicArea,c=o.node.smartTexts,this.group=a=d.setAnimation({el:this.group||"group",attr:{name:"legend-labels"},container:e,component:Gi}),this.bound=t=d.setAnimation({el:this.bound||"rect",attr:o.bound,css:p,container:a,component:Gi});for(let m=0;m<this.node.length;m++)this.node[m].remove();for(this.node=[],l=0,h=c.length;l<h;l++)n=c[l],n&&(g?(u.y=s.y+n.height/2,u.x=l===h-1?s.x+n.x-n.width/2:l?s.x+n.x:s.x+n.x+n.width/2):(u.x=s.x+n.height/2,u.y=l===h-1?s.y+n.y-n.width/2:l?s.y+n.y:s.y+n.y+n.width/2),this.node.push(d.setAnimation({el:"text",attr:{text:n.text,x:u.x,y:u.y,lineHeight:this._metaStyle.lineHeight,fill:b.style.fill,transform:g?"R0":"R270,"+u.x+","+u.y},container:a,component:Gi})));return{group:a,bound:t,node:this.node}}}class dn{constructor(e){this.conf=e,this._id="FL_AXIS",this.node=zi,this.group=zi,this.shadow=zi,this.markerLine=zi,this.compositionsByCategory={}}configure(e){this.conf=e}getName(){return"LegendAxis"}getType(){return"axis"}addCompositions(e,t){this.compositionsByCategory[t]=e}getLogicalSpace(){var e,t,a,i,n,o,r,l="bottom"===this.conf.legendPosition,s=arguments[0],c=arguments[2],h=this._lSpace,d=this.conf,g=d.padding,b=d.legendAxisHeight,p=this.compositionsByCategory,u=0;return h&&!c?(h.isImpure=!0,h):(h=this._lSpace={bound:{height:0,width:0},node:{logicArea:zi}},n=Qi(s,{}),n.height-=2*g.v,n.width-=2*g.h,n.x+=g.h,n.y+=g.v,e=b/2+d.line.offset,t=b/2,i=p[Wi.RANGE],i&&(o=i.sliders["false"],r=o.conf.outerCircle.rFactor*b,t+=u=Math.max(r/2-b/2,0)),l?(n.y+=u,n.height=a=t+e+u,s.height=a+2*g.v):(n.x+=u,n.width=a=t+e+u,s.width=a+2*g.v),h.node.logicArea=n,h.bound=s,s)}getDrawableAxisArea(e){var t=this.conf,a="bottom"===this.conf.legendPosition,i=e.x,n=e.y,o=a?e.width:t.legendAxisHeight,r=a?t.legendAxisHeight:e.height,l=t.legendAxisHeight/2;return{x:i,y:n,width:o,height:r,r:l}}preDrawingRangeParamV(e){var t=e.x+e.width/2,a=e.width;return{x:t,calculationBase:a,rangeStart:e.y,rangeEnd:e.y+e.height,prop:"x"}}preDrawingRangeParamH(e){var t=e.y+e.height/2,a=e.height;return{y:t,calculationBase:a,rangeStart:e.x,rangeEnd:e.x+e.width,prop:"y"}}preDrawingRangeParam(e){return"bottom"===this.conf.legendPosition?this.preDrawingRangeParamH(e):this.preDrawingRangeParamV(e)}getScaleMarkerPathStrH(e,t){var a,i,n,o,r,l=Qi(e,{}),s=this.conf,c=s.line,h="",d="";for(l.x+=l.r,l.width-=2*l.r,r=l.y+l.height,a=0,i=t.length;a<i;a++)n=t[a],o=l.x+n*l.width/100,h+=qi+o+Ki+(r-c.grooveLength)+$i+o+Ki+(r+c.offset);return d+=qi+l.x+Ki+(r+c.offset)+$i+(l.x+l.width)+Ki+(r+c.offset),h+d}getColorGradientH(e){return{axis:e.getBoxFill(),shadow:Object(n["Mb"])({FCcolor:{alpha:"25,0,0",angle:90,color:"000000,FFFFFF,FFFFFF",ratio:"0,30,40"}})}}draw(){var e,t,a,i,n,o,r,l,s,c,h,d,g,b,p=this.conf,u=p.bound||{},m=p.line,f=u.style||{},v=this.compositionsByCategory;for(a in 2<=arguments.length?(t=arguments[0],d=arguments[1]):1<=arguments.length&&(d=arguments[0]),g=d.animationManager,e=d.parentLayer,i=d.colorRange,n=i.getCumulativeValueRatio(),this.getLogicalSpace(t,d),h=this._lSpace,this.group=r=g.setAnimation({el:this.group||"group",attr:{name:"legend-axis"},container:e,component:Gi}),this.bound=g.setAnimation({el:this.bound||"rect",attr:h.bound,css:f,component:Gi,container:r}),c=this.getDrawableAxisArea(h.node.logicArea),s=this.getColorGradient(i),p.style.fill=s.axis,p.shadow.style.fill=s.shadow,this.node=g.setAnimation({el:this.node||"rect",attr:c,css:p.style,container:r,component:Gi}),this.shadow=g.setAnimation({el:this.shadow||"rect",attr:c,css:p.shadow.style,container:r,component:Gi}),b=this.getScaleMarkerPathStr(c,n),this.path=g.setAnimation({el:this.path||"path",attr:{path:b},css:m.style,container:r,component:Gi}),v)o=v[a],a===Wi.RANGE&&(l=this.preDrawingRangeParam(c),d[l.prop]=l[l.prop],d.key=l.prop,d.rCalcBase=l.calculationBase,d.parentLayer=r,o.draw(l.rangeStart,l.rangeEnd,d))}getScaleMarkerPathStr(e,t){return"bottom"===this.conf.legendPosition?this.getScaleMarkerPathStrH(e,t):this.getScaleMarkerPathStrV(e,t)}getColorGradient(e){return"bottom"===this.conf.legendPosition?this.getColorGradientH(e):this.getColorGradientV(e)}getScaleMarkerPathStrV(e,t){var a,i,n,o,r,l=Qi(e,{}),s=this.conf,c=s.line,h="",d="";for(l.y+=l.r,l.height-=2*l.r,o=l.x+l.width,a=0,n=t.length;a<n;a++)i=t[a],r=l.y+i*l.height/100,h+=qi+(o-c.grooveLength)+Ki+r+$i+(o+c.offset)+Ki+r;return d+=qi+(o+c.offset)+Ki+l.y+$i+(o+c.offset)+Ki+(l.y+l.height),h+d}getColorGradientV(e){return{axis:e.getBoxFill(!0),shadow:Object(n["Mb"])({FCcolor:{alpha:"25,0,0",angle:360,color:"000000,FFFFFF,FFFFFF",ratio:"0,30,40"}})}}}class gn{constructor(e,t,a){this.conf=t.conf,this.sliderIndex=e,this.rangeGroup=t.sliderGroup,this._id=a,this.node=zi,this.tracker=zi,this.currPos=0,this.swing=[]}configure(e,t,a){this.conf=t.conf,this.sliderIndex=e,this.rangeGroup=t.sliderGroup,this._id=a,this.currPos=0,this.swing=[]}getType(){return"slider"}getName(){return"Slider"}updateSwingRange(e,t){this.swing[+e]=t}draw(e,t,a,i){var n,o,r,l,s,c,h=Math.ceil,d=i.parentLayer,g=this,b=i.animationManager,p=this.conf,u=p.outerCircle,m=p.innerCircle,f=h(u.rFactor*i.rCalcBase/2),v=h(m.rFactor*i.rCalcBase/2),x=f-v,y=this.sliderIndex;return p.outerRadius=f,p.innerRadius=v,this._scaleVal=t,m.style["stroke-width"]=x,r=h(u.style["stroke-width"]/2),v+=r,n=this.node=b.setAnimation({el:this.node||"group",attr:{name:"fc-gl-slider",cursor:"pointer",transform:"t0,0"},container:d,component:Gi}),"x"===i.key?(l=a,s=e,s+=y?-v:+v):(l=e,s=a,l+=y?-v:+v),this.oCircle=b.setAnimation({el:this.oCircle||"circle",attr:{cx:l,cy:s,r:f},css:u.style,container:n,component:Gi}),this.iCircle=b.setAnimation({el:this.iCircle||"circle",attr:{cx:l,cy:s,r:v},css:m.style,container:n,component:Gi}),c=this.tracker=b.setAnimation({el:this.tracker||"circle",attr:{cx:l,cy:s,r:f+5,fill:Hi,stroke:Hi,cursor:"pointer"},container:n,component:Gi}),n.attr({transform:"x"===i.key?"t0,"+g.currPos:"t"+g.currPos+",0"}),Ni.enableToolTip(c,t),this._dragAPI=o=this.getDragAPI("x"===i.key),c.undrag(),c.drag(o.dragging,o.dragStart,o.dragEnd),{translateAscending:f+r}}getDragAPI(e){var t,a,i,n,o=this,r=o.node,l=o.sliderIndex,s=o.rangeGroup,c=o.conf.innerRadius,h=c;return{dragging:function(c){var d,g,b,p,u;return c.stopPropagation(),c.preventDefault(),b=e?c.data[1]:c.data[0],l?(d=t[0]-t[1]+h,g=0):(d=0,g=t[1]-t[0]-h),u=o.currPos+b,u<d?b+=d-u:u>g&&(b-=u-g),r.attr({transform:e?"t0,"+(o.currPos+b):"t"+(o.currPos+b)+",0"}),a=b,i&&clearTimeout(i),i=setTimeout(function(){s.updateWhenInRest(o,o.currPos+b)},100),p=s.updateWhenInMove(o,o.currPos+b),o.tracker.data("__FC_tooltipText",p),n=!0,!0},dragStart:function(e){e.stopPropagation(),e.preventDefault(),t=o.swing,n=!1,s.dragStarted(o)},dragEnd:function(){var e;s.dragCompleted(o,n,o.currPos+a),n&&(i&&clearTimeout(i),i=setTimeout(function(){s.updateWhenInRest(o,o.currPos)},100),o.currPos+=a,e=t[+l]+o.currPos,s.updateRange(o,e))}}}dispose(){this.node.remove(),this.oCircle.remove(),this.iCircle.remove(),this.tracker.remove()}}class bn{constructor(e){var t={};this._id="GL_SG1",this.conf=e,t.conf=e,this.extremes=[],this.sliders={},this.min=void 0,this.max=void 0,t.sliderGroup=this,this.valueRange=[],this.callbacks=[],this.sliders[Yi]=new gn(Yi,t,this._id+"_0"),this.sliders[Xi]=new gn(Xi,t,this._id+"_1")}configure(e){var t={};this.min=void 0,this.max=void 0,this.conf=e,t.conf=e,t.sliderGroup=this,this.sliders[Yi].configure(Yi,t,this._id+"_0"),this.sliders[Xi].configure(Xi,t,this._id+"_1")}getType(){return"slider"}getName(){return"SliderGroup"}initRange(e,t){var a=e.sliderIndex;this.extremes[+a]=t}updateRange(e,t){var a=e.sliderIndex,i=this.sliders,n=i[!a];n.updateSwingRange(a,t)}reset(){var e={};e.conf=this.conf,e.sliderGroup=this,this.min=void 0,this.max=void 0,this.sliders[Yi].configure(Yi,e,this._id+"_0"),this.sliders[Xi].configure(Xi,e,this._id+"_1"),this.draw.apply(this,this._drawParams)}draw(e,t,a){var i,n,o,r,l,s,c=Math.ceil,h=this.sliders,d=h[!1],g=h[!0],b=a.colorRange,p=b.colorRange,u=b.data.mapByPercent,m=a.gLegend.getFromEnv("number-formatter");return this._fcChart=a.gLegend.getFromEnv("chart"),this.getValueFormPixel=function(e,t,a,i){this.getValueFormPixel=function(n){return e+(t-e)/(i-a)*n}},this.updateWhenInMove=function(e,t){this.updateWhenInMove=function(a,i){var n,o,r=this.extremes,l=a.sliderIndex;return n=l?r[1]-r[0]+i:i,o=this.getValueFormPixel(n),o=t?parseFloat(o).toFixed(2)+Zi:e.legendValue(o),o}},this._drawParams=[e,t,a],this.updateWhenInMove(m,u),o=d.conf.outerCircle,n=d.conf.innerCircle,r=c(n.rFactor*a.rCalcBase/2),r+=c(o.style["stroke-width"]/2),this.extremes[0]=e+r,this.extremes[1]=t-r,l=this.extremes[1]-this.extremes[0],this.min=this.min?this.min:p[0].value,this.max=this.max?this.max:p[p.length-1].value,s=p[p.length-1].value-p[0].value,d.currPos=l*(this.min-p[0].value)/s,g.currPos=l*(this.max-p[0].value)/s-l,i=d.draw(e,u?m.legendPercentValue(this.min):m.legendValue(this.min),a[a.key],a),i=g.draw(t,u?m.legendPercentValue(this.max):m.legendValue(this.max),a[a.key],a),d.swing=this.extremes.slice(0),g.swing=this.extremes.slice(0),d.swing[1]+=g.currPos,g.swing[0]+=d.currPos,this.getValueFormPixel(p[0].value,p[p.length-1].value,this.extremes[0],this.extremes[1]),i}updateWhenInRest(e,t){var a,i,n=this.sliders,o=this.extremes,r=e.sliderIndex;r?(a=n[!r].currPos,i=o[1]-o[0]+t):(a=t,i=o[1]-o[0]+n[!r].currPos),this.min=+this.getValueFormPixel(a).toFixed(2),this.max=+this.getValueFormPixel(i).toFixed(2),this.gLegend.fireEvent("rangeUpdated",[{min:this.min,max:this.max}])}dragStarted(e){var t=this.sliders,a=this.extremes,i=e.conf,n=this._fcChart;n.fireChartInstanceEvent("legendpointerdragstart",{pointerIndex:+e.sliderIndex,pointers:[{value:this.getValueFormPixel(t["false"].currPos)},{value:this.getValueFormPixel(a[1]-a[0]+t["true"].currPos)}],legendPointerHeight:i.outerRadius,legendPointerWidth:i.innerRadius,outerRadius:i.outerRadius,innerRadius:i.innerRadius},[n.id])}dragCompleted(e,t,a){var i,n,o=this.sliders,r=this.extremes,l=e.conf,s=this.getValueFormPixel(o["false"].currPos),c=this.getValueFormPixel(r[1]-r[0]+o["true"].currPos),h=this._fcChart;e.sliderIndex?(i=s,n=this.getValueFormPixel(r[1]-r[0]+a)):(i=this.getValueFormPixel(a),n=c),t&&h.fireChartInstanceEvent("legendrangeupdated",{previousMinValue:s,previousMaxValue:c,minValue:i,maxValue:n},[h.id]),h.fireChartInstanceEvent("legendpointerdragstop",{pointerIndex:+e.sliderIndex,pointers:[{value:i},{value:n}],legendPointerHeight:l.outerRadius,legendPointerWidth:l.innerRadius,outerRadius:l.outerRadius,innerRadius:l.innerRadius},[h.id])}dispose(){this.sliders[Yi].dispose(),this.sliders[Xi].dispose()}}class pn extends hn{constructor(){super(arguments[0]),this._id="GL_VALUES",this.node=[]}configure(e){this.conf=e}getName(){return"LegendValues"}getType(){return"legend"}getLogicalSpace(e,t,a){var i,n,o,r,l,s,c,h,d,g,b,p,u,m,f,v,x,y,C,O,L,w,k,j,A,F=Math.min,S=Math.max,T="bottom"===this.conf.legendPosition,B=this._lSpace,E=this.conf,P=E.padding,_=t.gLegend.getFromEnv("chartConfig"),D=[],V=[];if(B&&!a)return B.isImpure=!0,B;for(i=t.colorRange,n=t.smartLabel,o=i.colorRange,c=i.getCumulativeValueRatio(),B=this._lSpace={bound:{height:0,width:0},node:{logicArea:zi,smartTexts:[]}},A=B.node.smartTexts,O=Qi(e,{}),O.height-=2*P.v,O.width-=2*P.h,O.x+=P.h,O.y+=P.v,n.useEllipsesOnOverflow(_.useEllipsesWhenOverflow),j=Qi(E.style,{}),an(this._metaStyle=j),n.setStyle(j),k=n.getSmartText("W"),s=o.length,T?(b=h=(c[s-1]-c[0])/2*O.width/100,w=o[0].displayValue,r=n.getSmartText("string"!=typeof w&&w!==zi&&w.toString()||w,b,O.height),r.x=c[0]*O.width/100,p=r.x+r.width,D.push(r.height)):(b=h=(c[s-1]-c[0])/2*O.height/100,r=n.getSmartText(o[0].displayValue,O.width,b),r.y=c[0]*O.height/100,f=r.y+r.width,V.push(r.width)),A[0]=r,T?(r=n.getSmartText(o[s-1].displayValue,b,O.height),r.x=c[s-1]*O.width/100,m=r.x-r.width,D.push(r.height),u=p):(r=n.getSmartText(o[s-1].displayValue,O.width,b),r.y=c[s-1]*O.height/100,x=r.y-r.height,V.push(r.width),v=f),A[s-1]=r,l=1;l<s-1;l++)r=zi,L=o[l].displayValue,T?(d=l+1===s-1?m:c[l+1]*O.width/100,g=c[l]*O.width/100,h=F(g-u,d-g),h>1.5*k.width&&(r=n.getSmartText(L,2*h,O.height),r.x=c[l]*O.width/100,u=h,D.push(r.height))):(d=l+1===s-1?x:c[l+1]*O.height/100,g=c[l]*O.height/100,h=F(g-v,d-g),h>2*k.height&&(r=n.getSmartText(L,O.width,2*h),r.y=c[l]*O.height/100,v=h,V.push(r.width))),A[l]=r;return T?(y=S.apply(Math,D),O.height=y,e.height=y+2*P.v):(C=S.apply(Math,V),O.width=C,e.width=C+2*P.h),B.node.logicArea=O,B.bound=e,e}draw(){var e,t,a,i,n,o,r,l,s,c,h,d,g,b,p=this.conf,u="bottom"===p.legendPosition,m=p.bound&&p.bound.style||{stroke:"none"},f={};2<=arguments.length&&arguments[1]?(i=arguments[0],r=arguments[1]):1<=arguments.length&&(r=arguments[0]),b=r.animationManager,e=r.parentLayer,l=r.colorRange,s=l.getCumulativeValueRatio(),this.getLogicalSpace(i,r),n=this._lSpace,o=n.node.logicArea,d=n.node.smartTexts,this.group=a=b.setAnimation({el:this.group||"group",attr:{name:"legend-values"},container:e,component:Gi}),this.bound=t=b.setAnimation({el:this.bound||"rect",attr:n.bound,css:m,container:a,component:Gi});for(let v=0;v<this.node.length;v++)this.node[v].remove();for(this.node=[],c=0,h=s.length;c<h;c++)g=d[c],g&&(u?(f.y=o.y+g.height/2,f.x=c===h-1?o.x+g.x-g.width/2:c?o.x+g.x:o.x+g.x+g.width/2):(f.x=o.x+g.width/2,f.y=c===h-1?o.y+g.y-g.height/2:c?o.y+g.y:o.y+g.y+g.height/2),this.node.push(b.setAnimation({el:"text",attr:{text:g.text,x:f.x,y:f.y,lineHeight:this._metaStyle.lineHeight,fill:p.style.fill},container:a,component:Gi})));return{group:a,bound:t}}}var un=on,mn=a("dd20");function fn(e){let t,a=e.getFromEnv("dataSource").colorrange,i=e.getFromEnv("dataSource").chart.mapbycategory,o="maps"===e.defaultDatasetType,r="TreeMap"===e.getName(),l=e.getFromEnv("legend"),s=e.getFromEnv("gLegend");t=a&&e.config.showLegend?o?a.gradient&&+a.gradient?"gradient":a.color?"icon":"none":r?a.gradient&&"0"!=a.gradient?"gradient":"none":a.gradient&&"0"!=a.gradient&&!+i?"gradient":"icon":"none","gradient"===t?(e.deleteFromEnv("legend"),l&&l.remove(),Object(n["M"])(e,un,"gLegend",1),s=e.getChildren("gLegend")[0],s.configure(),e.addToEnv("gLegend",s)):"icon"===t?(e.deleteFromEnv("gLegend"),s&&s.remove(),Object(n["M"])(e,mn["a"],"legend",1,{showLegend:!0}),l=e.getChildren("legend")[0],l.configure(),e.addToEnv("legend",l)):"none"===t&&(e.deleteFromEnv("gLegend"),e.deleteFromEnv("legend"),s&&s.remove(),l&&l.remove())}var vn=function(e){fn(e)};let xn,yn=Object($t["c"])({foregroundcolor:"333333",foregroundalpha:"100",foregrounddarkcolor:"111111",foregrounddarkalpha:"100",foregroundlightcolor:"666666",foregroundlightalpha:"100",backgroundlightcolor:"FFFFFF",backgroundlightalpha:"100",backgroundlightangle:90,backgroundlightratio:"",backgroundcolor:"FFFFCC",backgroundalpha:"100",backgrounddarkcolor:"ffcc66",backgrounddarkalpha:"100",backgrounddarkangle:270,backgrounddarkratio:"",shadow:1},Ut),Cn="0,100",On={basefontcolor:"foregroundcolor",bordercolor:"foregrounddarkcolor",borderalpha:"foregrounddarkalpha",bgcolor:"backgroundlightcolor",bgalpha:"backgroundlightalpha",bgangle:"backgroundlightangle",bgratio:"backgroundlightratio",canvasbordercolor:"foregrounddarkcolor",canvasborderalpha:"foregrounddarkalpha",canvasbgcolor:"backgroundlightcolor",canvasbgalpha:"backgroundlightalpha",canvasbgangle:"backgroundlightangle",canvasbgratio:"backgroundlightratio",tooltipbordercolor:"foregrounddarkcolor",tooltipborderalpha:"foregrounddarkalpha",tooltipbgcolor:"backgroundlightcolor",tooltipbgalpha:"backgroundlightalpha",tooltipfontcolor:"foregroundcolor",legendbordercolor:"foregrounddarkcolor",legendborderalpha:"foregrounddarkalpha",markerbordercolor:"foregroundlightcolor",markerborderalpha:"foregroundlightalpha",markerfillcolor:"backgrounddarkcolor",markerfillalpha:"backgrounddarkalpha",markerfillangle:"backgrounddarkangle",markerfillratio:"backgrounddarkratio",plotfillcolor:"backgroundcolor",plotfillalpha:"backgroundalpha",plotfillangle:"backgroundangle",plotfillratio:"backgroundratio",plothoverfillcolor:"backgrounddarkcolor",plothoverfillalpha:"backgrounddarkalpha",plothoverfillangle:"backgrounddarkangle",plothoverfillratio:"backgrounddarkratio",plotbordercolor:"foregroundcolor",plotborderalpha:"foregroundalpha",shadow:"shadow"},Ln={getMapName:function(){let e=this,t=e.jsVars.instanceAPI,a=t.getName().toLowerCase();return a},getEntityList:function(){let e,t,a,i,n,o,r,l=this,s=l.jsVars.instanceAPI,c=s.getDatasets()||[],h=c.length,d=[];for(e=0;e<h;e++)if(a=c[e]||[],r=a.getName(),"entities"===r){t=a;break}for(e in i=t.components.data,h=i.length,i)i.hasOwnProperty(e)&&(n=i[e]||{},o=n.config||{},d.push({id:o.id,originalId:o.originalId||o.id,label:o.label,shortlabel:o.shortLabel,value:o.value,formattedValue:o.formattedValue,toolText:o.toolText}));return d},getMapAttribute:function(){let e=this;return Object(Jt["f"])(this,"12061210581","run","JavaScriptRenderer~getMapAttribute()",'Use of deprecated "getMapAttribute()". Replace with "getChartAttribute()".'),e.getChartAttribute.apply(e,arguments)},exportMap:function(){let e=this;return Object(Jt["f"])(this,"12061210581","run","JavaScriptRenderer~exportMap()",'Use of deprecated "exportMap()". Replace with "exportChart()".'),e.exportChart&&e.exportChart.apply(e,arguments)},addMarker:function(e){let t,a,i,n,o=this.jsVars.instanceAPI,r=o.getDatasets()||[],l=r.length;for(t=0;t<l;t++)if(a=r[t]||[],n=a.getName(),"markers"===n){i=a;break}i&&!i.addMarkerItem(e)&&Object(Jt["f"])(this,"1309264086","run","MapsRenderer~addMarker()","Failed to add marker. Check the options and try again.")},updateMarker:function(e,t){let a,i,n,o,r=this.jsVars.instanceAPI,l=r.getDatasets()||[],s=l.length;for(a=0;a<s;a++)if(i=l[a]||[],o=i.getName(),"markers"===o){n=i;break}n&&e&&(e=(e+jn).toLowerCase(),n.updateMarkerItem(e,t))},removeMarker:function(e){let t,a,i,n,o=this.jsVars.instanceAPI,r=o.getDatasets()||[],l=r.length;for(t=0;t<l;t++)if(a=r[t]||[],n=a.getName(),"markers"===n){i=a;break}e&&(e=(e+jn).toLowerCase(),i._removeMarkerItem(e))}},wn="none",kn=", ",jn="",An="bottom",Fn="circle",Sn=window.Math,Tn=Sn.min,Bn=Sn.max,En=function(e,t){let a=Object(n["db"])(t.getFromEnv("chart-container"),e),i=a.chartX,o=a.chartY,r=t.config,l=r.canvasLeft,s=r.canvasTop,c=r.canvasLeft+r.canvasWidth,h=r.canvasHeight+r.canvasTop;return a.insideCanvas=!1,a.originalEvent=e,i>l&&i<c&&o>s&&o<h&&(a.insideCanvas=!0),a};class Pn extends l["a"]{constructor(e,t){for(var a in super(),this.subpalette="",this.key="",this.index=t,e)this.subpalette=yn[e[a]],this[a]=this.subpalette instanceof Array?this.subpalette[t]:this.subpalette,this.key=a}}class _n extends Kt{constructor(){super(),this.friendlyName="Map",this.revision=1,this.hasCanvas=!0,this.standaloneInit=!1,this.defaultDatasetType="maps",this.defaultSeriesType="geo",this.fireGroupEvent=!0,this.legendposition="right",this.hasGradientLegend=!0,this.isMap=!0,this.defaultPaletteOptions={paletteColors:[["A6A6A6","CCCCCC","E1E1E1","F0F0F0"],["A7AA95","C4C6B7","DEDFD7","F2F2EE"],["04C2E3","66E7FD","9CEFFE","CEF8FF"],["FA9101","FEB654","FED7A0","FFEDD5"],["FF2B60","FF6C92","FFB9CB","FFE8EE"]],bgColor:["FFFFFF","CFD4BE,F3F5DD","C5DADD,EDFBFE","A86402,FDC16D","FF7CA0,FFD1DD"],bgAngle:[270,270,270,270,270],bgRatio:[Cn,Cn,Cn,Cn,Cn],bgAlpha:["100","60,50","40,20","20,10","30,30"],toolTipBgColor:["FFFFFF","FFFFFF","FFFFFF","FFFFFF","FFFFFF"],toolTipBorderColor:["545454","545454","415D6F","845001","68001B"],baseFontColor:["555555","60634E","025B6A","A15E01","68001B"],tickColor:["333333","60634E","025B6A","A15E01","68001B"],trendColor:["545454","60634E","415D6F","845001","68001B"],plotFillColor:["545454","60634E","415D6F","845001","68001B"],borderColor:["767575","545454","415D6F","845001","68001B"],borderAlpha:[50,50,50,50,50]},this.colorPaletteMap=On,this.eiMethods=Ln,this.registerFactory("legend",vn,["canvas"]),this.registerFactory("axis",()=>{},["canvas"]),this.registerFactory("colormanager-decider",Mi,["legend"]),this.registerFactory("dataset",mi,["colormanager-decider"]),this.registerFactory("canvas",fi["a"])}_checkInvalidSpecificData(){return this.config.invalid=!1,!1}__setDefaultConfig(){var e=this.config;e.baseWidth||(e.baseWidth=400),e.baseHeight||(e.baseHeight=300),e.baseScaleFactor||(e.baseScaleFactor=1)}static getName(){return"maps"}static getType(){return"chartAPI"}getName(){return this.config.name||"GEO"}getType(){return"chartAPI"}configureAttributes(e){let t,a=this,i=a.getChildren("colorPalette")&&a.getChildren("colorPalette")[0];t=e.chart=e.chart||e.graph||e.map||{},a.jsonData=e,Object(n["M"])(a,qt["a"],"mapAnnotations"),i||(i=new Pn(this.colorPaletteMap,(0<t.palette&&6>t.palette?t.palette:Object(n["Bb"])(a.paletteIndex,1))-1),a.attachChild(i,"colorPalette")),a.config.skipCanvasDrawing=!0,super.configureAttributes(e),a._parseBackgroundCosmetics()}parseChartAttr(e){let t,a,i,o,r,l=this,s=l.jsonData,c=s.chart||s.map,h=s.markers,d=new Pn(this.colorPaletteMap,(0<c.palette&&6>c.palette?c.palette:Object(n["Bb"])(l.paletteIndex,1))-1),g=Object(n["zb"])(c.entitybordercolor,c.bordercolor,d.plotbordercolor),b=Object(n["zb"])(c.entityfillcolor,c.fillcolor,d.plotfillcolor),p=Object(n["zb"])(c.entityfillalpha,c.fillalpha,d.plotfillalpha),u=Object(n["zb"])(c.entityfillratio,c.fillratio,d.plotfillratio),m=Object(n["zb"])(c.entityfillangle,c.fillangle,d.plotfillangle),f=Object(n["zb"])(c.nullentityfillcolor,c.nullentitycolor,b),v=Object(n["Bb"])(c.usevaluesformarkers,s.markers&&s.markers.items&&s.markers.items.length,!(s.markers&&s.markers.application&&s.markers.application.length&&s.markers.definition&&s.markers.definition.length));super.parseChartAttr(e),t=l.config,t.origMarginTop=Object(n["Bb"])(c.charttopmargin,c.maptopmargin,11),t.origMarginLeft=Object(n["Bb"])(c.chartleftmargin,c.mapleftmargin,11),t.origMarginBottom=Object(n["Bb"])(c.chartbottommargin,c.mapbottommargin,11),t.origMarginRight=Object(n["Bb"])(c.chartrightmargin,c.maprightmargin,11),t.labelsOnTop=Object(n["Bb"])(c.entitylabelsontop,1),r=t.style,a=r.inCancolor,i=r.inCanfontFamily,o=r.inCanfontSize,t.entityOpts={baseScaleFactor:t.baseScaleFactor,dataLabels:{style:{fontFamily:i,fontSize:o,lineHeight:r.inCanLineHeight,color:r.inCancolor}},fillColor:b,fillAlpha:p,fillRatio:u,fillAngle:m,borderColor:g,borderAlpha:Object(n["zb"])(c.entityborderalpha,c.borderalpha,l.borderAlpha,"100"),borderThickness:Object(n["Bb"])(c.showentityborder,c.showborder,1)?Object(n["Bb"])(c.entityborderthickness,c.borderthickness,1):0,scaleBorder:Object(n["Bb"])(c.scaleentityborder,c.scaleborder,0),hoverFillColor:Object(n["zb"])(c.entityfillhovercolor,c.hoverfillcolor,c.hovercolor,d.plothoverfillcolor),hoverFillAlpha:Object(n["zb"])(c.entityfillhoveralpha,c.hoverfillalpha,c.hoveralpha,d.plothoverfillalpha),hoverFillRatio:Object(n["zb"])(c.entityfillhoverratio,c.hoverfillratio,c.hoverratio,d.plothoverfillratio),hoverFillAngle:Object(n["zb"])(c.entityfillhoverangle,c.hoverfillangle,c.hoverangle,d.plothoverfillangle),hoverBorderThickness:Object(n["zb"])(c.entityborderhoverthickness,c.hoverborderthickness),hoverBorderColor:Object(n["zb"])(c.entityborderhovercolor,g,d.plotbordercolor),hoverBorderAlpha:Object(n["zb"])(c.entityborderhoveralpha,d.plotborderalpha),nullEntityColor:f,nullEntityAlpha:Object(n["zb"])(c.nullentityfillalpha,c.nullentityalpha,p),nullEntityRatio:Object(n["zb"])(c.nullentityfillratio,c.nullentityratio,u),nullEntityAngle:Object(n["zb"])(c.nullentityfillangle,c.nullentityangle,m),connectorColor:Object(n["zb"])(c.labelconnectorcolor,c.connectorcolor,a),connectorAlpha:Object(n["zb"])(c.labelconnectoralpha,c.connectoralpha,"100"),connectorThickness:Object(n["Bb"])(c.labelconnectorthickness,c.borderthickness,1),showHoverEffect:Object(n["Bb"])(c.showentityhovereffect,c.usehovercolor,c.showhovereffect,1),hoverOnNull:Object(n["Bb"])(c.hoveronnull,c.entityhoveronnull,1),labelPadding:Object(n["Bb"])(c.labelpadding,5),showLabels:Object(n["Bb"])(c.showlabels,1),labelsOnTop:Object(n["Bb"])(c.entitylabelsontop,1),includeNameInLabels:Object(n["Bb"])(c.includenameinlabels,1),includeValueInLabels:Object(n["Bb"])(c.includevalueinlabels,0),useSNameInTooltip:Object(n["Bb"])(c.usesnameintooltip,0),useShortName:Object(n["Bb"])(c.usesnameinlabels,1),labelSepChar:Object(n["zb"])(c.labelsepchar,kn),showTooltip:Object(n["Bb"])(c.showentitytooltip,c.showtooltip,1),tooltipSepChar:Object(n["zb"])(c.tooltipsepchar,", "),tooltext:c.entitytooltext,hideNullEntities:Object(n["Bb"])(c.hidenullentities,0),showHiddenEntityBorder:Object(n["Bb"])(c.showhiddenentityborder,1),showNullEntityBorder:Object(n["Bb"])(c.shownullentityborder,1),hiddenEntityColor:Object(n["zb"])(c.hiddenentitycolor,c.hiddenentityfillcolor,c.hiddenentityalpha||c.hiddenentityfillalpha?f:"ffffff"),hiddenEntityAlpha:Object(n["zb"])(c.hiddenentityalpha,c.hiddenentityfillalpha,.001),shadow:Object(n["Bb"])(c.showshadow,l.defaultPlotShadow,d.shadow)},t.markerOpts={dataLabels:{style:{fontFamily:Object(n["zb"])(c.markerfont,i),fontSize:Object(n["Bb"])(c.markerfontsize,parseInt(o,10)),fontColor:Object(n["zb"])(c.markerfontcolor,a)}},showTooltip:Object(n["Bb"])(c.showmarkertooltip,c.showtooltip,1),showLabels:Object(n["Bb"])(c.showmarkerlabels,c.showlabels,1),showHoverEffect:Object(n["Bb"])(c.showmarkerhovereffect,1),labelPadding:Object(n["zb"])(c.markerlabelpadding,"5"),labelWrapWidth:Object(n["Bb"])(c.markerlabelwrapwidth,0),labelWrapHeight:Object(n["Bb"])(c.markerlabelwrapheight,0),fillColor:Object(n["zb"])(c.markerfillcolor,c.markerbgcolor,d.markerfillcolor),fillAlpha:Object(n["zb"])(c.markerfillalpha,d.markerfillalpha),fillAngle:Object(n["zb"])(c.markerfillangle,d.markerfillangle),fillRatio:Object(n["zb"])(c.markerfillratio,d.markerfillratio),fillPattern:Object(n["zb"])(c.markerfillpattern,d.markerbgpattern),hoverFillColor:c.markerfillhovercolor,hoverFillAlpha:c.markerfillhoveralpha,hoverFillRatio:c.markerfillhoverratio,hoverFillAngle:c.markerfillhoverangle,borderThickness:Object(n["zb"])(c.markerborderthickness,1),borderColor:Object(n["zb"])(c.markerbordercolor,d.markerbordercolor),borderAlpha:Object(n["Bb"])(c.markerborderalpha,d.markerborderalpha),hoverBorderThickness:c.markerborderhoverthickness,hoverBorderColor:c.markerborderhovercolor,hoverBorderAlpha:c.markerborderhoveralpha,radius:Object(n["Bb"])(c.markerradius&&Object(n["Ob"])(c.markerradius),7),shapeId:Object(n["zb"])(c.defaultmarkershape,Fn),labelSepChar:Object(n["zb"])(c.labelsepchar,kn),tooltipSepChar:Object(n["zb"])(c.tooltipsepchar,", "),autoScale:Object(n["Bb"])(c.autoscalemarkers,0),tooltext:Object(n["zb"])(h&&h.tooltext,c.markertooltext),dataEnabled:v,valueToRadius:Object(n["Bb"])(c.markerradiusfromvalue,1),valueMarkerAlpha:Object(n["zb"])(c.valuemarkeralpha,"75"),hideNull:Object(n["Bb"])(c.hidenullmarkers,0),nullRadius:Object(n["Bb"])(c.nullmarkerradius,c.markerradius,7),adjustViewPort:Object(n["Bb"])(c.adjustviewportformarkers,0),startAngle:Object(n["Bb"])(c.markerstartangle,90),maxRadius:Object(n["Bb"])(c.maxmarkerradius,0),minRadius:Object(n["Bb"])(c.minmarkerradius,0),applyAll:Object(n["Bb"])(c.applyallmarkers,0),shadow:Object(n["Bb"])(c.showmarkershadow,c.showshadow,0)},t.connectorOpts={showHoverEffect:Object(n["Bb"])(c.showconnectorhovereffect,1),thickness:Object(n["Bb"])(c.connectorthickness,c.markerconnthickness,"2"),color:Object(n["zb"])(c.connectorcolor,c.markerconncolor,d.markerbordercolor),alpha:Object(n["zb"])(c.connectoralpha,c.markerconnalpha,"100"),hoverThickness:Object(n["Bb"])(c.connectorhoverthickness,c.connectorthickness,c.markerconnthickness,"2"),hoverColor:Object(n["zb"])(c.connectorhovercolor,c.connectorcolor,c.markerconncolor,d.markerbordercolor),hoverAlpha:Object(n["zb"])(c.connectorhoveralpha,c.connectoralpha,c.markerconnalpha,"100"),dashed:Object(n["Bb"])(c.connectordashed,c.markerconndashed,0),dashLen:Object(n["Bb"])(c.connectordashlen,c.markerconndashlen,3),dashGap:Object(n["Bb"])(c.connectordashgap,c.markerconndashgap,2),font:Object(n["zb"])(c.connectorfont,c.markerconnfont,i),fontColor:Object(n["zb"])(c.connectorfontcolor,c.markerconnfontcolor,a),fontSize:Object(n["Bb"])(c.connectorfontsize,c.markerconnfontsize,parseInt(o,10)),showLabels:Object(n["Bb"])(c.showconnectorlabels,c.showmarkerlabels,c.showlabels,1),labelBgColor:Object(n["zb"])(c.connectorlabelbgcolor,c.markerconnlabelbgcolor,d.plotfillcolor),labelBorderColor:Object(n["zb"])(c.connectorlabelbordercolor,c.markerconnlabelbordercolor,d.markerbordercolor),shadow:Object(n["Bb"])(c.showconnectorshadow,c.showmarkershadow,c.showshadow,0),showTooltip:Object(n["Bb"])(c.showconnectortooltip,c.showmarkertooltip,c.showtooltip,1),tooltext:Object(n["zb"])(h&&h.connectortooltext,c.connectortooltext),hideOpen:Object(n["Bb"])(c.hideopenconnectors,1)},t.adjustViewPortForMarkers=Object(n["Bb"])(c.adjustviewportformarkers,v)}_attachMouseEvents(){let e=this,t=e.getFromEnv("eventListeners"),a=e.getFromEnv("chart-container");Lt["a"].unlisten(a,n["jb"]?"touchstart":"mousemove",_n.searchMouseMove),t.push(Lt["a"].listen(a,"touchstart mousemove",_n.searchMouseMove,e))}static searchMouseMove(e){let t,a=e.data,i=a.config,n={};!a.getFromEnv("chart-container")||(t=En(e,a))&&t.insideCanvas&&(i.lastMouseEvent=e,n={x:t.chartX,y:t.chartY},a._searchNearestNeighbour(n))}_searchNearestNeighbour(e){let t,a=this,i=a.getDatasets(),n=i[1];if(n){if(!n.components.kDTree)return;t=n.getElement(e),t?a.config.lastHoveredPoint!==t&&n.highlightPoint(t):n.highlightPoint(!1)}}_createLayers(){super._createLayers(),this._attachMouseEvents()}_parseBackgroundCosmetics(){let e,t=this,a=t.getChildren("background")[0],i=a.config,o=t.getChildren("colorPalette")[0],r=t.getFromEnv("chart-attrib");e=i.showBorder=Object(n["Bb"])(r.showcanvasborder,1),i.borderWidth=e?Object(n["Bb"])(r.canvasborderthickness,1):0,i.borderRadius=i.borderRadius=Object(n["Bb"])(r.canvasborderradius,0),i.borderDashStyle=i.borderDashStyle=Object(n["Bb"])(r.borderdashed,0)?Object(n["Y"])(Object(n["Bb"])(r.borderdashlen,4),Object(n["Bb"])(r.borderdashgap,2)):wn,i.borderAlpha=Object(n["zb"])(r.canvasborderalpha,o.borderAlpha),i.borderColor=i.borderColor=Object(s["c"])(Object(n["zb"])(r.canvasbordercolor,o&&o.borderColor),i.borderAlpha)}_getBackgroundCosmetics(){let e=this,t=e.getFromEnv("chart-attrib")||e.jsonData.map,a=e.getChildren("colorPalette")[0];return{FCcolor:{color:Object(n["zb"])(t.bgcolor,t.canvasbgcolor,a.bgcolor),alpha:Object(n["zb"])(t.bgalpha,t.canvasbgalpha,a.bgalpha),angle:Object(n["zb"])(t.bgangle,t.canvasbgangle,a.bgangle),ratio:Object(n["zb"])(t.bgratio,t.canvasbgratio,a.bgratio)}}}_parseCanvasCosmetics(){super._parseCanvasCosmetics();let e=this,t=e.config,a=e.getFromEnv("chart-attrib")||e.jsonData.map,i=e.getChildren("canvas")[0].config;t.origMarginTop=Object(n["Bb"])(a.maptopmargin,11),t.origMarginLeft=Object(n["Bb"])(a.mapleftmargin,11),t.origMarginBottom=Object(n["Bb"])(a.mapbottommargin,11),t.origMarginRight=Object(n["Bb"])(a.maprightmargin,11),t.origCanvasLeftMargin=Object(n["Bb"])(a.canvasleftmargin,0),t.origCanvasRightMargin=Object(n["Bb"])(a.canvasrightmargin,0),t.origCanvasTopMargin=Object(n["Bb"])(a.canvastopmargin,0),t.origCanvasBottomMargin=Object(n["Bb"])(a.canvasbottommargin,0),i.canvasBorderRadius=Object(n["Bb"])(a.canvasborderradius,0),i.origCanvasTopPad=Object(n["Bb"])(a.canvastoppadding,0),i.origCanvasBottomPad=Object(n["Bb"])(a.canvasbottompadding,0),i.origCanvasLeftPad=Object(n["Bb"])(a.canvasleftpadding,0),i.origCanvasRightPad=Object(n["Bb"])(a.canvasrightpadding,0)}preliminaryScaling(){let e,t,a,i=this,n=i.jsonData,o=n.markers&&n.markers.items||[],r=o&&o.length||0,l=1/0,s=1/0,c=-1/0,h=-1/0;for(;r--;)a=o[r],e=+a.x,t=+a.y,l=Tn(l,e),s=Tn(s,t),c=Bn(c,e),h=Bn(h,t);return{x:l,y:s,x1:c,y1:h}}getScalingParameters(e,t,a,i){let n,o,r=this,l=e/t,s=a/(e*r.config.baseScaleFactor),c=i/(t*r.config.baseScaleFactor),h=0,d=0;return s>c?(n=c,h+=(a-i*l)/2,o=200/(t*n)):(n=s,d+=(i-a/l)/2,o=200/(e*n)),{scaleFactor:n,strokeWidth:o,translateX:h,translateY:d}}calculateMarkerBounds(e,t,a){let i,n,o,r,l,s,c,h,d,g,b,p,u,m,f=this,v=f.config,x=v.markerOpts,y=f.getDatasets(),C=f.getDataLimits(),O=C.dataMin,L=C.dataMax,w=x.hideNull,k=x.nullRadius,j=x.valueToRadius,A=1/0,F=1/0,S=-1/0,T=-1/0;for(s=0,d=y.length;s<d;s++)h=y[s],c=h.getName(),"markers"===c&&(i=h);if(i)for(s in i.calculateMarkerRadiusLimits(),n=i.config||{},o=n.minRadius,r=n.maxRadius,l=i.components&&i.components.markerObjs||{},l)m=l[s],v=m.config,u=v.definition||{},null!==v.cleanValue?(j&&u.radius===xn&&(v.radius=o+(r-o)*(v.cleanValue-O)/(L-O)),p=+v.radius,g=(+u.x+t)*e,b=(+u.y+a)*e,A=Tn(A,g-p),F=Tn(F,b-p),S=Bn(S,g+p),T=Bn(T,b+p)):w?v.__hideMarker=!0:null===v.radius&&(v.radius=k);return{x:A,y:F,x1:S,y1:T}}_spaceManager(){let e,t,a,i,o,r,l,s,c,h=this,d=h.config,g=h.getChildren("legend")&&h.getChildren("legend")[0],b=g&&g.config.legendPos,p=h.getFromEnv("chart-attrib"),u=d.showBorder,m=d.origMarginLeft,f=d.origMarginTop,v=h.config.baseWidth,x=h.config.baseHeight,y={},C=0,O=0,L=d.markerOpts,w=d.borderWidth=u?Object(n["Bb"])(p.borderthickness,1):0;h._allocateSpace({top:w,bottom:w,left:w,right:w}),h._allocateSpace(h._manageActionBarSpace&&h._manageActionBarSpace(.225*d.availableHeight)||{}),s="right"===b?.3*d.canvasWidth:.3*d.canvasHeight,d.showLegend&&h._manageLegendSpace(s),e=b===An?.225*d.canvasHeight:.225*d.canvasWidth,c=h._manageChartMenuBar(e),a=d.canvasWidth,i=d.canvasHeight,L.dataEnabled?(d.adjustViewPortForMarkers?(y=h.preliminaryScaling(),y.x1>v&&(v=y.x1),0>y.x&&(v+=-y.x,C=-y.x),y.y1>x&&(x=y.y1),0>y.y&&(x+=-y.y,O=-y.y),t=h.getScalingParameters(v,x,a,i),y=h.calculateMarkerBounds(t.scaleFactor*h.config.baseScaleFactor,C,O),r=i,l=a,0>y.x&&(m+=-y.x,a+=y.x),0>y.y&&(f+=-y.y,i+=y.y),y.x1>l&&(a-=y.x1-l),y.y1>r&&(i-=y.y1-r)):(t=h.getScalingParameters(v,x,a,i),h.calculateMarkerBounds(t.scaleFactor*h.config.baseScaleFactor,C,O)),t=h.getScalingParameters(v,x,a,i),m+=C*t.scaleFactor*h.config.baseScaleFactor,f+=O*t.scaleFactor*h.config.baseScaleFactor):t=h.getScalingParameters(v,x,a,i),h.config.scalingParams=t,o=t.scaleFactor,t.translateX+=m,t.translateY=t.translateY+f+c.top||0,t.sFactor=o*h.config.baseScaleFactor*100/100,t.transformStr=["t",t.translateX,",",t.translateY,"s",o,",",o,",0,0"].join(""),h.config.annotationConfig={id:"Geo",showbelow:0,autoscale:0,grpxshift:t.translateX?t.translateX:0,grpyshift:t.translateY?t.translateY:0,xscale:100*(o?o*h.config.baseScaleFactor:1),yscale:100*(o?o*h.config.baseScaleFactor:1),scaletext:1,options:{useTracker:!0}},h.getChildren("mapAnnotations")[0].clear(),h.getChildren("mapAnnotations")[0].configureAttributes()}getDataLimits(){let e,t,a,i=this,n=i.getDatasets(),o=n.length,r=1/0,l=-1/0;for(a=0;a<o;a++)e=n[a],t=e.getDataLimits(),r=Tn(r,t.min),l=Bn(l,t.max);return{dataMin:r,dataMax:l}}getEntityPaths(e){let t,a={},i=this.config.entities;if(e){for(t in i)a[t]=i[t];return a}return i}checkComplete(){let e=this;e.config.entityFlag&&e.config.entitiesReady&&(e.config.entityFlag=!1,e.config.markersDrawn=!0,e.fireChartInstanceEvent("internal.mapdrawingcomplete",{renderer:e}))}}var Dn=_n;a.d(t,"Maps",function(){return Dn});t["default"]={name:"maps",type:"package",requiresFusionCharts:!0,extension:e=>e.addDep(Dn)}},d96b:function(e,t){function a(e){var t=String(e).match(/^function (\w*)/);return null==t?"":t[1]}e.exports=a}}]);